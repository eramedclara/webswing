/*! Webswing version 2.6.5 (2.6.5)*/

/*
 RequireJS 2.1.15 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/

/*! jQuery v2.2.1 | (c) jQuery Foundation | jquery.org/license */

/**
 * @license RequireJS i18n 2.0.6 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/i18n for details
 */

/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   2.0.0
 */

/*
 Copyright (c) 2010, Linden Research, Inc.
 Copyright (c) 2014, Joshua Bell

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 $/LicenseInfo$
 */

/*
 Long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 Released under the Apache License, Version 2.0
 see: https://github.com/dcodeIO/Long.js for details
*/

/*
 ByteBuffer.js (c) 2013-2014 Daniel Wirtz <dcode@dcode.io>
 This version of ByteBuffer.js uses an ArrayBuffer (AB) as its backing buffer and is compatible with modern browsers.
 Released under the Apache License, Version 2.0
 see: https://github.com/dcodeIO/ByteBuffer.js for details
*/

/*
 ProtoBuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 Released under the Apache License, Version 2.0
 see: https://github.com/dcodeIO/ProtoBuf.js for details
*/

/**
 * @license RequireJS text 2.0.12 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*
 * Copyright 2018 Async-IO.org
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/*
 * jQuery Iframe Transport Plugin 1.8.2
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */

/*!
 * jQuery UI Widget 1.10.4+amd
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */

/*
 * jQuery File Upload Plugin 5.40.3
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */

/*! Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */

try{var webswingRequirejs;(function(){if(!webswingRequirejs||!webswingRequirejs.requirejs){webswingRequirejs?require=webswingRequirejs:webswingRequirejs={};var requirejs,require,define;(function(ba){function G(e){return"[object Function]"===K.call(e)}function H(e){return"[object Array]"===K.call(e)}function v(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function T(e,t){if(e){var n;for(n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));n-=1);}}function t(e,t){return fa.call(e,t)}function m(e,n){return t(e,n)&&e[n]}function B(e,n){for(var r in e)if(t(e,r)&&n(e[r],r))break}function U(e,n,r,i){return n&&B(n,function(n,s){if(r||!t(e,s))i&&"object"==typeof n&&n&&!H(n)&&!G(n)&&!(n instanceof RegExp)?(e[s]||(e[s]={}),U(e[s],n,r,i)):e[s]=n}),e}function u(e,t){return function(){return t.apply(e,arguments)}}function ca(e){throw e}function da(e){if(!e)return e;var t=ba;return v(e.split("."),function(e){t=t[e]}),t}function C(e,t,n,r){return t=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e),t.requireType=e,t.requireModules=r,n&&(t.originalError=n),t}function ga(e){function n(e,t,n){var r,i,s,o,u,a,f,l,t=t&&t.split("/"),c=A.map,h=c&&c["*"];if(e){e=e.split("/"),i=e.length-1,A.nodeIdCompat&&Q.test(e[i])&&(e[i]=e[i].replace(Q,"")),"."===e[0].charAt(0)&&t&&(i=t.slice(0,t.length-1),e=i.concat(e)),i=e;for(s=0;s<i.length;s++)(o=i[s],"."===o)?(i.splice(s,1),s-=1):".."===o&&0!==s&&(1!=s||".."!==i[2])&&".."!==i[s-1]&&0<s&&(i.splice(s-1,2),s-=2);e=e.join("/")}if(n&&c&&(t||h)){i=e.split("/"),s=i.length;e:for(;0<s;s-=1){u=i.slice(0,s).join("/");if(t)for(o=t.length;0<o;o-=1)if(n=m(c,t.slice(0,o).join("/")))if(n=m(n,u)){r=n,a=s;break e}!f&&h&&m(h,u)&&(f=m(h,u),l=s)}!r&&f&&(r=f,a=l),r&&(i.splice(0,a,r),e=i.join("/"))}return(r=m(A.pkgs,e))?r:e}function r(e){z&&v(document.getElementsByTagName("script"),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===x.contextName)return t.parentNode.removeChild(t),!0})}function i(e){var t=m(A.paths,e);if(t&&H(t)&&1<t.length)return t.shift(),x.require.undef(e),x.makeRequire(null,{skipMap:!0})([e]),!0}function s(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function o(e,t,r,i){var o,u,a=null,f=t?t.name:null,l=e,c=!0,h="";return e||(c=!1,e="_@r"+(q+=1)),e=s(e),a=e[0],e=e[1],a&&(a=n(a,f,i),u=m(j,a)),e&&(a?h=u&&u.normalize?u.normalize(e,function(e){return n(e,f,i)}):-1===e.indexOf("!")?n(e,f,i):e:(h=n(e,f,i),e=s(h),a=e[0],h=e[1],r=!0,o=x.nameToUrl(h))),r=a&&!u&&!r?"_unnormalized"+(W+=1):"",{prefix:a,name:h,parentMap:t,unnormalized:!!r,url:o,originalName:l,isDefine:c,id:(a?a+"!"+h:h)+r}}function a(e){var t=e.id,n=m(O,t);return n||(n=O[t]=new x.Module(e)),n}function f(e,n,r){var i=e.id,s=m(O,i);t(j,i)&&(!s||s.defineEmitComplete)?"defined"===n&&r(j[i]):(s=a(e),s.error&&"error"===n)?r(s.error):s.on(n,r)}function l(e,t){var n=e.requireModules,r=!1;t?t(e):(v(n,function(t){if(t=m(O,t))t.error=e,t.events.error&&(r=!0,t.emit("error",e))}),!r)&&g.onError(e)}function c(){R.length&&(ha.apply(P,[P.length,0].concat(R)),R=[])}function h(e){delete O[e],delete _[e]}function p(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,v(e.depMaps,function(r,i){var s=r.id,o=m(O,s);o&&!e.depMatched[i]&&!n[s]&&(m(t,s)?(e.defineDep(i,j[s]),e.check()):p(o,t,n))}),n[r]=!0)}function d(){var e,t,n=(e=1e3*A.waitSeconds)&&x.startTime+e<(new Date).getTime(),s=[],o=[],u=!1,a=!0;if(!E){E=!0,B(_,function(e){var f=e.map,l=f.id;if(e.enabled&&(f.isDefine||o.push(e),!e.error))if(!e.inited&&n)i(l)?u=t=!0:(s.push(l),r(l));else if(!e.inited&&e.fetched&&f.isDefine&&(u=!0,!f.prefix))return a=!1});if(n&&s.length)return e=C("timeout","Load timeout for modules: "+s,null,s),e.contextName=x.contextName,l(e);a&&v(o,function(e){p(e,{},{})}),(!n||t)&&u&&(z||ea)&&!L&&(L=setTimeout(function(){L=0,d()},50)),E=!1}}function y(e){t(j,e[0])||a(o(e[0],null,!0)).init(e[1],e[2])}function b(e){var e=e.currentTarget||e.srcElement,t=x.onScriptLoad;return e.detachEvent&&!Y?e.detachEvent("onreadystatechange",t):e.removeEventListener("load",t,!1),t=x.onScriptError,(!e.detachEvent||Y)&&e.removeEventListener("error",t,!1),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function w(){var e;for(c();P.length;){e=P.shift();if(null===e[0])return l(C("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));y(e)}}var E,S,x,k,L,A={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},O={},_={},D={},P=[],j={},F={},I={},q=1,W=1;return k={require:function(e){return e.require?e.require:e.require=x.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?j[e.map.id]=e.exports:e.exports=j[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return m(A.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},S=function(e){this.events=m(D,e.id)||{},this.map=e,this.shim=m(A.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},S.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=u(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,x.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();x.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;F[e]||(F[e]=!0,x.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id;t=this.depExports;var r=this.exports,i=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(G(i)){if(this.events.error&&this.map.isDefine||g.onError!==ca)try{r=x.execCb(n,i,t,r)}catch(s){e=s}else r=x.execCb(n,i,t,r);this.map.isDefine&&void 0===r&&((t=this.module)?r=t.exports:this.usingExports&&(r=this.exports));if(e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",l(this.error=e)}else r=i;this.exports=r,this.map.isDefine&&!this.ignore&&(j[n]=r,g.onResourceLoad)&&g.onResourceLoad(x,this.map,this.depMaps),h(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,r=e.id,i=o(e.prefix);this.depMaps.push(i),f(i,"defined",u(this,function(i){var s,c;c=m(I,this.map.id);var p=this.map.name,d=this.map.parentMap?this.map.parentMap.name:null,v=x.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){if(i.normalize&&(p=i.normalize(p,function(e){return n(e,d,!0)})||""),i=o(e.prefix+"!"+p,this.map.parentMap),f(i,"defined",u(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),c=m(O,i.id))this.depMaps.push(i),this.events.error&&c.on("error",u(this,function(e){this.emit("error",e)})),c.enable()}else c?(this.map.url=x.nameToUrl(c),this.load()):(s=u(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),s.error=u(this,function(e){this.inited=!0,this.error=e,e.requireModules=[r],B(O,function(e){0===e.map.id.indexOf(r+"_unnormalized")&&h(e.map.id)}),l(e)}),s.fromText=u(this,function(n,i){var u=e.name,f=o(u),c=M;i&&(n=i),c&&(M=!1),a(f),t(A.config,r)&&(A.config[u]=A.config[r]);try{g.exec(n)}catch(h){return l(C("fromtexteval","fromText eval for "+r+" failed: "+h,h,[r]))}c&&(M=!0),this.depMaps.push(f),x.completeLoad(u),v([u],s)}),i.load(e.name,v,s,A))})),x.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){_[this.map.id]=this,this.enabling=this.enabled=!0,v(this.depMaps,u(this,function(e,n){var r,i;if("string"==typeof e){e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[n]=e;if(r=m(k,e.id)){this.depExports[n]=r(this);return}this.depCount+=1,f(e,"defined",u(this,function(e){this.defineDep(n,e),this.check()})),this.errback&&f(e,"error",u(this,this.errback))}r=e.id,i=O[r],!t(k,r)&&i&&!i.enabled&&x.enable(e,this)})),B(this.pluginMaps,u(this,function(e){var t=m(O,e.id);t&&!t.enabled&&x.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){v(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},x={config:A,contextName:e,registry:O,defined:j,urlFetched:F,defQueue:P,Module:S,makeModuleMap:o,nextTick:g.nextTick,onError:l,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=A.shim,n={paths:!0,bundles:!0,config:!0,map:!0};B(e,function(e,t){n[t]?(A[t]||(A[t]={}),U(A[t],e,!0,!0)):A[t]=e}),e.bundles&&B(e.bundles,function(e,t){v(e,function(e){e!==t&&(I[e]=t)})}),e.shim&&(B(e.shim,function(e,n){H(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=x.makeShimExports(e)),t[n]=e}),A.shim=t),e.packages&&v(e.packages,function(e){var t,e="string"==typeof e?{name:e}:e;t=e.name,e.location&&(A.paths[t]=e.location),A.pkgs[t]=e.name+"/"+(e.main||"main").replace(ia,"").replace(Q,"")}),B(O,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=o(t))}),(e.deps||e.callback)&&x.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(ba,arguments)),t||e.exports&&da(e.exports)}},makeRequire:function(i,s){function u(n,r,f){var c,h;return s.enableBuildCallback&&r&&G(r)&&(r.__requireJsBuild=!0),"string"==typeof n?G(r)?l(C("requireargs","Invalid require call"),f):i&&t(k,n)?k[n](O[i.id]):g.get?g.get(x,n,i,u):(c=o(n,i,!1,!0),c=c.id,t(j,c)?j[c]:l(C("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(i?"":". Use require([])")))):(w(),x.nextTick(function(){w(),h=a(o(null,i)),h.skipMap=s.skipMap,h.init(n,r,f,{enabled:!0}),d()}),u)}return s=s||{},U(u,{isBrowser:z,toUrl:function(e){var t,r=e.lastIndexOf("."),s=e.split("/")[0];return-1!==r&&("."!==s&&".."!==s||1<r)&&(t=e.substring(r,e.length),e=e.substring(0,r)),x.nameToUrl(n(e,i&&i.id,!0),t,!0)},defined:function(e){return t(j,o(e,i,!1,!0).id)},specified:function(e){return e=o(e,i,!1,!0).id,t(j,e)||t(O,e)}}),i||(u.undef=function(e){c();var t=o(e,i,!0),n=m(O,e);r(e),delete j[e],delete F[t.url],delete D[e],T(P,function(t,n){t[0]===e&&P.splice(n,1)}),n&&(n.events.defined&&(D[e]=n.events),h(e))}),u},enable:function(e){m(O,e.id)&&a(e).enable()},completeLoad:function(e){var n,r,s=m(A.shim,e)||{},o=s.exports;for(c();P.length;){r=P.shift();if(null===r[0]){r[0]=e;if(n)break;n=!0}else r[0]===e&&(n=!0);y(r)}r=m(O,e);if(!n&&!t(j,e)&&r&&!r.inited){if(A.enforceDefine&&(!o||!da(o)))return i(e)?void 0:l(C("nodefine","No define call for "+e,null,[e]));y([e,s.deps||[],s.exportsFn])}d()},nameToUrl:function(e,t,n){var r,i,s;(r=m(A.pkgs,e))&&(e=r);if(r=m(I,e))return x.nameToUrl(r,t,n);if(g.jsExtRegExp.test(e))r=e+(t||"");else{r=A.paths,e=e.split("/");for(i=e.length;0<i;i-=1)if(s=e.slice(0,i).join("/"),s=m(r,s)){H(s)&&(s=s[0]),e.splice(0,i,s);break}r=e.join("/"),r+=t||(/^data\:|\?/.test(r)||n?"":".js"),r=("/"===r.charAt(0)||r.match(/^[\w\+\.\-]+:/)?"":A.baseUrl)+r}return A.urlArgs?r+((-1===r.indexOf("?")?"?":"&")+A.urlArgs):r},load:function(e,t){g.load(x,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||ja.test((e.currentTarget||e.srcElement).readyState))N=null,e=b(e),x.completeLoad(e.id)},onScriptError:function(e){var t=b(e);if(!i(t.id))return l(C("scripterror","Script error for: "+t.id,e,[t.id]))}},x.require=x.makeRequire(),x}var g,x,y,D,I,E,N,J,s,O,ka=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,la=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,Q=/\.js$/,ia=/^\.\//;x=Object.prototype;var K=x.toString,fa=x.hasOwnProperty,ha=Array.prototype.splice,z="undefined"!=typeof window&&"undefined"!=typeof navigator&&!!window.document,ea=!z&&"undefined"!=typeof importScripts,ja=z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),F={},q={},R=[],M=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(G(requirejs))return;q=requirejs,requirejs=void 0}"undefined"!=typeof require&&!G(require)&&(q=require,require=void 0),g=requirejs=function(e,t,n,r){var i,s="_";return!H(e)&&"string"!=typeof e&&(i=e,H(t)?(e=t,t=n,n=r):e=[]),i&&i.context&&(s=i.context),(r=m(F,s))||(r=F[s]=g.s.newContext(s)),i&&r.configure(i),r.require(e,t,n)},g.config=function(e){return g(e)},g.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=g),g.version="2.1.15",g.jsExtRegExp=/^\/|:|\?|\.js$/,g.isBrowser=z,x=g.s={contexts:F,newContext:ga},g({}),v(["toUrl","undef","defined","specified"],function(e){g[e]=function(){var t=F._;return t.require[e].apply(t,arguments)}}),z&&(y=x.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0])&&(y=x.head=D.parentNode),g.onError=ca,g.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},g.load=function(e,t,n){var r=e&&e.config||{};if(z)return r=g.createNode(r,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),r.attachEvent&&!(r.attachEvent.toString&&0>r.attachEvent.toString().indexOf("[native code"))&&!Y?(M=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)):(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)),r.src=n,J=r,D?y.insertBefore(r,D):y.appendChild(r),J=null,r;if(ea)try{importScripts(n),e.completeLoad(t)}catch(i){e.onError(C("importscripts","importScripts failed for "+t+" at "+n,i,[t]))}},z&&!q.skipDataMain&&T(document.getElementsByTagName("script"),function(e){y||(y=e.parentNode);if(I=e.getAttribute("data-main"))return s=I,q.baseUrl||(E=s.split("/"),s=E.pop(),O=E.length?E.join("/")+"/":"./",q.baseUrl=O),s=s.replace(Q,""),g.jsExtRegExp.test(s)&&(s=I),q.deps=q.deps?q.deps.concat(s):[s],!0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),H(t)||(n=t,t=null),!t&&G(n)&&(t=[],n.length&&(n.toString().replace(ka,"").replace(la,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),M&&((r=J)||(N&&"interactive"===N.readyState||T(document.getElementsByTagName("script"),function(e){if("interactive"===e.readyState)return N=e}),r=N),r&&(e||(e=r.getAttribute("data-requiremodule")),i=F[r.getAttribute("data-requirecontext")])),(i?i.defQueue:R).push([e,t,n])},define.amd={jQuery:!0},g.exec=function(b){return eval(b)},g(q)}})(this),webswingRequirejs.requirejs=requirejs,webswingRequirejs.require=require,webswingRequirejs.define=define}})(),webswingRequirejs.define("requireLib",function(){}),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(a,b){function s(e){var t=!!e&&"length"in e&&e.length,r=n.type(e);return"function"===r||n.isWindow(e)?!1:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e}function z(e,t,r){if(n.isFunction(t))return n.grep(e,function(e,n){return!!t.call(e,n,e)!==r});if(t.nodeType)return n.grep(e,function(e){return e===t!==r});if("string"==typeof t){if(y.test(t))return n.filter(t,e,r);t=n.filter(t,e)}return n.grep(e,function(e){return h.call(t,e)>-1!==r})}function F(e,t){while((e=e[t])&&1!==e.nodeType);return e}function H(e){var t={};return n.each(e.match(G)||[],function(e,n){t[n]=!0}),t}function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}function M(){this.expando=n.expando+M.uid++}function R(e,t,r){var i;if(void 0===r&&1===e.nodeType)if(i="data-"+t.replace(Q,"-$&").toLowerCase(),r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:P.test(r)?n.parseJSON(r):r}catch(s){}O.set(e,t,r)}else r=void 0;return r}function W(e,t,r,i){var s,o=1,u=20,a=i?function(){return i.cur()}:function(){return n.css(e,t,"")},f=a(),l=r&&r[3]||(n.cssNumber[t]?"":"px"),c=(n.cssNumber[t]||"px"!==l&&+f)&&T.exec(n.css(e,t));if(c&&c[3]!==l){l=l||c[3],r=r||[],c=+f||1;do o=o||".5",c/=o,n.style(e,t,c+l);while(o!==(o=a()/f)&&1!==o&&--u)}return r&&(c=+c||+f||0,s=r[1]?c+(r[1]+1)*r[2]:+r[2],i&&(i.unit=l,i.start=c,i.end=s)),s}function _(e,t){var r="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&n.nodeName(e,t)?n.merge([e],r):r}function aa(e,t){for(var n=0,r=e.length;r>n;n++)N.set(e[n],"globalEval",!t||N.get(t[n],"globalEval"))}function ca(e,t,r,i,s){for(var o,u,a,f,l,c,h=t.createDocumentFragment(),p=[],d=0,v=e.length;v>d;d++)if(o=e[d],o||0===o)if("object"===n.type(o))n.merge(p,o.nodeType?[o]:o);else if(ba.test(o)){u=u||h.appendChild(t.createElement("div")),a=(Y.exec(o)||["",""])[1].toLowerCase(),f=$[a]||$._default,u.innerHTML=f[1]+n.htmlPrefilter(o)+f[2],c=f[0];while(c--)u=u.lastChild;n.merge(p,u.childNodes),u=h.firstChild,u.textContent=""}else p.push(t.createTextNode(o));h.textContent="",d=0;while(o=p[d++])if(i&&n.inArray(o,i)>-1)s&&s.push(o);else if(l=n.contains(o.ownerDocument,o),u=_(h.appendChild(o),"script"),l&&aa(u),r){c=0;while(o=u[c++])Z.test(o.type||"")&&r.push(o)}return h}function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(e){}}function ja(e,t,r,i,s,o){var u,a;if("object"==typeof t){"string"!=typeof r&&(i=i||r,r=void 0);for(a in t)ja(e,a,r,i,t[a],o);return e}if(null==i&&null==s?(s=r,i=r=void 0):null==s&&("string"==typeof r?(s=i,i=void 0):(s=i,i=r,r=void 0)),s===!1)s=ha;else if(!s)return e;return 1===o&&(u=s,s=function(e){return n().off(e),u.apply(this,arguments)},s.guid=u.guid||(u.guid=n.guid++)),e.each(function(){n.event.add(this,t,s,i,r)})}function pa(e,t){return n.nodeName(e,"table")&&n.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function qa(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ra(e){var t=na.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function sa(e,t){var r,i,s,o,u,a,f,l;if(1===t.nodeType){if(N.hasData(e)&&(o=N.access(e),u=N.set(t,o),l=o.events)){delete u.handle,u.events={};for(s in l)for(r=0,i=l[s].length;i>r;r++)n.event.add(t,s,l[s][r])}O.hasData(e)&&(a=O.access(e),f=n.extend({},a),O.set(t,f))}}function ta(e,t){var n=t.nodeName.toLowerCase();"input"===n&&X.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function ua(e,t,r,i){t=f.apply([],t);var s,o,u,a,c,h,p=0,d=e.length,v=d-1,m=t[0],g=n.isFunction(m);if(g||d>1&&"string"==typeof m&&!l.checkClone&&ma.test(m))return e.each(function(n){var s=e.eq(n);g&&(t[0]=m.call(this,n,s.html())),ua(s,t,r,i)});if(d&&(s=ca(t,e[0].ownerDocument,!1,e,i),o=s.firstChild,1===s.childNodes.length&&(s=o),o||i)){for(u=n.map(_(s,"script"),qa),a=u.length;d>p;p++)c=s,p!==v&&(c=n.clone(c,!0,!0),a&&n.merge(u,_(c,"script"))),r.call(e[p],c,p);if(a)for(h=u[u.length-1].ownerDocument,n.map(u,ra),p=0;a>p;p++)c=u[p],Z.test(c.type||"")&&!N.access(c,"globalEval")&&n.contains(h,c)&&(c.src?n._evalUrl&&n._evalUrl(c.src):n.globalEval(c.textContent.replace(oa,"")))}return e}function va(e,t,r){for(var i,s=t?n.filter(t,e):e,o=0;null!=(i=s[o]);o++)r||1!==i.nodeType||n.cleanData(_(i)),i.parentNode&&(r&&n.contains(i.ownerDocument,i)&&aa(_(i,"script")),i.parentNode.removeChild(i));return e}function ya(e,t){var r=n(t.createElement(e)).appendTo(t.body),i=n.css(r[0],"display");return r.detach(),i}function za(e){var t=d,r=xa[e];return r||(r=ya(e,t),"none"!==r&&r||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=wa[0].contentDocument,t.write(),t.close(),r=ya(e,t),wa.detach()),xa[e]=r),r}function Fa(e,t,r){var i,s,o,u,a=e.style;return r=r||Ca(e),u=r?r.getPropertyValue(t)||r[t]:void 0,""!==u&&void 0!==u||n.contains(e.ownerDocument,e)||(u=n.style(e,t)),r&&!l.pixelMarginRight()&&Ba.test(u)&&Aa.test(t)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=u,u=r.width,a.width=i,a.minWidth=s,a.maxWidth=o),void 0!==u?u+"":u}function Ga(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function Ma(e){if(e in La)return e;var t=e[0].toUpperCase()+e.slice(1),n=Ka.length;while(n--)if(e=Ka[n]+t,e in La)return e}function Na(e,t,n){var r=T.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Oa(e,t,r,i,s){for(var o=r===(i?"border":"content")?4:"width"===t?1:0,u=0;4>o;o+=2)"margin"===r&&(u+=n.css(e,r+U[o],!0,s)),i?("content"===r&&(u-=n.css(e,"padding"+U[o],!0,s)),"margin"!==r&&(u-=n.css(e,"border"+U[o]+"Width",!0,s))):(u+=n.css(e,"padding"+U[o],!0,s),"padding"!==r&&(u+=n.css(e,"border"+U[o]+"Width",!0,s)));return u}function Pa(e,t,r){var i=!0,s="width"===t?e.offsetWidth:e.offsetHeight,o=Ca(e),u="border-box"===n.css(e,"boxSizing",!1,o);if(d.msFullscreenElement&&a.top!==a&&e.getClientRects().length&&(s=Math.round(100*e.getBoundingClientRect()[t])),0>=s||null==s){if(s=Fa(e,t,o),(0>s||null==s)&&(s=e.style[t]),Ba.test(s))return s;i=u&&(l.boxSizingReliable()||s===e.style[t]),s=parseFloat(s)||0}return s+Oa(e,t,r||(u?"border":"content"),i,o)+"px"}function Qa(e,t){for(var r,i,s,o=[],u=0,a=e.length;a>u;u++)i=e[u],i.style&&(o[u]=N.get(i,"olddisplay"),r=i.style.display,t?(o[u]||"none"!==r||(i.style.display=""),""===i.style.display&&V(i)&&(o[u]=N.access(i,"olddisplay",za(i.nodeName)))):(s=V(i),"none"===r&&s||N.set(i,"olddisplay",s?r:n.css(i,"display"))));for(u=0;a>u;u++)i=e[u],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[u]||"":"none"));return e}function Ra(e,t,n,r,i){return new Ra.prototype.init(e,t,n,r,i)}function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=U[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ya(e,t,n){for(var r,i=(_a.tweeners[t]||[]).concat(_a.tweeners["*"]),s=0,o=i.length;o>s;s++)if(r=i[s].call(n,t,e))return r}function Za(e,t,r){var i,s,o,u,a,f,l,c,h=this,p={},d=e.style,v=e.nodeType&&V(e),m=N.get(e,"fxshow");r.queue||(a=n._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,f=a.empty.fire,a.empty.fire=function(){a.unqueued||f()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,n.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],l=n.css(e,"display"),c="none"===l?N.get(e,"olddisplay")||za(e.nodeName):l,"inline"===c&&"none"===n.css(e,"float")&&(d.display="inline-block")),r.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]}));for(i in t)if(s=t[i],Ua.exec(s)){if(delete t[i],o=o||"toggle"===s,s===(v?"hide":"show")){if("show"!==s||!m||void 0===m[i])continue;v=!0}p[i]=m&&m[i]||n.style(e,i)}else l=void 0;if(n.isEmptyObject(p))"inline"===("none"===l?za(e.nodeName):l)&&(d.display=l);else{m?"hidden"in m&&(v=m.hidden):m=N.access(e,"fxshow",{}),o&&(m.hidden=!v),v?n(e).show():h.done(function(){n(e).hide()}),h.done(function(){var t;N.remove(e,"fxshow");for(t in p)n.style(e,t,p[t])});for(i in p)u=Ya(v?m[i]:0,i,h),i in m||(m[i]=u.start,v&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}}function $a(e,t){var r,i,s,o,u;for(r in e)if(i=n.camelCase(r),s=t[i],o=e[r],n.isArray(o)&&(s=o[1],o=e[r]=o[0]),r!==i&&(e[i]=o,delete e[r]),u=n.cssHooks[i],u&&"expand"in u){o=u.expand(o),delete e[i];for(r in o)r in e||(e[r]=o[r],t[r]=s)}else t[i]=s}function _a(e,t,r){var i,s,o=0,u=_a.prefilters.length,a=n.Deferred().always(function(){delete f.elem}),f=function(){if(s)return!1;for(var t=Sa||Wa(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,i=1-r,o=0,u=l.tweens.length;u>o;o++)l.tweens[o].run(i);return a.notifyWith(e,[l,i,n]),1>i&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:n.extend({},t),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},r),originalProperties:t,originalOptions:r,startTime:Sa||Wa(),duration:r.duration,tweens:[],createTween:function(t,r){var i=n.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,r=t?l.tweens.length:0;if(s)return this;for(s=!0;r>n;n++)l.tweens[n].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),c=l.props;for($a(c,l.opts.specialEasing);u>o;o++)if(i=_a.prefilters[o].call(l,e,c,l.opts))return n.isFunction(i.stop)&&(n._queueHooks(l.elem,l.opts.queue).stop=n.proxy(i.stop,i)),i;return n.map(c,Ya,l),n.isFunction(l.opts.start)&&l.opts.start.call(e,l),n.fx.timer(n.extend(f,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function fb(e){return e.getAttribute&&e.getAttribute("class")||""}function vb(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var i,s=0,o=t.toLowerCase().match(G)||[];if(n.isFunction(r))while(i=o[s++])"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(r)):(e[i]=e[i]||[]).push(r)}}function wb(e,t,r,i){function u(l){var h;return s[l]=!0,n.each(e[l]||[],function(e,n){var a=n(t,r,i);return"string"!=typeof a||o||s[a]?o?!(h=a):void 0:(t.dataTypes.unshift(a),u(a),!1)}),h}var s={},o=e===sb;return u(t.dataTypes[0])||!s["*"]&&u("*")}function xb(e,t){var r,i,s=n.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((s[r]?e:i||(i={}))[r]=t[r]);return i&&n.extend(!0,e,i),e}function yb(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while("*"===a[0])a.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}return s?(s!==a[0]&&a.unshift(s),n[s]):void 0}function zb(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function Fb(e,t,r,i){var s;if(n.isArray(t))n.each(t,function(t,n){r||Bb.test(e)?i(e,n):Fb(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,r,i)});else if(r||"object"!==n.type(t))i(e,t);else for(s in t)Fb(e+"["+s+"]",t[s],r,i)}function Lb(e){return n.isWindow(e)?e:9===e.nodeType&&e.defaultView}var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.1",n=function(e,t){return new n.fn.init(e,t)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(e,t){return t.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:e.call(this)},pushStack:function(e){var t=n.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return n.each(this,e)},map:function(e){return this.pushStack(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var e,t,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;for("boolean"==typeof u&&(l=u,u=arguments[a]||{},a++),"object"==typeof u||n.isFunction(u)||(u={}),a===f&&(u=this,a--);f>a;a++)if(null!=(e=arguments[a]))for(t in e)r=u[t],i=e[t],u!==i&&(l&&i&&(n.isPlainObject(i)||(s=n.isArray(i)))?(s?(s=!1,o=r&&n.isArray(r)?r:[]):o=r&&n.isPlainObject(r)?r:{},u[t]=n.extend(l,o,i)):void 0!==i&&(u[t]=i));return u},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===n.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!n.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){return"object"!==n.type(e)||e.nodeType||n.isWindow(e)?!1:e.constructor&&!k.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[j.call(e)]||"object":typeof e},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(e){return e.replace(p,"ms-").replace(q,r)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(s(e)){for(n=e.length;n>r;r++)if(t.call(e[r],r,e[r])===!1)break}else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(o,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(s(Object(e))?n.merge(r,"string"==typeof e?[e]:e):g.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:h.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,o=e.length,u=!n;o>s;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,i,o=0,u=[];if(s(e))for(r=e.length;r>o;o++)i=t(e[o],o,n),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,n),null!=i&&u.push(i);return f.apply([],u)},guid:1,proxy:function(t,r){var i,s,o;return"string"==typeof r&&(i=t[r],r=t,t=i),n.isFunction(t)?(s=e.call(arguments,2),o=function(){return t.apply(r||this,s.concat(e.call(arguments)))},o.guid=t.guid=t.guid||n.guid++,o):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});var t=function(e){function st(e,t,r,i){var s,u,f,l,c,d,g,y,S=t&&t.ownerDocument,x=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return r;if(!i&&((t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,v)){if(11!==x&&(d=Y.exec(e)))if(s=d[1]){if(9===x){if(!(f=t.getElementById(s)))return r;if(f.id===s)return r.push(f),r}else if(S&&(f=S.getElementById(s))&&b(t,f)&&f.id===s)return r.push(f),r}else{if(d[2])return D.apply(r,t.getElementsByTagName(e)),r;if((s=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(r,t.getElementsByClassName(s)),r}if(n.qsa&&!C[e+" "]&&(!m||!m.test(e))){if(1!==x)S=t,y=e;else if("object"!==t.nodeName.toLowerCase()){(l=t.getAttribute("id"))?l=l.replace(et,"\\$&"):t.setAttribute("id",l=w),g=o(e),u=g.length,c=$.test(l)?"#"+l:"[id='"+l+"']";while(u--)g[u]=c+" "+mt(g[u]);y=g.join(","),S=Z.test(e)&&dt(t.parentNode)||t}if(y)try{return D.apply(r,S.querySelectorAll(y)),r}catch(T){}finally{l===w&&t.removeAttribute("id")}}}return a(e.replace(U,"$1"),t,r,i)}function ot(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function ut(e){return e[w]=!0,e}function at(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ft(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function lt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||L)-(~e.sourceIndex||L);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pt(e){return ut(function(t){return t=+t,ut(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function dt(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function vt(){}function mt(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function gt(e,t,n){var r=t.dir,i=n&&"parentNode"===r,s=x++;return t.first?function(t,n,s){while(t=t[r])if(1===t.nodeType||i)return e(t,n,s)}:function(t,n,o){var u,a,f,l=[S,s];if(o){while(t=t[r])if((1===t.nodeType||i)&&e(t,n,o))return!0}else while(t=t[r])if(1===t.nodeType||i){if(f=t[w]||(t[w]={}),a=f[t.uniqueID]||(f[t.uniqueID]={}),(u=a[r])&&u[0]===S&&u[1]===s)return l[2]=u[2];if(a[r]=l,l[2]=e(t,n,o))return!0}}}function yt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function bt(e,t,n){for(var r=0,i=t.length;i>r;r++)st(e,t[r],n);return n}function wt(e,t,n,r,i){for(var s,o=[],u=0,a=e.length,f=null!=t;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function Et(e,t,n,r,i,s){return r&&!r[w]&&(r=Et(r)),i&&!i[w]&&(i=Et(i,s)),ut(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||bt(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:wt(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c))}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?H(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):D.apply(o,g)})}function St(e){for(var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=gt(function(e){return e===t},u,!0),c=gt(function(e){return H(t,e)>-1},u,!0),h=[function(e,n,r){var i=!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r));return t=null,i}];s>a;a++)if(n=r.relative[e[a].type])h=[gt(yt(h),n)];else{if(n=r.filter[e[a].type].apply(null,e[a].matches),n[w]){for(i=++a;s>i;i++)if(r.relative[e[i].type])break;return Et(a>1&&yt(h),a>1&&mt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(U,"$1"),n,i>a&&St(e.slice(a,i)),s>i&&St(e=e.slice(i)),s>i&&mt(e))}h.push(n)}return yt(h)}function xt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,d,m,g=0,y="0",b=s&&[],w=[],E=f,x=s||i&&r.find.TAG("*",l),T=S+=null==E?1:Math.random()||.1,N=x.length;for(l&&(f=o===p||o||l);y!==N&&null!=(c=x[y]);y++){if(i&&c){d=0,o||c.ownerDocument===p||(h(c),u=!v);while(m=e[d++])if(m(c,o||p,u)){a.push(c);break}l&&(S=T)}n&&((c=!m&&c)&&g--,s&&b.push(c))}if(g+=y,n&&y!==g){d=0;while(m=t[d++])m(b,w,o,u);if(s){if(g>0)while(y--)b[y]||w[y]||(w[y]=M.call(a));w=wt(w)}D.apply(a,w),l&&!s&&w.length>0&&g+t.length>1&&st.uniqueSort(a)}return l&&(S=T,f=E),b};return n?ut(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+1*new Date,E=e.document,S=0,x=0,T=ot(),N=ot(),C=ot(),k=function(e,t){return e===t&&(c=!0),0},L=1<<31,A={}.hasOwnProperty,O=[],M=O.pop,_=O.push,D=O.push,P=O.slice,H=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",I="\\["+j+"*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+j+"*\\]",q=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",R=new RegExp(j+"+","g"),U=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),z=new RegExp("^"+j+"*,"+j+"*"),W=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),X=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),V=new RegExp(q),$=new RegExp("^"+F+"$"),J={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,et=/'|\\/g,tt=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),nt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},rt=function(){h()};try{D.apply(O=P.call(E.childNodes),E.childNodes),O[E.childNodes.length].nodeType}catch(it){D={apply:O.length?function(e,t){_.apply(e,P.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=st.support={},s=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},h=st.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:E;return o!==p&&9===o.nodeType&&o.documentElement?(p=o,d=p.documentElement,v=!s(p),(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",rt,!1):i.attachEvent&&i.attachEvent("onunload",rt)),n.attributes=at(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=at(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=G.test(p.getElementsByClassName),n.getById=at(function(e){return d.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&v){var n=t.getElementById(e);return n?[n]:[]}},r.filter.ID=function(e){var t=e.replace(tt,nt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(tt,nt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&v?t.getElementsByClassName(e):void 0},g=[],m=[],(n.qsa=G.test(p.querySelectorAll))&&(at(function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+B+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),at(function(e){var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=G.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&at(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",q)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=G.test(d.compareDocumentPosition),b=t||G.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===E&&b(E,e)?-1:t===p||t.ownerDocument===E&&b(E,t)?1:l?H(l,e)-H(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,o=[e],u=[t];if(!i||!s)return e===p?-1:t===p?1:i?-1:s?1:l?H(l,e)-H(l,t):0;if(i===s)return lt(e,t);n=e;while(n=n.parentNode)o.unshift(n);n=t;while(n=n.parentNode)u.unshift(n);while(o[r]===u[r])r++;return r?lt(o[r],u[r]):o[r]===E?-1:u[r]===E?1:0},p):p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(X,"='$1']"),n.matchesSelector&&v&&!C[t+" "]&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},st.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==s?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},st.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,r=[],i=0,s=0;if(c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k),c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=st.getText=function(e){var t,n="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===s||4===s)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},r=st.selectors={cacheLength:50,createPseudo:ut,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(tt,nt),e[3]=(e[3]||e[4]||e[5]||"").replace(tt,nt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(tt,nt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(R," ")+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u,b=!1;if(m){if(s){while(v){h=t;while(h=h[v])if(u?h.nodeName.toLowerCase()===g:1===h.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){h=m,c=h[w]||(h[w]={}),l=c[h.uniqueID]||(c[h.uniqueID]={}),f=l[e]||[],p=f[0]===S&&f[1],b=p&&f[2],h=p&&m.childNodes[p];while(h=++p&&h&&h[v]||(b=p=0)||d.pop())if(1===h.nodeType&&++b&&h===t){l[e]=[S,p,b];break}}else if(y&&(h=t,c=h[w]||(h[w]={}),l=c[h.uniqueID]||(c[h.uniqueID]={}),f=l[e]||[],p=f[0]===S&&f[1],b=p),b===!1)while(h=++p&&h&&h[v]||(b=p=0)||d.pop())if((u?h.nodeName.toLowerCase()===g:1===h.nodeType)&&++b&&(y&&(c=h[w]||(h[w]={}),l=c[h.uniqueID]||(c[h.uniqueID]={}),l[e]=[S,b]),h===t))break;return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ut(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=H(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ut(function(e){var t=[],n=[],r=u(e.replace(U,"$1"));return r[w]?ut(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}}),has:ut(function(e){return function(t){return st(e,t).length>0}}),contains:ut(function(e){return e=e.replace(tt,nt),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ut(function(e){return $.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(tt,nt).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[0>n?n+t:n]}),even:pt(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:pt(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ht(t);return vt.prototype=r.filters=r.pseudos,r.setFilters=new vt,o=st.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){(!n||(i=z.exec(u)))&&(i&&(u=u.slice(i[0].length)||u),a.push(s=[])),n=!1,(i=W.exec(u))&&(n=i.shift(),s.push({value:n,type:i[0].replace(U," ")}),u=u.slice(n.length));for(o in r.filter)!(i=J[o].exec(u))||f[o]&&!(i=f[o](i))||(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?st.error(e):N(e,a).slice(0)},u=st.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=St(t[n]),s[w]?r.push(s):i.push(s);s=C(e,xt(i,r)),s.selector=e}return s},a=st.select=function(e,t,i,s){var a,f,l,c,h,p="function"==typeof e&&e,d=!s&&o(e=p.selector||e);if(i=i||[],1===d.length){if(f=d[0]=d[0].slice(0),f.length>2&&"ID"===(l=f[0]).type&&n.getById&&9===t.nodeType&&v&&r.relative[f[1].type]){if(t=(r.find.ID(l.matches[0].replace(tt,nt),t)||[])[0],!t)return i;p&&(t=t.parentNode),e=e.slice(f.shift().value.length)}a=J.needsContext.test(e)?0:f.length;while(a--){if(l=f[a],r.relative[c=l.type])break;if((h=r.find[c])&&(s=h(l.matches[0].replace(tt,nt),Z.test(f[0].type)&&dt(t.parentNode)||t))){if(f.splice(a,1),e=s.length&&mt(f),!e)return D.apply(i,s),i;break}}}return(p||u(e,d))(s,t,!v,i,!t||Z.test(e)&&dt(t.parentNode)||t),i},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=at(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),at(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ft("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&at(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ft("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),at(function(e){return null==e.getAttribute("disabled")})||ft(B,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),st}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(e,t,r){var i=[],s=void 0!==r;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(s&&n(e).is(r))break;i.push(e)}return i},v=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;n.filter=function(e,t,r){var i=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?n.find.matchesSelector(i,e)?[i]:[]:n.find.matches(e,n.grep(t,function(e){return 1===e.nodeType}))},n.fn.extend({find:function(e){var t,r=this.length,i=[],s=this;if("string"!=typeof e)return this.pushStack(n(e).filter(function(){for(t=0;r>t;t++)if(n.contains(s[t],this))return!0}));for(t=0;r>t;t++)n.find(e,s[t],i);return i=this.pushStack(r>1?n.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(z(this,e||[],!1))},not:function(e){return this.pushStack(z(this,e||[],!0))},is:function(e){return!!z(this,"string"==typeof e&&w.test(e)?n(e):e||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(e,t,r){var i,s;if(!e)return this;if(r=r||A,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:B.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof n?t[0]:t,n.merge(this,n.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:d,!0)),x.test(i[1])&&n.isPlainObject(t))for(i in t)n.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return s=d.getElementById(i[2]),s&&s.parentNode&&(this.length=1,this[0]=s),this.context=d,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):n.isFunction(e)?void 0!==r.ready?r.ready(e):e(n):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),n.makeArray(e,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(e){var t=n(e,this),r=t.length;return this.filter(function(){for(var e=0;r>e;e++)if(n.contains(this,t[e]))return!0})},closest:function(e,t){for(var r,i=0,s=this.length,o=[],u=w.test(e)||"string"!=typeof e?n(e,t||this.context):0;s>i;i++)for(r=this[i];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(u?u.index(r)>-1:1===r.nodeType&&n.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?n.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?h.call(n(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),n.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return u(e,"parentNode")},parentsUntil:function(e,t,n){return u(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return u(e,"nextSibling")},prevAll:function(e){return u(e,"previousSibling")},nextUntil:function(e,t,n){return u(e,"nextSibling",n)},prevUntil:function(e,t,n){return u(e,"previousSibling",n)},siblings:function(e){return v((e.parentNode||{}).firstChild,e)},children:function(e){return v(e.firstChild)},contents:function(e){return e.contentDocument||n.merge([],e.childNodes)}},function(e,t){n.fn[e]=function(r,i){var s=n.map(this,t,r);return"Until"!==e.slice(-5)&&(i=r),i&&"string"==typeof i&&(s=n.filter(i,s)),this.length>1&&(E[e]||n.uniqueSort(s),D.test(e)&&s.reverse()),this.pushStack(s)}});var G=/\S+/g;n.Callbacks=function(e){e="string"==typeof e?H(e):n.extend({},e);var t,r,i,s,o=[],u=[],a=-1,f=function(){for(s=e.once,i=t=!0;u.length;a=-1){r=u.shift();while(++a<o.length)o[a].apply(r[0],r[1])===!1&&e.stopOnFalse&&(a=o.length,r=!1)}e.memory||(r=!1),t=!1,s&&(o=r?[]:"")},l={add:function(){return o&&(r&&!t&&(a=o.length-1,u.push(r)),function i(t){n.each(t,function(t,r){n.isFunction(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==n.type(r)&&i(r)})}(arguments),r&&!t&&f()),this},remove:function(){return n.each(arguments,function(e,t){var r;while((r=n.inArray(t,o,r))>-1)o.splice(r,1),a>=r&&a--}),this},has:function(e){return e?n.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return s=u=[],o=r="",this},disabled:function(){return!o},lock:function(){return s=u=[],r||(o=r=""),this},locked:function(){return!!s},fireWith:function(e,n){return s||(n=n||[],n=[e,n.slice?n.slice():n],u.push(n),t||f()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},n.extend({Deferred:function(e){var t=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],r="pending",i={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return n.Deferred(function(r){n.each(t,function(t,o){var u=n.isFunction(e[t])&&e[t];s[o[1]](function(){var e=u&&u.apply(this,arguments);e&&n.isFunction(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[o[0]+"With"](this===i?r.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?n.extend(e,i):i}},s={};return i.pipe=i.then,n.each(t,function(e,n){var o=n[2],u=n[3];i[n[1]]=o.add,u&&o.add(function(){r=u},t[1^e][2].disable,t[2][2].lock),s[n[0]]=function(){return s[n[0]+"With"](this===s?i:this,arguments),this},s[n[0]+"With"]=o.fireWith}),i.promise(s),e&&e.call(s,s),s},when:function(t){var r=0,i=e.call(arguments),s=i.length,o=1!==s||t&&n.isFunction(t.promise)?s:0,u=1===o?t:n.Deferred(),a=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?e.call(arguments):i,r===f?u.notifyWith(n,r):--o||u.resolveWith(n,r)}},f,l,c;if(s>1)for(f=new Array(s),l=new Array(s),c=new Array(s);s>r;r++)i[r]&&n.isFunction(i[r].promise)?i[r].promise().progress(a(r,l,f)).done(a(r,c,i)).fail(u.reject):--o;return o||u.resolveWith(c,i),u.promise()}});var I;n.fn.ready=function(e){return n.ready.promise().done(e),this},n.extend({isReady:!1,readyWait:1,holdReady:function(e){e?n.readyWait++:n.ready(!0)},ready:function(e){(e===!0?--n.readyWait:n.isReady)||(n.isReady=!0,e!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}}),n.ready.promise=function(e){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(e)},n.ready.promise();var K=function(e,t,r,i,s,o,u){var a=0,f=e.length,l=null==r;if("object"===n.type(r)){s=!0;for(a in r)K(e,t,a,r[a],!0,o,u)}else if(void 0!==i&&(s=!0,n.isFunction(i)||(u=!0),l&&(u?(t.call(e,i),t=null):(l=t,t=function(e,t,r){return l.call(n(e),r)})),t))for(;f>a;a++)t(e[a],r,u?i:i.call(e[a],a,t(e[a],r)));return s?e:l?t.call(e):f?t(e[0],r):o},L=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};M.uid=1,M.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!L(e))return{};var t=e[this.expando];return t||(t={},L(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[t]=n;else for(r in t)i[r]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,r){var i;return void 0===t||t&&"string"==typeof t&&void 0===r?(i=this.get(e,t),void 0!==i?i:this.get(e,n.camelCase(t))):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,i,s,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{n.isArray(t)?i=t.concat(t.map(n.camelCase)):(s=n.camelCase(t),t in o?i=[t,s]:(i=s,i=i in o?[i]:i.match(G)||[])),r=i.length;while(r--)delete o[i[r]]}(void 0===t||n.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!n.isEmptyObject(t)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;n.extend({hasData:function(e){return O.hasData(e)||N.hasData(e)},data:function(e,t,n){return O.access(e,t,n)},removeData:function(e,t){O.remove(e,t)},_data:function(e,t,n){return N.access(e,t,n)},_removeData:function(e,t){N.remove(e,t)}}),n.fn.extend({data:function(e,t){var r,i,s,o=this[0],u=o&&o.attributes;if(void 0===e){if(this.length&&(s=O.get(o),1===o.nodeType&&!N.get(o,"hasDataAttrs"))){r=u.length;while(r--)u[r]&&(i=u[r].name,0===i.indexOf("data-")&&(i=n.camelCase(i.slice(5)),R(o,i,s[i])));N.set(o,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){O.set(this,e)}):K(this,function(t){var r,i;if(o&&void 0===t){if(r=O.get(o,e)||O.get(o,e.replace(Q,"-$&").toLowerCase()),void 0!==r)return r;if(i=n.camelCase(e),r=O.get(o,i),void 0!==r)return r;if(r=R(o,i,void 0),void 0!==r)return r}else i=n.camelCase(e),this.each(function(){var n=O.get(this,i);O.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&O.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){O.remove(this,e)})}}),n.extend({queue:function(e,t,r){var i;return e?(t=(t||"fx")+"queue",i=N.get(e,t),r&&(!i||n.isArray(r)?i=N.access(e,t,n.makeArray(r)):i.push(r)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var r=n.queue(e,t),i=r.length,s=r.shift(),o=n._queueHooks(e,t),u=function(){n.dequeue(e,t)};"inprogress"===s&&(s=r.shift(),i--),s&&("fx"===t&&r.unshift("inprogress"),delete o.stop,s.call(e,u,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return N.get(e,r)||N.access(e,r,{empty:n.Callbacks("once memory").add(function(){N.remove(e,[t+"queue",r])})})}}),n.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?n.queue(this[0],e):void 0===t?this:this.each(function(){var r=n.queue(this,e,t);n._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&n.dequeue(this,e)})},dequeue:function(e){return this.each(function(){n.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,i=1,s=n.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(u--)r=N.get(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(t)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(e,t){return e=t||e,"none"===n.css(e,"display")||!n.contains(e.ownerDocument,e)},X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;var ba=/<|&#?\w+;/;!function(){var e=d.createDocumentFragment(),t=e.appendChild(d.createElement("div")),n=d.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),l.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;n.event={global:{},add:function(e,t,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=N.get(e);if(g){r.handler&&(o=r,r=o.handler,s=o.selector),r.guid||(r.guid=n.guid++),(f=g.events)||(f=g.events={}),(u=g.handle)||(u=g.handle=function(t){return"undefined"!=typeof n&&n.event.triggered!==t.type?n.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(G)||[""],l=t.length;while(l--)a=fa.exec(t[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),d&&(h=n.event.special[d]||{},d=(s?h.delegateType:h.bindType)||d,h=n.event.special[d]||{},c=n.extend({type:d,origType:m,data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&n.expr.match.needsContext.test(s),namespace:v.join(".")},o),(p=f[d])||(p=f[d]=[],p.delegateCount=0,h.setup&&h.setup.call(e,i,v,u)!==!1||e.addEventListener&&e.addEventListener(d,u)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),s?p.splice(p.delegateCount++,0,c):p.push(c),n.event.global[d]=!0)}},remove:function(e,t,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=N.hasData(e)&&N.get(e);if(g&&(f=g.events)){t=(t||"").match(G)||[""],l=t.length;while(l--)if(a=fa.exec(t[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),d){h=n.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,p=f[d]||[],a=a[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=p.length;while(o--)c=p[o],!s&&m!==c.origType||r&&r.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(e,c));u&&!p.length&&(h.teardown&&h.teardown.call(e,v,g.handle)!==!1||n.removeEvent(e,d,g.handle),delete f[d])}else for(d in f)n.event.remove(e,d+t[l],r,i,!0);n.isEmptyObject(f)&&N.remove(e,"handle events")}},dispatch:function(t){t=n.event.fix(t);var r,i,s,o,u,a=[],f=e.call(arguments),l=(N.get(this,"events")||{})[t.type]||[],c=n.event.special[t.type]||{};if(f[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){a=n.event.handlers.call(this,t,l),r=0;while((o=a[r++])&&!t.isPropagationStopped()){t.currentTarget=o.elem,i=0;while((u=o.handlers[i++])&&!t.isImmediatePropagationStopped())(!t.rnamespace||t.rnamespace.test(u.namespace))&&(t.handleObj=u,t.data=u.data,s=((n.event.special[u.origType]||{}).handle||u.handler).apply(o.elem,f),void 0!==s&&(t.result=s)===!1&&(t.preventDefault(),t.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(e,t){var r,i,s,o,u=[],a=t.delegateCount,f=e.target;if(a&&f.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;f!==this;f=f.parentNode||this)if(1===f.nodeType&&(f.disabled!==!0||"click"!==e.type)){for(i=[],r=0;a>r;r++)o=t[r],s=o.selector+" ",void 0===i[s]&&(i[s]=o.needsContext?n(s,this).index(f)>-1:n.find(s,this,null,[f]).length),i[s]&&i.push(o);i.length&&u.push({elem:f,handlers:i})}return a<t.length&&u.push({elem:this,handlers:t.slice(a)}),u},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||d,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[n.expando])return e;var t,r,i,s=e.type,o=e,u=this.fixHooks[s];u||(this.fixHooks[s]=u=ea.test(s)?this.mouseHooks:da.test(s)?this.keyHooks:{}),i=u.props?this.props.concat(u.props):this.props,e=new n.Event(o),t=i.length;while(t--)r=i[t],e[r]=o[r];return e.target||(e.target=d),3===e.target.nodeType&&(e.target=e.target.parentNode),u.filter?u.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return n.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},n.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},n.Event=function(e,t){return this instanceof n.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?ga:ha):this.type=e,t&&n.extend(this,t),this.timeStamp=e&&e.timeStamp||n.now(),void (this[n.expando]=!0)):new n.Event(e,t)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ga,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ga,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ga,e&&e.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){n.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,i=this,s=e.relatedTarget,o=e.handleObj;return(!s||s!==i&&!n.contains(i,s))&&(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),n.fn.extend({on:function(e,t,n,r){return ja(this,e,t,n,r)},one:function(e,t,n,r){return ja(this,e,t,n,r,1)},off:function(e,t,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,n(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return(t===!1||"function"==typeof t)&&(r=t,t=void 0),r===!1&&(r=ha),this.each(function(){n.event.remove(this,e,r,t)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;n.extend({htmlPrefilter:function(e){return e.replace(ka,"<$1></$2>")},clone:function(e,t,r){var i,s,o,u,a=e.cloneNode(!0),f=n.contains(e.ownerDocument,e);if(!(l.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||n.isXMLDoc(e)))for(u=_(a),o=_(e),i=0,s=o.length;s>i;i++)ta(o[i],u[i]);if(t)if(r)for(o=o||_(e),u=u||_(a),i=0,s=o.length;s>i;i++)sa(o[i],u[i]);else sa(e,a);return u=_(a,"script"),u.length>0&&aa(u,!f&&_(e,"script")),a},cleanData:function(e){for(var t,r,i,s=n.event.special,o=0;void 0!==(r=e[o]);o++)if(L(r)){if(t=r[N.expando]){if(t.events)for(i in t.events)s[i]?n.event.remove(r,i):n.removeEvent(r,i,t.handle);r[N.expando]=void 0}r[O.expando]&&(r[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(e){return va(this,e,!0)},remove:function(e){return va(this,e)},text:function(e){return K(this,function(e){return void 0===e?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return ua(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pa(this,e);t.appendChild(e)}})},prepend:function(){return ua(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pa(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return ua(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return ua(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(n.cleanData(_(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return n.clone(this,e,t)})},html:function(e){return K(this,function(e){var t=this[0]||{},r=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!la.test(e)&&!$[(Y.exec(e)||["",""])[1].toLowerCase()]){e=n.htmlPrefilter(e);try{for(;i>r;r++)t=this[r]||{},1===t.nodeType&&(n.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(s){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return ua(this,arguments,function(t){var r=this.parentNode;n.inArray(this,e)<0&&(n.cleanData(_(this)),r&&r.replaceChild(t,this))},e)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){n.fn[e]=function(e){for(var r,i=[],s=n(e),o=s.length-1,u=0;o>=u;u++)r=u===o?this:this.clone(!0),n(s[u])[t](r),g.apply(i,r.get());return this.pushStack(i)}});var wa,xa={HTML:"block",BODY:"block"},Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=a),t.getComputedStyle(e)},Da=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i},Ea=d.documentElement;!function(){var e,t,r,i,s=d.createElement("div"),o=d.createElement("div");if(o.style){o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===o.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(o);function u(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",o.innerHTML="",Ea.appendChild(s);var n=a.getComputedStyle(o);e="1%"!==n.top,i="2px"===n.marginLeft,t="4px"===n.width,o.style.marginRight="50%",r="4px"===n.marginRight,Ea.removeChild(s)}n.extend(l,{pixelPosition:function(){return u(),e},boxSizingReliable:function(){return null==t&&u(),t},pixelMarginRight:function(){return null==t&&u(),r},reliableMarginLeft:function(){return null==t&&u(),i},reliableMarginRight:function(){var e,t=o.appendChild(d.createElement("div"));return t.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",o.style.width="1px",Ea.appendChild(s),e=!parseFloat(a.getComputedStyle(t).marginRight),Ea.removeChild(s),o.removeChild(t),e}})}}();var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;n.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fa(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,u,a=n.camelCase(t),f=e.style;return t=n.cssProps[a]||(n.cssProps[a]=Ma(a)||a),u=n.cssHooks[t]||n.cssHooks[a],void 0===r?u&&"get"in u&&void 0!==(s=u.get(e,!1,i))?s:f[t]:(o=typeof r,"string"===o&&(s=T.exec(r))&&s[1]&&(r=W(e,t,s),o="number"),null!=r&&r===r&&("number"===o&&(r+=s&&s[3]||(n.cssNumber[a]?"":"px")),l.clearCloneStyle||""!==r||0!==t.indexOf("background")||(f[t]="inherit"),u&&"set"in u&&void 0===(r=u.set(e,r,i))||(f[t]=r)),void 0)}},css:function(e,t,r,i){var s,o,u,a=n.camelCase(t);return t=n.cssProps[a]||(n.cssProps[a]=Ma(a)||a),u=n.cssHooks[t]||n.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,r)),void 0===s&&(s=Fa(e,t,i)),"normal"===s&&t in Ja&&(s=Ja[t]),""===r||r?(o=parseFloat(s),r===!0||isFinite(o)?o||0:s):s}}),n.each(["height","width"],function(e,t){n.cssHooks[t]={get:function(e,r,i){return r?Ha.test(n.css(e,"display"))&&0===e.offsetWidth?Da(e,Ia,function(){return Pa(e,t,i)}):Pa(e,t,i):void 0},set:function(e,r,i){var s,o=i&&Ca(e),u=i&&Oa(e,t,i,"border-box"===n.css(e,"boxSizing",!1,o),o);return u&&(s=T.exec(r))&&"px"!==(s[3]||"px")&&(e.style[t]=r,r=n.css(e,t)),Na(e,r,u)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(e,t){return t?(parseFloat(Fa(e,"marginLeft"))||e.getBoundingClientRect().left-Da(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(e,t){return t?Da(e,{display:"inline-block"},Fa,[e,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(e,t){n.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+U[r]+t]=s[r]||s[r-2]||s[0];return i}},Aa.test(e)||(n.cssHooks[e+t].set=Na)}),n.fn.extend({css:function(e,t){return K(this,function(e,t,r){var i,s,o={},u=0;if(n.isArray(t)){for(i=Ca(e),s=t.length;s>u;u++)o[t[u]]=n.css(e,t[u],!1,i);return o}return void 0!==r?n.style(e,t,r):n.css(e,t)},e,t,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}}),n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(e,t,r,i,s,o){this.elem=e,this.prop=r,this.easing=s||n.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(n.cssNumber[r]?"":"px")},cur:function(){var e=Ra.propHooks[this.prop];return e&&e.get?e.get(this):Ra.propHooks._default.get(this)},run:function(e){var t,r=Ra.propHooks[this.prop];return this.options.duration?this.pos=t=n.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=n.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){n.fx.step[e.prop]?n.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[n.cssProps[e.prop]]&&!n.cssHooks[e.prop]?e.elem[e.prop]=e.now:n.style(e.elem,e.prop,e.now+e.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},n.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;n.Animation=n.extend(_a,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return W(n.elem,e,T.exec(t),n),n}]},tweener:function(e,t){n.isFunction(e)?(t=e,e=["*"]):e=e.match(G);for(var r,i=0,s=e.length;s>i;i++)r=e[i],_a.tweeners[r]=_a.tweeners[r]||[],_a.tweeners[r].unshift(t)},prefilters:[Za],prefilter:function(e,t){t?_a.prefilters.unshift(e):_a.prefilters.push(e)}}),n.speed=function(e,t,r){var i=e&&"object"==typeof e?n.extend({},e):{complete:r||!r&&t||n.isFunction(e)&&e,duration:e,easing:r&&t||t&&!n.isFunction(t)&&t};return i.duration=n.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in n.fx.speeds?n.fx.speeds[i.duration]:n.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){n.isFunction(i.old)&&i.old.call(this),i.queue&&n.dequeue(this,i.queue)},i},n.fn.extend({fadeTo:function(e,t,n,r){return this.filter(V).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,r,i){var s=n.isEmptyObject(e),o=n.speed(t,r,i),u=function(){var t=_a(this,n.extend({},e),o);(s||N.get(this,"finish"))&&t.stop(!0)};return u.finish=u,s||o.queue===!1?this.each(u):this.queue(o.queue,u)},stop:function(e,t,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",o=n.timers,u=N.get(this);if(s)u[s]&&u[s].stop&&i(u[s]);else for(s in u)u[s]&&u[s].stop&&Va.test(s)&&i(u[s]);for(s=o.length;s--;)o[s].elem!==this||null!=e&&o[s].queue!==e||(o[s].anim.stop(r),t=!1,o.splice(s,1));(t||!r)&&n.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,r=N.get(this),i=r[e+"queue"],s=r[e+"queueHooks"],o=n.timers,u=i?i.length:0;for(r.finish=!0,n.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;u>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete r.finish})}}),n.each(["toggle","show","hide"],function(e,t){var r=n.fn[t];n.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(Xa(t,!0),e,n,i)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){n.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),n.timers=[],n.fx.tick=function(){var e,t=0,r=n.timers;for(Sa=n.now();t<r.length;t++)e=r[t],e()||r[t]!==e||r.splice(t--,1);r.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(e){n.timers.push(e),e()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(e,t){return e=n.fx?n.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=a.setTimeout(t,e);n.stop=function(){a.clearTimeout(r)}})},function(){var e=d.createElement("input"),t=d.createElement("select"),n=t.appendChild(d.createElement("option"));e.type="checkbox",l.checkOn=""!==e.value,l.optSelected=n.selected,t.disabled=!0,l.optDisabled=!n.disabled,e=d.createElement("input"),e.value="t",e.type="radio",l.radioValue="t"===e.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(e,t){return K(this,n.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){n.removeAttr(this,e)})}}),n.extend({attr:function(e,t,r){var i,s,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?n.prop(e,t,r):(1===o&&n.isXMLDoc(e)||(t=t.toLowerCase(),s=n.attrHooks[t]||(n.expr.match.bool.test(t)?ab:void 0)),void 0!==r?null===r?void n.removeAttr(e,t):s&&"set"in s&&void 0!==(i=s.set(e,r,t))?i:(e.setAttribute(t,r+""),r):s&&"get"in s&&null!==(i=s.get(e,t))?i:(i=n.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!l.radioValue&&"radio"===t&&n.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,i,s=0,o=t&&t.match(G);if(o&&1===e.nodeType)while(r=o[s++])i=n.propFix[r]||r,n.expr.match.bool.test(r)&&(e[i]=!1),e.removeAttribute(r)}}),ab={set:function(e,t,r){return t===!1?n.removeAttr(e,r):e.setAttribute(r,r),r}},n.each(n.expr.match.bool.source.match(/\w+/g),function(e,t){var r=bb[t]||n.find.attr;bb[t]=function(e,t,n){var i,s;return n||(s=bb[t],bb[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,bb[t]=s),i}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(e,t){return K(this,n.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[n.propFix[e]||e]})}}),n.extend({prop:function(e,t,r){var i,s,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&n.isXMLDoc(e)||(t=n.propFix[t]||t,s=n.propHooks[t]),void 0!==r?s&&"set"in s&&void 0!==(i=s.set(e,r,t))?i:e[t]=r:s&&"get"in s&&null!==(i=s.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=n.find.attr(e,"tabindex");return t?parseInt(t,10):cb.test(e.nodeName)||db.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;n.fn.extend({addClass:function(e){var t,r,i,s,o,u,a,f=0;if(n.isFunction(e))return this.each(function(t){n(this).addClass(e.call(this,t,fb(this)))});if("string"==typeof e&&e){t=e.match(G)||[];while(r=this[f++])if(s=fb(r),i=1===r.nodeType&&(" "+s+" ").replace(eb," ")){u=0;while(o=t[u++])i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=n.trim(i),s!==a&&r.setAttribute("class",a)}}return this},removeClass:function(e){var t,r,i,s,o,u,a,f=0;if(n.isFunction(e))return this.each(function(t){n(this).removeClass(e.call(this,t,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e){t=e.match(G)||[];while(r=this[f++])if(s=fb(r),i=1===r.nodeType&&(" "+s+" ").replace(eb," ")){u=0;while(o=t[u++])while(i.indexOf(" "+o+" ")>-1)i=i.replace(" "+o+" "," ");a=n.trim(i),s!==a&&r.setAttribute("class",a)}}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):n.isFunction(e)?this.each(function(r){n(this).toggleClass(e.call(this,r,fb(this),t),t)}):this.each(function(){var t,i,s,o;if("string"===r){i=0,s=n(this),o=e.match(G)||[];while(t=o[i++])s.hasClass(t)?s.removeClass(t):s.addClass(t)}else(void 0===e||"boolean"===r)&&(t=fb(this),t&&N.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":N.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+fb(n)+" ").replace(eb," ").indexOf(t)>-1)return!0;return!1}});var gb=/\r/g;n.fn.extend({val:function(e){var t,r,i,s=this[0];if(arguments.length)return i=n.isFunction(e),this.each(function(r){var s;1===this.nodeType&&(s=i?e.call(this,r,n(this).val()):e,null==s?s="":"number"==typeof s?s+="":n.isArray(s)&&(s=n.map(s,function(e){return null==e?"":e+""})),t=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))});if(s)return t=n.valHooks[s.type]||n.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(s,"value"))?r:(r=s.value,"string"==typeof r?r.replace(gb,""):null==r?"":r)}}),n.extend({valHooks:{option:{get:function(e){return n.trim(e.value)}},select:{get:function(e){for(var t,r,i=e.options,s=e.selectedIndex,o="select-one"===e.type||0>s,u=o?null:[],a=o?s+1:i.length,f=0>s?a:o?s:0;a>f;f++)if(r=i[f],(r.selected||f===s)&&(l.optDisabled?!r.disabled:null===r.getAttribute("disabled"))&&(!r.parentNode.disabled||!n.nodeName(r.parentNode,"optgroup"))){if(t=n(r).val(),o)return t;u.push(t)}return u},set:function(e,t){var r,i,s=e.options,o=n.makeArray(t),u=s.length;while(u--)i=s[u],(i.selected=n.inArray(n.valHooks.option.get(i),o)>-1)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(e,t){return n.isArray(t)?e.checked=n.inArray(n(e).val(),t)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var hb=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(e,t,r,i){var s,o,u,f,l,c,h,p=[r||d],v=k.call(e,"type")?e.type:e,m=k.call(e,"namespace")?e.namespace.split("."):[];if(o=u=r=r||d,3!==r.nodeType&&8!==r.nodeType&&!hb.test(v+n.event.triggered)&&(v.indexOf(".")>-1&&(m=v.split("."),v=m.shift(),m.sort()),l=v.indexOf(":")<0&&"on"+v,e=e[n.expando]?e:new n.Event(v,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:n.makeArray(t,[e]),h=n.event.special[v]||{},i||!h.trigger||h.trigger.apply(r,t)!==!1)){if(!i&&!h.noBubble&&!n.isWindow(r)){for(f=h.delegateType||v,hb.test(f+v)||(o=o.parentNode);o;o=o.parentNode)p.push(o),u=o;u===(r.ownerDocument||d)&&p.push(u.defaultView||u.parentWindow||a)}s=0;while((o=p[s++])&&!e.isPropagationStopped())e.type=s>1?f:h.bindType||v,c=(N.get(o,"events")||{})[e.type]&&N.get(o,"handle"),c&&c.apply(o,t),c=l&&o[l],c&&c.apply&&L(o)&&(e.result=c.apply(o,t),e.result===!1&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||h._default&&h._default.apply(p.pop(),t)!==!1||!L(r)||l&&n.isFunction(r[v])&&!n.isWindow(r)&&(u=r[l],u&&(r[l]=null),n.event.triggered=v,r[v](),n.event.triggered=void 0,u&&(r[l]=u)),e.result}},simulate:function(e,t,r){var i=n.extend(new n.Event,r,{type:e,isSimulated:!0});n.event.trigger(i,null,t),i.isDefaultPrevented()&&r.preventDefault()}}),n.fn.extend({trigger:function(e,t){return this.each(function(){n.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];return r?n.event.trigger(e,t,r,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){n.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),n.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){n.event.simulate(t,e.target,n.event.fix(e))};n.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=N.access(n,t);i||n.addEventListener(e,r,!0),N.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=N.access(n,t)-1;i?N.access(n,t,i):(n.removeEventListener(e,r,!0),N.remove(n,t))}}});var ib=a.location,jb=n.now(),kb=/\?/;n.parseJSON=function(e){return JSON.parse(e+"")},n.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new a.DOMParser).parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+e),t};var lb=/#.*$/,mb=/([?&])_=[^&]*/,nb=/^(.*?):[ \t]*([^\r\n]*)$/gm,ob=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pb=/^(?:GET|HEAD)$/,qb=/^\/\//,rb={},sb={},tb="*/".concat("*"),ub=d.createElement("a");ub.href=ib.href,n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ib.href,type:"GET",isLocal:ob.test(ib.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?xb(xb(e,n.ajaxSettings),t):xb(n.ajaxSettings,e)},ajaxPrefilter:vb(rb),ajaxTransport:vb(sb),ajax:function(e,t){function N(e,t,o,f){var c,d,b,w,S,T=t;2!==E&&(E=2,u&&a.clearTimeout(u),r=void 0,s=f||"",x.readyState=e>0?4:0,c=e>=200&&300>e||304===e,o&&(w=yb(h,x,o)),w=zb(h,w,x,c),c?(h.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(n.lastModified[i]=S),S=x.getResponseHeader("etag"),S&&(n.etag[i]=S)),204===e||"HEAD"===h.type?T="nocontent":304===e?T="notmodified":(T=w.state,d=w.data,b=w.error,c=!b)):(b=T,(e||!T)&&(T="error",0>e&&(e=0))),x.status=e,x.statusText=(t||T)+"",c?m.resolveWith(p,[d,T,x]):m.rejectWith(p,[x,T,b]),x.statusCode(y),y=void 0,l&&v.trigger(c?"ajaxSuccess":"ajaxError",[x,h,c?d:b]),g.fireWith(p,[x,T]),l&&(v.trigger("ajaxComplete",[x,h]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,s,o,u,f,l,c,h=n.ajaxSetup({},t),p=h.context||h,v=h.context&&(p.nodeType||p.jquery)?n(p):n.event,m=n.Deferred(),g=n.Callbacks("once memory"),y=h.statusCode||{},b={},w={},E=0,S="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===E){if(!o){o={};while(t=nb.exec(s))o[t[1].toLowerCase()]=t[2]}t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===E?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return E||(e=w[n]=w[n]||e,b[e]=t),this},overrideMimeType:function(e){return E||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>E)for(t in e)y[t]=[y[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||S;return r&&r.abort(t),N(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||ib.href)+"").replace(lb,"").replace(qb,ib.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=n.trim(h.dataType||"*").toLowerCase().match(G)||[""],null==h.crossDomain){f=d.createElement("a");try{f.href=h.url,f.href=f.href,h.crossDomain=ub.protocol+"//"+ub.host!=f.protocol+"//"+f.host}catch(T){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=n.param(h.data,h.traditional)),wb(rb,h,t,x),2===E)return x;l=n.event&&h.global,l&&0===n.active++&&n.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!pb.test(h.type),i=h.url,h.hasContent||(h.data&&(i=h.url+=(kb.test(i)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=mb.test(i)?i.replace(mb,"$1_="+jb++):i+(kb.test(i)?"&":"?")+"_="+jb++)),h.ifModified&&(n.lastModified[i]&&x.setRequestHeader("If-Modified-Since",n.lastModified[i]),n.etag[i]&&x.setRequestHeader("If-None-Match",n.etag[i])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+tb+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)x.setRequestHeader(c,h.headers[c]);if(!h.beforeSend||h.beforeSend.call(p,x,h)!==!1&&2!==E){S="abort";for(c in{success:1,error:1,complete:1})x[c](h[c]);if(r=wb(sb,h,t,x)){if(x.readyState=1,l&&v.trigger("ajaxSend",[x,h]),2===E)return x;h.async&&h.timeout>0&&(u=a.setTimeout(function(){x.abort("timeout")},h.timeout));try{E=1,r.send(b,N)}catch(T){if(!(2>E))throw T;N(-1,T)}}else N(-1,"No Transport");return x}return x.abort()},getJSON:function(e,t,r){return n.get(e,t,r,"json")},getScript:function(e,t){return n.get(e,void 0,t,"script")}}),n.each(["get","post"],function(e,t){n[t]=function(e,r,i,s){return n.isFunction(r)&&(s=s||i,i=r,r=void 0),n.ajax(n.extend({url:e,type:t,dataType:s,data:r,success:i},n.isPlainObject(e)&&e))}}),n._evalUrl=function(e){return n.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(e){var t;return n.isFunction(e)?this.each(function(t){n(this).wrapAll(e.call(this,t))}):(this[0]&&(t=n(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return n.isFunction(e)?this.each(function(t){n(this).wrapInner(e.call(this,t))}):this.each(function(){var t=n(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=n.isFunction(e);return this.each(function(r){n(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(e){return!n.expr.filters.visible(e)},n.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Ab=/%20/g,Bb=/\[\]$/,Cb=/\r?\n/g,Db=/^(?:submit|button|image|reset|file)$/i,Eb=/^(?:input|select|textarea|keygen)/i;n.param=function(e,t){var r,i=[],s=function(e,t){t=n.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(e)||e.jquery&&!n.isPlainObject(e))n.each(e,function(){s(this.name,this.value)});else for(r in e)Fb(r,e[r],t,s);return i.join("&").replace(Ab,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=n.prop(this,"elements");return e?n.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!n(this).is(":disabled")&&Eb.test(this.nodeName)&&!Db.test(e)&&(this.checked||!X.test(e))}).map(function(e,t){var r=n(this).val();return null==r?null:n.isArray(r)?n.map(r,function(e){return{name:t.name,value:e.replace(Cb,"\r\n")}}):{name:t.name,value:r.replace(Cb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(e){}};var Gb={0:200,1223:204},Hb=n.ajaxSettings.xhr();l.cors=!!Hb&&"withCredentials"in Hb,l.ajax=Hb=!!Hb,n.ajaxTransport(function(e){var t,n;return l.cors||Hb&&!e.crossDomain?{send:function(r,i){var s,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)o[s]=e.xhrFields[s];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)o.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=n=o.onload=o.onerror=o.onabort=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?i(0,"error"):i(o.status,o.statusText):i(Gb[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=t(),n=o.onerror=t("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&a.setTimeout(function(){t&&n()})},t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(u){if(t)throw u}},abort:function(){t&&t()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return n.globalEval(e),e}}}),n.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),n.ajaxTransport("script",function(e){if(e.crossDomain){var t,r;return{send:function(i,s){t=n("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&s("error"===e.type?404:200,e.type)}),d.head.appendChild(t[0])},abort:function(){r&&r()}}}});var Ib=[],Jb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ib.pop()||n.expando+"_"+jb++;return this[e]=!0,e}}),n.ajaxPrefilter("json jsonp",function(e,t,r){var i,s,o,u=e.jsonp!==!1&&(Jb.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jb.test(e.data)&&"data");return u||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=n.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,u?e[u]=e[u].replace(Jb,"$1"+i):e.jsonp!==!1&&(e.url+=(kb.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||n.error(i+" was not called"),o[0]},e.dataTypes[0]="json",s=a[i],a[i]=function(){o=arguments},r.always(function(){void 0===s?n(a).removeProp(i):a[i]=s,e[i]&&(e.jsonpCallback=t.jsonpCallback,Ib.push(i)),o&&n.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),l.createHTMLDocument=function(){var e=d.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),n.parseHTML=function(e,t,r){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(r=t,t=!1),t=t||(l.createHTMLDocument?d.implementation.createHTMLDocument(""):d);var i=x.exec(e),s=!r&&[];return i?[t.createElement(i[1])]:(i=ca([e],t,s),s&&s.length&&n(s).remove(),n.merge([],i.childNodes))};var Kb=n.fn.load;n.fn.load=function(e,t,r){if("string"!=typeof e&&Kb)return Kb.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>-1&&(i=n.trim(e.slice(a)),e=e.slice(0,a)),n.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(s="POST"),u.length>0&&n.ajax({url:e,type:s||"GET",dataType:"html",data:t}).done(function(e){o=arguments,u.html(i?n("<div>").append(n.parseHTML(e)).find(i):e)}).always(r&&function(e,t){u.each(function(){r.apply(u,o||[e.responseText,t,e])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){n.fn[t]=function(e){return this.on(t,e)}}),n.expr.filters.animated=function(e){return n.grep(n.timers,function(t){return e===t.elem}).length},n.offset={setOffset:function(e,t,r){var i,s,o,u,a,f,l,c=n.css(e,"position"),h=n(e),p={};"static"===c&&(e.style.position="relative"),a=h.offset(),o=n.css(e,"top"),f=n.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+f).indexOf("auto")>-1,l?(i=h.position(),u=i.top,s=i.left):(u=parseFloat(o)||0,s=parseFloat(f)||0),n.isFunction(t)&&(t=t.call(e,r,n.extend({},a))),null!=t.top&&(p.top=t.top-a.top+u),null!=t.left&&(p.left=t.left-a.left+s),"using"in t?t.using.call(e,p):h.css(p)}},n.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){n.offset.setOffset(this,e,t)});var t,r,i=this[0],s={top:0,left:0},o=i&&i.ownerDocument;if(o)return t=o.documentElement,n.contains(t,i)?(s=i.getBoundingClientRect(),r=Lb(o),{top:s.top+r.pageYOffset-t.clientTop,left:s.left+r.pageXOffset-t.clientLeft}):s},position:function(){if(this[0]){var e,t,r=this[0],i={top:0,left:0};return"fixed"===n.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),n.nodeName(e[0],"html")||(i=e.offset()),i.top+=n.css(e[0],"borderTopWidth",!0),i.left+=n.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-n.css(r,"marginTop",!0),left:t.left-i.left-n.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===n.css(e,"position"))e=e.offsetParent;return e||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;n.fn[e]=function(n){return K(this,function(e,n,i){var s=Lb(e);return void 0===i?s?s[t]:e[n]:void (s?s.scrollTo(r?s.pageXOffset:i,r?i:s.pageYOffset):e[n]=i)},e,n,arguments.length)}}),n.each(["top","left"],function(e,t){n.cssHooks[t]=Ga(l.pixelPosition,function(e,r){return r?(r=Fa(e,t),Ba.test(r)?n(e).position()[t]+"px":r):void 0})}),n.each({Height:"height",Width:"width"},function(e,t){n.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,i){n.fn[i]=function(i,s){var o=arguments.length&&(r||"boolean"!=typeof i),u=r||(i===!0||s===!0?"margin":"border");return K(this,function(t,r,i){var s;return n.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===i?n.css(t,r,u):n.style(t,r,i,u)},t,o?i:void 0,o,null)}})}),n.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof webswingRequirejs.define&&webswingRequirejs.define.amd&&webswingRequirejs.define("jquery",[],function(){return n});var Mb=a.jQuery,Nb=a.$;return n.noConflict=function(e){return a.$===n&&(a.$=Nb),e&&a.jQuery===n&&(a.jQuery=Mb),n},b||(a.jQuery=a.$=n),n}),function(){function t(e,t,n,r,i,s){n.push(e),typeof t[e]!="object"&&r.push(i+e+"/"+s)}function n(e,t){if(require._fileExists(e.toUrl(t+".js")))return!0;console.log("Warning: '"+t+".js' does not exist")}function r(e,t,n){var i;for(i in t)t.hasOwnProperty(i)&&(!e.hasOwnProperty(i)||n)?e[i]=t[i]:typeof t[i]=="object"&&(!e[i]&&t[i]&&(e[i]={}),r(e[i],t[i],n))}var e=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;webswingRequirejs.define("optional-i18n",["module"],function(i){var s=i.config?i.config():{};return{version:"2.0.6.optional",load:function(i,o,u,a){function w(e){var t=e.requireModules&&e.requireModules[0];console.warn("Could not load optional module: "+t);var n=window.webswingRequirejs?window.webswingRequirejs.require:require;n.undef(t),webswingRequirejs.define(t,[],function(){return{}}),o([t])}a=a||{},a.locale&&(s.locale=a.locale);var f,l=e.exec(i),c=l[1],h=l[4],p=l[5],d=h.split("-"),v=[],m={},g,y,b="";l[5]?(c=l[1],f=c+p):(f=i,p=l[4],h=s.locale,h||(h=s.locale=typeof navigator=="undefined"?"root":(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage||"root").toLowerCase()),d=h.split("-")),a.isBuild?n(o,f)?o([f],u):u({}):o([f],function(e){var n=[],i;t("root",e,n,v,c,p);for(g=0;g<d.length;g++)i=d[g],b+=(b?"-":"")+i,t(b,e,n,v,c,p);o(v,function(){var t,i,s;for(t=n.length-1;t>-1&&n[t];t--)s=n[t],i=e[s],typeof i!="object"&&(i=o(c+s+"/"+p)),r(m,i);u(m)},w)},w)}}})}(),webswingRequirejs.define("nls/msg",{root:{"login.title":"Sign in to your account","login.instr":"Please enter your credentials:","login.username":"Username","login.password":"Password","login.button":"Sign in","logout.title":"Session ended","logout.instr":"Your session has ended. You may start a new session or close your browser window.","logout.button":"New session","login.errorH":"Authentication failed","login.errorC":"Error message:","login.errorB":"Try again","login.invalidUserPassword":"Invalid Username or Password.","login.failedToAuthenticate":"Failed to Authenticate.","login.noAccessMessage":"Access to this application is forbidden.","login.configurationError":"Security module initialization failed. Please check server logs for details.","login.serverNotAvailable":"Sorry, the Server is not available.","login.unexpectedError":"Oops, something's not right","dialog.emptyMessage":"","dialog.logingOut":"Signing out","dialog.readyDialog":"Ready to start your session","dialog.initializingDialog":"Your session is being initialized","dialog.startingDialog":"Starting your application","dialog.unauthorizedAccess":"Unable to authorize your request","dialog.applicationBusyDialog":"","dialog.applicationAlreadyRunning":"There is already a session in progress in another window.","dialog.sessionStolenNotification":"A new session was started in another window. This session has been closed.","dialog.disconnectedDialog":"Your connection to the server is lost.","dialog.connectionErrorDialog":"A connection error has occurred. Please reconnect to continue.","dialog.tooManyClientsNotification":"There are too many active connections right now, please try again later.","dialog.stoppedDialog":"The application has been closed.","dialog.timedoutDialog":"The session has timed out.","dialog.continueH":"Welcome back!","dialog.continueC1":"You can continue where you left off or ","dialog.continueC2":"start again","dialog.longPollingH":"Warning","dialog.longPollingC":"Your current network blocks WebSockets. You may experience performance problems while working on this connection. Please contact your network administrator.","dialog.longPollingB":"Dismiss","dialog.inactivityTimeoutH":"Warning","dialog.inactivityTimeoutC":"Your session will timeout in less then a minute due to inactivity. Please press any button to continue.","dialog.inactivityTimeoutB":"Dismiss","dialog.finalB1":"New session","dialog.finalB2":"Sign out","dialog.retryB1":"Reconnect","dialog.retryB2":"Sign out","dialog.networkMonitor.warn":"Your network connection is slow.","dialog.networkMonitor.offline":"No network connection.","dialog.networkMonitor.hide":"Hide","dialog.cookiesDisabledDialog":"Your browser does not allow cookies. Please enable cookies to continue.","selector.welcome":"Welcome,","selector.message":". Please select an application.","selector.lang.label":"Language: ","selector.admin":"Manage","selector.logout":"Logout","selector.noApp":"There are currently no available applications.","clipboard.content":"Content","clipboard.image":"Image:","clipboard.files":"Files:","clipboard.copy":"Copy to Clipboard (CTRL+C)","clipboard.more":"More...","clipboard.discard":"Discard","clipboard.cancel":"Cancel","files.saveTitle":"Save file","files.saveName":"Please enter a name for the file.","files.saveNamePh":"Enter a file name here","files.save":"Save","files.saveInvlidFilename":"File name is invalid. Please use only alphanumeric characters, space, hyphen, dot or underscore.","files.openTitle":"Open file","files.openInst":"Please select a file to import.","files.openBrowse":"Browse","files.dnd":"Drag and drop files here","files.download":"Download","files.downloadTtip":"Download selected files","files.upload":"Upload","files.delete":"Delete","files.deleteTtip":"Delete selected files","files.cancel":"Cancel","files.progress":"Progress:","files.progComplete":"Complete"}}),webswingRequirejs.define("webswing-translate",["optional-i18n!nls/msg","optional-i18n!nls/select"],function(t,n){return function(){function s(){try{var e=localStorage.getItem("webswingLang")}catch(t){console.log(t)}var n=e||navigator.browserLanguage||navigator.language;return n}function o(e){var n=e;return u(n,t)}function u(e,t){if(e!=null&&e.indexOf("${")>-1)for(var n=0;n<3;n++){var r=e;for(var i in t)r=f(r,"${"+i+"}",t[i]);if(r===e)return r;e=r}else if(e!=null&&t[e.trim()]!=null)return t[e];return e}function a(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function f(e,t,n){return e.replace(new RegExp(a(t),"g"),n)}var r=this,i;r.injects=i={},r.provides={translate:o,getLocale:s},r.ready=function(){if(n!=null&&Object.keys(n).length>1){var e=s(),r="localStorage.setItem('webswingLang',this.options.item(this.selectedIndex).value);location.reload();",i='<select class="webswing-lang-selector" onchange="'+r+'">';for(var o in n){var u=e==o?"selected":"";i+="<option "+u+' value="'+o+'">'+n[o]+"</option>"}i+="</select>",t["selector.lang"]="${selector.lang.label}"+i}else t["selector.lang"]=""}}}),webswingRequirejs.define("webswing-util",["jquery","webswing-translate"],function(t,n){function i(e,n,s,o){t.ajax({headers:{"X-Requested-With":"XMLHttpRequest"},xhrFields:{withCredentials:!0},type:"POST",url:e+"login",contentType:typeof s=="object"?"application/json":"application/x-www-form-urlencoded; charset=UTF-8",data:typeof s=="object"?JSON.stringify(s):s,success:function(e,t,n){o!=null&&o(e,n)},error:function(t){var s=t.responseText;if(s!=null){var u={};try{u=JSON.parse(s)}catch(a){u.partialHtml=r("<p>${login.failedToAuthenticate}</p>")}if(u.redirectUrl!=null)window.top.location.href=u.redirectUrl;else if(u.partialHtml!=null){typeof n=="function"&&(n=n()),n.html(r(u.partialHtml));var f=n.find("form").first();f.submit(function(t){n.find("#progress").show(),i(e,n,f.serialize(),o),t.preventDefault()})}else n.html(r("<p>${login.unexpectedError}</p>"))}else n.html(r("<p>${login.serverNotAvailable}</p>"))}})}function s(e,n,i){t.ajax({type:"GET",url:e+"logout",xhrFields:{withCredentials:!0},headers:{"X-Requested-With":"XMLHttpRequest"}}).done(function(e,t,s){var o=s.responseText;if(o!=null){var u={};try{u=JSON.parse(o)}catch(a){i()}u.redirectUrl!=null?window.top.location.href=u.redirectUrl:u.partialHtml!=null?(typeof n=="function"&&(n=n()),n.html(r(u.partialHtml))):i()}else n.html(r("<p>${login.serverNotAvailable}</p>"))})}function o(){return"ontouchstart"in window}function u(e){if(typeof e=="object"){var t="",n=new Uint8Array(e.buffer,e.offset,e.limit-e.offset);for(var r=0,i=n.byteLength;r<i;r++)t+=String.fromCharCode(n[r]);e=window.btoa(t)}return"data:image/png;base64,"+e}function a(e,t,n){e.addEventListener!=null&&e.addEventListener(t,n)}function f(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):!1}function l(e){function s(e,n){var s=Date.now();if(e!==r){if(s-i<=t)return n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),!1;r=e}i=s}function o(t,n){t.forEach(function(t){e[0].addEventListener(t,s.bind(null,n),!0)})}var t=2e3,n={MOUSE:0,TOUCH:1},r,i,u=["mousedown","mouseup","mousemove"],a=["touchstart","touchend"];o(u,n.MOUSE),o(a,n.TOUCH)}function c(){var e=function(){return Math.floor(Math.random()*65536).toString(16)};return e()+e()+e()}function h(){return navigator.platform.toUpperCase().indexOf("MAC")>=0}function p(){return typeof InstallTrigger!="undefined"}function d(e,t,n){var r;if(n){var i=new Date;i.setTime(i.getTime()+n*24*60*60*1e3),r="; expires="+i.toGMTString()}else r="";document.cookie=escape(e)+"="+escape(t)+r+"; path=/"}function v(e){var t=escape(e)+"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)===" ")i=i.substring(1,i.length);if(i.indexOf(t)===0)return unescape(i.substring(t.length,i.length))}return null}function m(e){d(e,"",-1)}function g(){if(navigator.cookieEnabled)return!0;document.cookie="cookietest=1";var e=document.cookie.indexOf("cookietest=")!=-1;return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}function y(){var e=Intl.DateTimeFormat().resolvedOptions().timeZone;return e?e:b((new Date).getTimezoneOffset())}function b(e){return"GMT"+((e<0?"+":"-")+w(parseInt(Math.abs(e/60)),2)+w(Math.abs(e%60),2))}function w(e,t){var n=""+e;while(n.length<t)n="0"+n;return n}t.fn.extend({animateCss:function(e){var n="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";this.addClass("animated "+e).one(n,function(){t(this).removeClass("animated "+e)})}});var r=(new n).provides.translate;return{webswingLogin:i,webswingLogout:s,isTouchDevice:o,getImageString:u,bindEvent:a,detectIE:f,detectFF:p,preventGhosts:l,GUID:c,detectMac:h,createCookie:d,readCookie:v,eraseCookie:m,checkCookie:g,dpr:Math.ceil(window.devicePixelRatio)||1,getTimeZone:y}}),function(){function e(e,t){C[x]=e,C[x+1]=t,x+=2,2===x&&k()}function t(e){return"function"==typeof e}function n(){return function(){process.nextTick(o)}}function r(){var e=0,t=new N(o),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function i(){var e=new MessageChannel;return e.port1.onmessage=o,function(){e.port2.postMessage(0)}}function s(){return function(){setTimeout(o,1)}}function o(){for(var e=0;e<x;e+=2)(0,C[e])(C[e+1]),C[e]=void 0,C[e+1]=void 0;x=0}function u(){}function a(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function f(t,n,r){e(function(e){var t=!1,i=a(r,n,function(r){t||(t=!0,n!==r?c(e,r):p(e,r))},function(n){t||(t=!0,d(e,n))});!t&&i&&(t=!0,d(e,i))},t)}function l(e,t){1===t.a?p(e,t.b):2===e.a?d(e,t.b):v(t,void 0,function(t){c(e,t)},function(t){d(e,t)})}function c(e,n){if(e===n)d(e,new TypeError("You cannot resolve a promise with itself"));else if("function"==typeof n||"object"==typeof n&&null!==n)if(n.constructor===e.constructor)l(e,n);else{var r;try{r=n.then}catch(i){L.error=i,r=L}r===L?d(e,L.error):void 0===r?p(e,n):t(r)?f(e,n,r):p(e,n)}else p(e,n)}function h(e){e.f&&e.f(e.b),m(e)}function p(t,n){void 0===t.a&&(t.b=n,t.a=1,0!==t.e.length&&e(m,t))}function d(t,n){void 0===t.a&&(t.a=2,t.b=n,e(h,t))}function v(t,n,r,i){var s=t.e,o=s.length;t.f=null,s[o]=n,s[o+1]=r,s[o+2]=i,0===o&&t.a&&e(m,t)}function m(e){var t=e.e,n=e.a;if(0!==t.length){for(var r,i,s=e.b,o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?y(n,r,i,s):i(s);e.e.length=0}}function g(){this.error=null}function y(e,n,r,i){var s=t(r),o,u,a,f;if(s){try{o=r(i)}catch(l){A.error=l,o=A}o===A?(f=!0,u=o.error,o=null):a=!0;if(n===o){d(n,new TypeError("A promises callback cannot return that same promise."));return}}else o=i,a=!0;void 0===n.a&&(s&&a?c(n,o):f?d(n,u):1===e?p(n,o):2===e&&d(n,o))}function b(e,t){try{t(function(t){c(e,t)},function(t){d(e,t)})}catch(n){d(e,n)}}function w(e,t,n,r){this.n=e,this.c=new e(u,r),this.i=n,this.o(t)?(this.m=t,this.d=this.length=t.length,this.l(),0===this.length?p(this.c,this.b):(this.length=this.length||0,this.k(),0===this.d&&p(this.c,this.b))):d(this.c,this.p())}function E(e){O++,this.b=this.a=void 0,this.e=[];if(u!==e){if(!t(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof E))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");b(this,e)}}var S=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},x=0,T="undefined"!=typeof window?window:{},N=T.MutationObserver||T.WebKitMutationObserver,T="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,C=Array(1e3),k;k="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?n():N?r():T?i():s();var L=new g,A=new g;w.prototype.o=function(e){return S(e)},w.prototype.p=function(){return Error("Array Methods must be provided an Array")},w.prototype.l=function(){this.b=Array(this.length)},w.prototype.k=function(){for(var e=this.length,t=this.c,n=this.m,r=0;void 0===t.a&&r<e;r++)this.j(n[r],r)},w.prototype.j=function(e,t){var n=this.n;"object"==typeof e&&null!==e?e.constructor===n&&void 0!==e.a?(e.f=null,this.g(e.a,t,e.b)):this.q(n.resolve(e),t):(this.d--,this.b[t]=this.h(e))},w.prototype.g=function(e,t,n){var r=this.c;void 0===r.a&&(this.d--,this.i&&2===e?d(r,n):this.b[t]=this.h(n)),0===this.d&&p(r,this.b)},w.prototype.h=function(e){return e},w.prototype.q=function(e,t){var n=this;v(e,void 0,function(e){n.g(1,t,e)},function(e){n.g(2,t,e)})};var O=0;E.all=function(e,t){return(new w(this,e,!0,t)).c},E.race=function(e,t){function n(e){c(i,e)}function r(e){d(i,e)}var i=new this(u,t);if(!S(e))return d(i,new TypeError("You must pass an array to race.")),i;for(var s=e.length,o=0;void 0===i.a&&o<s;o++)v(this.resolve(e[o]),void 0,n,r);return i},E.resolve=function(e,t){if(e&&"object"==typeof e&&e.constructor===this)return e;var n=new this(u,t);return c(n,e),n},E.reject=function(e,t){var n=new this(u,t);return d(n,e),n},E.prototype={constructor:E,then:function(t,n){var r=this.a;if(1===r&&!t||2===r&&!n)return this;var i=new this.constructor(u),s=this.b;if(r){var o=arguments[r-1];e(function(){y(r,i,o,s)})}else v(this,i,t,n);return i},"catch":function(e){return this.then(null,e)}};var M={Promise:E,polyfill:function(){var e;e="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self,"Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var n;return new e.Promise(function(e){n=e}),t(n)}()||(e.Promise=E)}};"function"==typeof webswingRequirejs.define&&webswingRequirejs.define.amd?webswingRequirejs.define("es6promise",[],function(){return M}):"undefined"!=typeof module&&module.exports?module.exports=M:"undefined"!=typeof this&&(this.ES6Promise=M)}.call(this),function(e){function r(e){switch(typeof e){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return e===null?"null":"object"}}function i(e){return Object.prototype.toString.call(e).replace(/^\[object *|\]$/g,"")}function s(e){return typeof e=="function"}function o(e){if(e===null||e===t)throw TypeError();return Object(e)}function u(e){return e>>0}function a(e){return e>>>0}function g(e){function t(t){Object.defineProperty(e,t,{get:function(){return e._getter(t)},set:function(n){e._setter(t,n)},enumerable:!0,configurable:!1})}if(e.length>n)throw RangeError("Array too large for polyfill");var r;for(r=0;r<e.length;r+=1)t(r)}function y(e,t){var n=32-t;return e<<n>>n}function b(e,t){var n=32-t;return e<<n>>>n}function w(e){return[e&255]}function E(e){return y(e[0],8)}function S(e){return[e&255]}function x(e){return b(e[0],8)}function T(e){return e=m(Number(e)),[e<0?0:e>255?255:e&255]}function N(e){return[e>>8&255,e&255]}function C(e){return y(e[0]<<8|e[1],16)}function k(e){return[e>>8&255,e&255]}function L(e){return b(e[0]<<8|e[1],16)}function A(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]}function O(e){return y(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function M(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]}function _(e){return b(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function D(e,t,n){function y(e){var t=c(e),n=e-t;return n<.5?t:n>.5?t+1:t%2?t+1:t}var r=(1<<t-1)-1,i,s,o,u,a,p,m,g;e!==e?(s=(1<<t)-1,o=v(2,n-1),i=0):e===Infinity||e===-Infinity?(s=(1<<t)-1,o=0,i=e<0?1:0):e===0?(s=0,o=0,i=1/e===-Infinity?1:0):(i=e<0,e=l(e),e>=v(2,1-r)?(s=d(c(h(e)/f),1023),o=y(e/v(2,s)*v(2,n)),o/v(2,n)>=2&&(s+=1,o=1),s>r?(s=(1<<t)-1,o=0):(s+=r,o-=v(2,n))):(s=0,o=y(e/v(2,1-r-n)))),p=[];for(a=n;a;a-=1)p.push(o%2?1:0),o=c(o/2);for(a=t;a;a-=1)p.push(s%2?1:0),s=c(s/2);p.push(i?1:0),p.reverse(),m=p.join(""),g=[];while(m.length)g.push(parseInt(m.substring(0,8),2)),m=m.substring(8);return g}function P(e,t,n){var r=[],i,s,o,u,a,f,l,c;for(i=e.length;i;i-=1){o=e[i-1];for(s=8;s;s-=1)r.push(o%2?1:0),o>>=1}return r.reverse(),u=r.join(""),a=(1<<t-1)-1,f=parseInt(u.substring(0,1),2)?-1:1,l=parseInt(u.substring(1,1+t),2),c=parseInt(u.substring(1+t),2),l===(1<<t)-1?c!==0?NaN:f*Infinity:l>0?f*v(2,l-a)*(1+c/v(2,n)):c!==0?f*v(2,-(a-1))*(c/v(2,n)):f<0?0:0}function H(e){return P(e,11,52)}function B(e){return D(e,11,52)}function j(e){return P(e,8,23)}function F(e){return D(e,8,23)}var t=void 0,n=1e5,f=Math.LN2,l=Math.abs,c=Math.floor,h=Math.log,p=Math.max,d=Math.min,v=Math.pow,m=Math.round;(function(){var e=Object.defineProperty,t=!function(){try{return Object.defineProperty({},"x",{})}catch(e){return!1}}();if(!e||t)Object.defineProperty=function(t,n,r){if(e)try{return e(t,n,r)}catch(i){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(t,n,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(t,n,r.set),"value"in r&&(t[n]=r.value),t}})(),function(){function n(e){e=u(e);if(e<0)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"_bytes",{value:Array(e)});for(var t=0;t<e;t+=1)this._bytes[t]=0}function f(){if(!arguments.length||typeof arguments[0]!="object")return function(e){e=u(e);if(e<0)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:e}),Object.defineProperty(this,"byteLength",{value:e*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new n(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(arguments.length>=1&&r(arguments[0])==="object"&&arguments[0]instanceof f)return function(e){if(this.constructor!==e.constructor)throw TypeError();var t=e.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new n(t)}),Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:e.length});for(var r=0;r<this.length;r+=1)this._setter(r,e._getter(r))}.apply(this,arguments);if(!(arguments.length>=1&&r(arguments[0])==="object")||arguments[0]instanceof f||arguments[0]instanceof n||i(arguments[0])==="ArrayBuffer"){if(arguments.length>=1&&r(arguments[0])==="object"&&(arguments[0]instanceof n||i(arguments[0])==="ArrayBuffer"))return function(e,n,r){n=a(n);if(n>e.byteLength)throw RangeError("byteOffset out of range");if(n%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(r===t){var i=e.byteLength-n;if(i%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");r=i/this.BYTES_PER_ELEMENT}else r=a(r),i=r*this.BYTES_PER_ELEMENT;if(n+i>e.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:e}),Object.defineProperty(this,"byteLength",{value:i}),Object.defineProperty(this,"byteOffset",{value:n}),Object.defineProperty(this,"length",{value:r})}.apply(this,arguments);throw TypeError()}return function(e){var t=e.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new n(t)}),Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:e.length});for(var r=0;r<this.length;r+=1){var i=e[r];this._setter(r,Number(i))}}.apply(this,arguments)}function v(e,t,n){var r=function(){Object.defineProperty(this,"constructor",{value:r}),f.apply(this,arguments),g(this)};"__proto__"in r?r.__proto__=f:(r.from=f.from,r.of=f.of),r.BYTES_PER_ELEMENT=e;var i=function(){};return i.prototype=h,r.prototype=new i,Object.defineProperty(r.prototype,"BYTES_PER_ELEMENT",{value:e}),Object.defineProperty(r.prototype,"_pack",{value:t}),Object.defineProperty(r.prototype,"_unpack",{value:n}),r}e.ArrayBuffer=e.ArrayBuffer||n,Object.defineProperty(f,"from",{value:function(e){return new this(e)}}),Object.defineProperty(f,"of",{value:function(){return new this(arguments)}});var h={};f.prototype=h,Object.defineProperty(f.prototype,"_getter",{value:function(e){if(arguments.length<1)throw SyntaxError("Not enough arguments");e=a(e);if(e>=this.length)return t;var n=[],r,i;for(r=0,i=this.byteOffset+e*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,i+=1)n.push(this.buffer._bytes[i]);return this._unpack(n)}}),Object.defineProperty(f.prototype,"get",{value:f.prototype._getter}),Object.defineProperty(f.prototype,"_setter",{value:function(e,t){if(arguments.length<2)throw SyntaxError("Not enough arguments");e=a(e);if(e>=this.length)return;var n=this._pack(t),r,i;for(r=0,i=this.byteOffset+e*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,i+=1)this.buffer._bytes[i]=n[r]}}),Object.defineProperty(f.prototype,"constructor",{value:f}),Object.defineProperty(f.prototype,"copyWithin",{value:function(e,n){var r=arguments[2],i=o(this),s=i.length,f=a(s);f=p(f,0);var l=u(e),c;l<0?c=p(f+l,0):c=d(l,f);var h=u(n),v;h<0?v=p(f+h,0):v=d(h,f);var m;r===t?m=f:m=u(r);var g;m<0?g=p(f+m,0):g=d(m,f);var y=d(g-v,f-c),b;v<c&&c<v+y?(b=-1,v=v+y-1,c=c+y-1):b=1;while(y>0)i._setter(c,i._getter(v)),v+=b,c+=b,y-=1;return i}}),Object.defineProperty(f.prototype,"every",{value:function(e){if(this===t||this===null)throw TypeError();var n=Object(this),r=a(n.length);if(!s(e))throw TypeError();var i=arguments[1];for(var o=0;o<r;o++)if(!e.call(i,n._getter(o),o,n))return!1;return!0}}),Object.defineProperty(f.prototype,"fill",{value:function(e){var n=arguments[1],r=arguments[2],i=o(this),s=i.length,f=a(s);f=p(f,0);var l=u(n),c;l<0?c=p(f+l,0):c=d(l,f);var h;r===t?h=f:h=u(r);var v;h<0?v=p(f+h,0):v=d(h,f);while(c<v)i._setter(c,e),c+=1;return i}}),Object.defineProperty(f.prototype,"filter",{value:function(e){if(this===t||this===null)throw TypeError();var n=Object(this),r=a(n.length);if(!s(e))throw TypeError();var i=[],o=arguments[1];for(var u=0;u<r;u++){var f=n._getter(u);e.call(o,f,u,n)&&i.push(f)}return new this.constructor(i)}}),Object.defineProperty(f.prototype,"find",{value:function(e){var n=o(this),r=n.length,i=a(r);if(!s(e))throw TypeError();var u=arguments.length>1?arguments[1]:t,f=0;while(f<i){var l=n._getter(f),c=e.call(u,l,f,n);if(Boolean(c))return l;++f}return t}}),Object.defineProperty(f.prototype,"findIndex",{value:function(e){var n=o(this),r=n.length,i=a(r);if(!s(e))throw TypeError();var u=arguments.length>1?arguments[1]:t,f=0;while(f<i){var l=n._getter(f),c=e.call(u,l,f,n);if(Boolean(c))return f;++f}return-1}}),Object.defineProperty(f.prototype,"forEach",{value:function(e){if(this===t||this===null)throw TypeError();var n=Object(this),r=a(n.length);if(!s(e))throw TypeError();var i=arguments[1];for(var o=0;o<r;o++)e.call(i,n._getter(o),o,n)}}),Object.defineProperty(f.prototype,"indexOf",{value:function(e){if(this===t||this===null)throw TypeError();var n=Object(this),r=a(n.length);if(r===0)return-1;var i=0;arguments.length>0&&(i=Number(arguments[1]),i!==i?i=0:i!==0&&i!==1/0&&i!==-1/0&&(i=(i>0||-1)*c(l(i))));if(i>=r)return-1;var s=i>=0?i:p(r-l(i),0);for(;s<r;s++)if(n._getter(s)===e)return s;return-1}}),Object.defineProperty(f.prototype,"join",{value:function(e){if(this===t||this===null)throw TypeError();var n=Object(this),r=a(n.length),i=Array(r);for(var s=0;s<r;++s)i[s]=n._getter(s);return i.join(e===t?",":e)}}),Object.defineProperty(f.prototype,"lastIndexOf",{value:function(e){if(this===t||this===null)throw TypeError();var n=Object(this),r=a(n.length);if(r===0)return-1;var i=r;arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:i!==0&&i!==1/0&&i!==-1/0&&(i=(i>0||-1)*c(l(i))));var s=i>=0?d(i,r-1):r-l(i);for(;s>=0;s--)if(n._getter(s)===e)return s;return-1}}),Object.defineProperty(f.prototype,"map",{value:function(e){if(this===t||this===null)throw TypeError();var n=Object(this),r=a(n.length);if(!s(e))throw TypeError();var i=[];i.length=r;var o=arguments[1];for(var u=0;u<r;u++)i[u]=e.call(o,n._getter(u),u,n);return new this.constructor(i)}}),Object.defineProperty(f.prototype,"reduce",{value:function(e){if(this===t||this===null)throw TypeError();var n=Object(this),r=a(n.length);if(!s(e))throw TypeError();if(r===0&&arguments.length===1)throw TypeError();var i=0,o;arguments.length>=2?o=arguments[1]:o=n._getter(i++);while(i<r)o=e.call(t,o,n._getter(i),i,n),i++;return o}}),Object.defineProperty(f.prototype,"reduceRight",{value:function(e){if(this===t||this===null)throw TypeError();var n=Object(this),r=a(n.length);if(!s(e))throw TypeError();if(r===0&&arguments.length===1)throw TypeError();var i=r-1,o;arguments.length>=2?o=arguments[1]:o=n._getter(i--);while(i>=0)o=e.call(t,o,n._getter(i),i,n),i--;return o}}),Object.defineProperty(f.prototype,"reverse",{value:function(){if(this===t||this===null)throw TypeError();var e=Object(this),n=a(e.length),r=c(n/2);for(var i=0,s=n-1;i<r;++i,--s){var o=e._getter(i);e._setter(i,e._getter(s)),e._setter(s,o)}return e}}),Object.defineProperty(f.prototype,"set",{value:function(e,t){if(arguments.length<1)throw SyntaxError("Not enough arguments");var n,r,i,s,o,u,f,l,c,h;if(typeof arguments[0]=="object"&&arguments[0].constructor===this.constructor){n=arguments[0],i=a(arguments[1]);if(i+n.length>this.length)throw RangeError("Offset plus length of array is out of range");l=this.byteOffset+i*this.BYTES_PER_ELEMENT,c=n.length*this.BYTES_PER_ELEMENT;if(n.buffer===this.buffer){h=[];for(o=0,u=n.byteOffset;o<c;o+=1,u+=1)h[o]=n.buffer._bytes[u];for(o=0,f=l;o<c;o+=1,f+=1)this.buffer._bytes[f]=h[o]}else for(o=0,u=n.byteOffset,f=l;o<c;o+=1,u+=1,f+=1)this.buffer._bytes[f]=n.buffer._bytes[u]}else{if(typeof arguments[0]!="object"||typeof arguments[0].length=="undefined")throw TypeError("Unexpected argument type(s)");r=arguments[0],s=a(r.length),i=a(arguments[1]);if(i+s>this.length)throw RangeError("Offset plus length of array is out of range");for(o=0;o<s;o+=1)u=r[o],this._setter(i+o,Number(u))}}}),Object.defineProperty(f.prototype,"slice",{value:function(e,n){var r=o(this),i=r.length,s=a(i),f=u(e),l=f<0?p(s+f,0):d(f,s),c=n===t?s:u(n),h=c<0?p(s+c,0):d(c,s),v=h-l,m=r.constructor,g=new m(v),y=0;while(l<h){var b=r._getter(l);g._setter(y,b),++l,++y}return g}}),Object.defineProperty(f.prototype,"some",{value:function(e){if(this===t||this===null)throw TypeError();var n=Object(this),r=a(n.length);if(!s(e))throw TypeError();var i=arguments[1];for(var o=0;o<r;o++)if(e.call(i,n._getter(o),o,n))return!0;return!1}}),Object.defineProperty(f.prototype,"sort",{value:function(e){if(this===t||this===null)throw TypeError();var n=Object(this),r=a(n.length),i=Array(r);for(var s=0;s<r;++s)i[s]=n._getter(s);e?i.sort(e):i.sort();for(s=0;s<r;++s)n._setter(s,i[s]);return n}}),Object.defineProperty(f.prototype,"subarray",{value:function(e,t){function n(e,t,n){return e<t?t:e>n?n:e}e=u(e),t=u(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=n(e,0,this.length),t=n(t,0,this.length);var r=t-e;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,r)}});var m=v(1,w,E),y=v(1,S,x),b=v(1,T,x),D=v(2,N,C),P=v(2,k,L),I=v(4,A,O),q=v(4,M,_),R=v(4,F,j),U=v(8,B,H);e.Int8Array=e.Int8Array||m,e.Uint8Array=e.Uint8Array||y,e.Uint8ClampedArray=e.Uint8ClampedArray||b,e.Int16Array=e.Int16Array||D,e.Uint16Array=e.Uint16Array||P,e.Int32Array=e.Int32Array||I,e.Uint32Array=e.Uint32Array||q,e.Float32Array=e.Float32Array||R,e.Float64Array=e.Float64Array||U}(),function(){function n(e,t){return s(e.get)?e.get(t):e[t]}function o(e,n,r){if(!(e instanceof ArrayBuffer||i(e)==="ArrayBuffer"))throw TypeError();n=a(n);if(n>e.byteLength)throw RangeError("byteOffset out of range");r===t?r=e.byteLength-n:r=a(r);if(n+r>e.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:e}),Object.defineProperty(this,"byteLength",{value:r}),Object.defineProperty(this,"byteOffset",{value:n})}function u(e){return function(i,s){i=a(i);if(i+e.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");i+=this.byteOffset;var o=new Uint8Array(this.buffer,i,e.BYTES_PER_ELEMENT),u=[];for(var f=0;f<e.BYTES_PER_ELEMENT;f+=1)u.push(n(o,f));return Boolean(s)===Boolean(r)&&u.reverse(),n(new e((new Uint8Array(u)).buffer),0)}}function f(e){return function(i,s,o){i=a(i);if(i+e.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");var u=new e([s]),f=new Uint8Array(u.buffer),l=[],c,h;for(c=0;c<e.BYTES_PER_ELEMENT;c+=1)l.push(n(f,c));Boolean(o)===Boolean(r)&&l.reverse(),h=new Uint8Array(this.buffer,i,e.BYTES_PER_ELEMENT),h.set(l)}}var r=function(){var e=new Uint16Array([4660]),t=new Uint8Array(e.buffer);return n(t,0)===18}();Object.defineProperty(o.prototype,"getUint8",{value:u(Uint8Array)}),Object.defineProperty(o.prototype,"getInt8",{value:u(Int8Array)}),Object.defineProperty(o.prototype,"getUint16",{value:u(Uint16Array)}),Object.defineProperty(o.prototype,"getInt16",{value:u(Int16Array)}),Object.defineProperty(o.prototype,"getUint32",{value:u(Uint32Array)}),Object.defineProperty(o.prototype,"getInt32",{value:u(Int32Array)}),Object.defineProperty(o.prototype,"getFloat32",{value:u(Float32Array)}),Object.defineProperty(o.prototype,"getFloat64",{value:u(Float64Array)}),Object.defineProperty(o.prototype,"setUint8",{value:f(Uint8Array)}),Object.defineProperty(o.prototype,"setInt8",{value:f(Int8Array)}),Object.defineProperty(o.prototype,"setUint16",{value:f(Uint16Array)}),Object.defineProperty(o.prototype,"setInt16",{value:f(Int16Array)}),Object.defineProperty(o.prototype,"setUint32",{value:f(Uint32Array)}),Object.defineProperty(o.prototype,"setInt32",{value:f(Int32Array)}),Object.defineProperty(o.prototype,"setFloat32",{value:f(Float32Array)}),Object.defineProperty(o.prototype,"setFloat64",{value:f(Float64Array)}),e.DataView=e.DataView||o}()}(this),webswingRequirejs.define("typedarray",function(){}),webswingRequirejs.define("webswing-polyfill",["es6promise","typedarray"],function(t){return function(){function r(){return typeof Promise!="undefined"&&Promise.toString().indexOf("[native code]")!==-1?!0:!1}function i(){return"ArrayBuffer"in window&&ArrayBuffer.toString().indexOf("[native code]")!==-1?!0:!1}var n=!1;return i()&&(n=!0),r()||t.polyfill(),n}}),function(){(function(e){function t(e,t,n){this.low=e|0,this.high=t|0,this.unsigned=!!n}t.isLong=function(e){return!0===(e&&e instanceof t)};var n={},r={};t.fromInt=function(e,i){var s;if(i){e>>>=0;if(0<=e&&256>e&&(s=r[e]))return s;s=new t(e,0>(e|0)?-1:0,!0),0<=e&&256>e&&(r[e]=s)}else{e|=0;if(-128<=e&&128>e&&(s=n[e]))return s;s=new t(e,0>e?-1:0,!1),-128<=e&&128>e&&(n[e]=s)}return s},t.fromNumber=function(e,n){return n=!!n,isNaN(e)||!isFinite(e)?t.ZERO:!n&&e<=-s?t.MIN_VALUE:!n&&e+1>=s?t.MAX_VALUE:n&&e>=i?t.MAX_UNSIGNED_VALUE:0>e?t.fromNumber(-e,n).negate():new t(e%4294967296|0,e/4294967296|0,n)},t.fromBits=function(e,n,r){return new t(e,n,r)},t.fromString=function(e,n,r){if(0===e.length)throw Error("number format error: empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t.ZERO;"number"==typeof n&&(r=n,n=!1),r=r||10;if(2>r||36<r)throw Error("radix out of range: "+r);var i;if(0<(i=e.indexOf("-")))throw Error('number format error: interior "-" character: '+e);if(0===i)return t.fromString(e.substring(1),n,r).negate();i=t.fromNumber(Math.pow(r,8));for(var s=t.ZERO,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),a=parseInt(e.substring(o,o+u),r);8>u?(u=t.fromNumber(Math.pow(r,u)),s=s.multiply(u).add(t.fromNumber(a))):(s=s.multiply(i),s=s.add(t.fromNumber(a)))}return s.unsigned=n,s},t.fromValue=function(e){return"number"==typeof e?t.fromNumber(e):"string"==typeof e?t.fromString(e):t.isLong(e)?e:new t(e.low,e.high,e.unsigned)};var i=0x10000000000000000,s=i/2,o=t.fromInt(16777216);t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?4294967296*(this.high>>>0)+(this.low>>>0):4294967296*this.high+(this.low>>>0)},t.prototype.toString=function(e){e=e||10;if(2>e||36<e)throw RangeError("radix out of range: "+e);if(this.isZero())return"0";var n;if(this.isNegative()){if(this.equals(t.MIN_VALUE)){n=t.fromNumber(e);var r=this.div(n);return n=r.multiply(n).subtract(this),r.toString(e)+n.toInt().toString(e)}return"-"+this.negate().toString(e)}r=t.fromNumber(Math.pow(e,6),this.unsigned),n=this;for(var i="";;){var s=n.div(r),o=(n.subtract(s.multiply(r)).toInt()>>>0).toString(e);n=s;if(n.isZero())return o+i;for(;6>o.length;)o="0"+o;i=""+o+i}},t.prototype.getHighBits=function(){return this.high},t.prototype.getHighBitsUnsigned=function(){return this.high>>>0},t.prototype.getLowBits=function(){return this.low},t.prototype.getLowBitsUnsigned=function(){return this.low>>>0},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,n=31;0<n&&0==(e&1<<n);n--);return 0!=this.high?n+33:n+1},t.prototype.isZero=function(){return 0===this.high&&0===this.low},t.prototype.isNegative=function(){return!this.unsigned&&0>this.high},t.prototype.isPositive=function(){return this.unsigned||0<=this.high},t.prototype.isOdd=function(){return 1===(this.low&1)},t.prototype.isEven=function(){return 0===(this.low&1)},t.prototype.equals=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&1===this.high>>>31&&1===e.high>>>31?!1:this.high===e.high&&this.low===e.low},t.prototype.notEquals=function(e){return t.isLong(e)||(e=t.fromValue(e)),!this.equals(e)},t.prototype.lessThan=function(e){return t.isLong(e)||(e=t.fromValue(e)),0>this.compare(e)},t.prototype.lessThanOrEqual=function(e){return t.isLong(e)||(e=t.fromValue(e)),0>=this.compare(e)},t.prototype.greaterThan=function(e){return t.isLong(e)||(e=t.fromValue(e)),0<this.compare(e)},t.prototype.greaterThanOrEqual=function(e){return 0<=this.compare(e)},t.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.subtract(e).isNegative()?-1:1},t.prototype.negate=function(){return!this.unsigned&&this.equals(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.add=function(e){t.isLong(e)||(e=t.fromValue(e));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,s=e.high>>>16,o=e.high&65535,u=e.low>>>16,a;return a=0+((this.low&65535)+(e.low&65535)),e=0+(a>>>16),e+=i+u,i=0+(e>>>16),i+=r+o,r=0+(i>>>16),r=r+(n+s)&65535,t.fromBits((e&65535)<<16|a&65535,r<<16|i&65535,this.unsigned)},t.prototype.subtract=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.negate())},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;t.isLong(e)||(e=t.fromValue(e));if(e.isZero())return t.ZERO;if(this.equals(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.equals(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(o)&&e.lessThan(o))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,s=this.low&65535,u=e.high>>>16,a=e.high&65535,f=e.low>>>16;e=e.low&65535;var l,c,h,p;return p=0+s*e,h=0+(p>>>16),h+=i*e,c=0+(h>>>16),h=(h&65535)+s*f,c+=h>>>16,h&=65535,c+=r*e,l=0+(c>>>16),c=(c&65535)+i*f,l+=c>>>16,c&=65535,c+=s*a,l+=c>>>16,c&=65535,l=l+(n*e+r*f+i*a+s*u)&65535,t.fromBits(h<<16|p&65535,l<<16|c,this.unsigned)},t.prototype.div=function(e){t.isLong(e)||(e=t.fromValue(e));if(e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var n,r,i;if(this.equals(t.MIN_VALUE))return e.equals(t.ONE)||e.equals(t.NEG_ONE)?t.MIN_VALUE:e.equals(t.MIN_VALUE)?t.ONE:(n=this.shiftRight(1).div(e).shiftLeft(1),n.equals(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(r=this.subtract(e.multiply(n)),i=n.add(r.div(e))));if(e.equals(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();i=t.ZERO;for(r=this;r.greaterThanOrEqual(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),o=t.fromNumber(n),u=o.multiply(e);u.isNegative()||u.greaterThan(r);)n-=s,o=t.fromNumber(n,this.unsigned),u=o.multiply(e);o.isZero()&&(o=t.ONE),i=i.add(o),r=r.subtract(u)}return i},t.prototype.modulo=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.subtract(this.div(e).multiply(e))},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.and=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.or=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.xor=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.shiftLeft=function(e){return t.isLong(e)&&(e=e.toInt()),0===(e&=63)?this:32>e?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shiftRight=function(e){return t.isLong(e)&&(e=e.toInt()),0===(e&=63)?this:32>e?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},t.prototype.shiftRightUnsigned=function(e){t.isLong(e)&&(e=e.toInt()),e&=63;if(0===e)return this;var n=this.high;return 32>e?t.fromBits(this.low>>>e|n<<32-e,n>>>e,this.unsigned):32===e?t.fromBits(n,0,this.unsigned):t.fromBits(n>>>e-32,0,this.unsigned)},t.prototype.toSigned=function(){return this.unsigned?new t(this.low,this.high,!1):this},t.prototype.toUnsigned=function(){return this.unsigned?this:new t(this.low,this.high,!0)},"function"==typeof require&&"object"==typeof module&&module&&"object"==typeof exports&&exports?module.exports=t:"function"==typeof webswingRequirejs.define&&webswingRequirejs.define.amd?webswingRequirejs.define("Long",[],function(){return t}):(e.dcodeIO=e.dcodeIO||{}).Long=t})(this)}(),function(e){function t(e){function t(e,n,r){"undefined"==typeof e&&(e=t.DEFAULT_CAPACITY),"undefined"==typeof n&&(n=t.DEFAULT_ENDIAN),"undefined"==typeof r&&(r=t.DEFAULT_NOASSERT);if(!r){e|=0;if(0>e)throw RangeError("Illegal capacity");n=!!n,r=!!r}this.buffer=0===e?o:new ArrayBuffer(e),this.view=0===e?null:new DataView(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian="undefined"!=typeof n?!!n:!1,this.noAssert=!!r}function n(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function r(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+u.apply(String,e);1024<e.length+arguments.length&&(t.push(u.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}t.VERSION="3.5.0",t.LITTLE_ENDIAN=!0,t.BIG_ENDIAN=!1,t.DEFAULT_CAPACITY=16,t.DEFAULT_ENDIAN=t.BIG_ENDIAN,t.DEFAULT_NOASSERT=!1,t.Long=e||null;var s=t.prototype,o=new ArrayBuffer(0),u=String.fromCharCode;t.allocate=function(e,n,r){return new t(e,n,r)},t.concat=function(e,n,r,i){if("boolean"==typeof n||"string"!=typeof n)i=r,r=n,n=void 0;for(var s=0,o=0,u=e.length,a;o<u;++o)t.isByteBuffer(e[o])||(e[o]=t.wrap(e[o],n)),a=e[o].limit-e[o].offset,0<a&&(s+=a);if(0===s)return new t(0,r,i);n=new t(s,r,i),i=new Uint8Array(n.buffer);for(o=0;o<u;)r=e[o++],a=r.limit-r.offset,0>=a||(i.set((new Uint8Array(r.buffer)).subarray(r.offset,r.limit),n.offset),n.offset+=a);return n.limit=n.offset,n.offset=0,n},t.isByteBuffer=function(e){return!0===(e&&e instanceof t)},t.type=function(){return ArrayBuffer},t.wrap=function(e,n,r,o){"string"!=typeof n&&(o=r,r=n,n=void 0);if("string"==typeof e)switch("undefined"==typeof n&&(n="utf8"),n){case"base64":return t.fromBase64(e,r);case"hex":return t.fromHex(e,r);case"binary":return t.fromBinary(e,r);case"utf8":return t.fromUTF8(e,r);case"debug":return t.fromDebug(e,r);default:throw Error("Unsupported encoding: "+n)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");if(t.isByteBuffer(e))return n=s.clone.call(e),n.markedOffset=-1,n;if(e instanceof Uint8Array)n=new t(0,r,o),0<e.length&&(n.buffer=e.buffer,n.offset=e.byteOffset,n.limit=e.byteOffset+e.length,n.view=0<e.length?new DataView(e.buffer):null);else if(e instanceof ArrayBuffer)n=new t(0,r,o),0<e.byteLength&&(n.buffer=e,n.offset=0,n.limit=e.byteLength,n.view=0<e.byteLength?new DataView(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");for(n=new t(e.length,r,o),n.limit=e.length,i=0;i<e.length;++i)n.view.setUint8(i,e[i])}return n},s.writeInt8=function(e,t){var n="undefined"==typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal value: "+e+" (not an integer)");e|=0;if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: "+t+" (not an integer)");t>>>=0;if(0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),this.view.setInt8(t-1,e),n&&(this.offset+=1),this},s.writeByte=s.writeInt8,s.readInt8=function(e){var t="undefined"==typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");e>>>=0;if(0>e||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}return e=this.view.getInt8(e),t&&(this.offset+=1),e},s.readByte=s.readInt8,s.writeUint8=function(e,t){var n="undefined"==typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal value: "+e+" (not an integer)");e>>>=0;if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: "+t+" (not an integer)");t>>>=0;if(0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),this.view.setUint8(t-1,e),n&&(this.offset+=1),this},s.readUint8=function(e){var t="undefined"==typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");e>>>=0;if(0>e||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}return e=this.view.getUint8(e),t&&(this.offset+=1),e},s.writeInt16=function(e,t){var n="undefined"==typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal value: "+e+" (not an integer)");e|=0;if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: "+t+" (not an integer)");t>>>=0;if(0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),this.view.setInt16(t-2,e,this.littleEndian),n&&(this.offset+=2),this},s.writeShort=s.writeInt16,s.readInt16=function(e){var t="undefined"==typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");e>>>=0;if(0>e||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}return e=this.view.getInt16(e,this.littleEndian),t&&(this.offset+=2),e},s.readShort=s.readInt16,s.writeUint16=function(e,t){var n="undefined"==typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal value: "+e+" (not an integer)");e>>>=0;if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: "+t+" (not an integer)");t>>>=0;if(0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),this.view.setUint16(t-2,e,this.littleEndian),n&&(this.offset+=2),this},s.readUint16=function(e){var t="undefined"==typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");e>>>=0;if(0>e||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}return e=this.view.getUint16(e,this.littleEndian),t&&(this.offset+=2),e},s.writeInt32=function(e,t){var n="undefined"==typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal value: "+e+" (not an integer)");e|=0;if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: "+t+" (not an integer)");t>>>=0;if(0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),this.view.setInt32(t-4,e,this.littleEndian),n&&(this.offset+=4),this},s.writeInt=s.writeInt32,s.readInt32=function(e){var t="undefined"==typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");e>>>=0;if(0>e||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}return e=this.view.getInt32(e,this.littleEndian),t&&(this.offset+=4),e},s.readInt=s.readInt32,s.writeUint32=function(e,t){var n="undefined"==typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal value: "+e+" (not an integer)");e>>>=0;if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: "+t+" (not an integer)");t>>>=0;if(0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),this.view.setUint32(t-4,e,this.littleEndian),n&&(this.offset+=4),this},s.readUint32=function(e){var t="undefined"==typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");e>>>=0;if(0>e||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}return e=this.view.getUint32(e,this.littleEndian),t&&(this.offset+=4),e},e&&(s.writeInt64=function(t,n){var r="undefined"==typeof n;r&&(n=this.offset);if(!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||0!==n%1)throw TypeError("Illegal offset: "+n+" (not an integer)");n>>>=0;if(0>n||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t&&(t=e.fromNumber(t)),n+=8;var i=this.buffer.byteLength;return n>i&&this.resize((i*=2)>n?i:n),n-=8,this.littleEndian?(this.view.setInt32(n,t.low,!0),this.view.setInt32(n+4,t.high,!0)):(this.view.setInt32(n,t.high,!1),this.view.setInt32(n+4,t.low,!1)),r&&(this.offset+=8),this},s.writeLong=s.writeInt64,s.readInt64=function(t){var n="undefined"==typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: "+t+" (not an integer)");t>>>=0;if(0>t||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}return t=this.littleEndian?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!1):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!1),n&&(this.offset+=8),t},s.readLong=s.readInt64,s.writeUint64=function(t,n){var r="undefined"==typeof n;r&&(n=this.offset);if(!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||0!==n%1)throw TypeError("Illegal offset: "+n+" (not an integer)");n>>>=0;if(0>n||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t&&(t=e.fromNumber(t)),n+=8;var i=this.buffer.byteLength;return n>i&&this.resize((i*=2)>n?i:n),n-=8,this.littleEndian?(this.view.setInt32(n,t.low,!0),this.view.setInt32(n+4,t.high,!0)):(this.view.setInt32(n,t.high,!1),this.view.setInt32(n+4,t.low,!1)),r&&(this.offset+=8),this},s.readUint64=function(t){var n="undefined"==typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: "+t+" (not an integer)");t>>>=0;if(0>t||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}return t=this.littleEndian?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!0):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!0),n&&(this.offset+=8),t}),s.writeFloat32=function(e,t){var n="undefined"==typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: "+t+" (not an integer)");t>>>=0;if(0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),this.view.setFloat32(t-4,e,this.littleEndian),n&&(this.offset+=4),this},s.writeFloat=s.writeFloat32,s.readFloat32=function(e){var t="undefined"==typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");e>>>=0;if(0>e||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}return e=this.view.getFloat32(e,this.littleEndian),t&&(this.offset+=4),e},s.readFloat=s.readFloat32,s.writeFloat64=function(e,t){var n="undefined"==typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: "+t+" (not an integer)");t>>>=0;if(0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),this.view.setFloat64(t-8,e,this.littleEndian),n&&(this.offset+=8),this},s.writeDouble=s.writeFloat64,s.readFloat64=function(e){var t="undefined"==typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");e>>>=0;if(0>e||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}return e=this.view.getFloat64(e,this.littleEndian),t&&(this.offset+=8),e},s.readDouble=s.readFloat64,t.MAX_VARINT32_BYTES=5,t.calculateVarint32=function(e){return e>>>=0,128>e?1:16384>e?2:2097152>e?3:268435456>e?4:5},t.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},t.zigZagDecode32=function(e){return e>>>1^-(e&1)|0},s.writeVarint32=function(e,n){var r="undefined"==typeof n;r&&(n=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal value: "+e+" (not an integer)");e|=0;if("number"!=typeof n||0!==n%1)throw TypeError("Illegal offset: "+n+" (not an integer)");n>>>=0;if(0>n||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i=t.calculateVarint32(e);n+=i;var s=this.buffer.byteLength;return n>s&&this.resize((s*=2)>n?s:n),n-=i,this.view.setUint8(n,i=e|128),e>>>=0,128<=e?(i=e>>7|128,this.view.setUint8(n+1,i),16384<=e?(i=e>>14|128,this.view.setUint8(n+2,i),2097152<=e?(i=e>>21|128,this.view.setUint8(n+3,i),268435456<=e?(this.view.setUint8(n+4,e>>28&15),i=5):(this.view.setUint8(n+3,i&127),i=4)):(this.view.setUint8(n+2,i&127),i=3)):(this.view.setUint8(n+1,i&127),i=2)):(this.view.setUint8(n,i&127),i=1),r?(this.offset+=i,this):i},s.writeVarint32ZigZag=function(e,n){return this.writeVarint32(t.zigZagEncode32(e),n)},s.readVarint32=function(e){var t="undefined"==typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");e>>>=0;if(0>e||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=0,r=0,i;do{i=e+n;if(!this.noAssert&&i>this.limit)throw e=Error("Truncated"),e.truncated=!0,e;i=this.view.getUint8(i),5>n&&(r|=(i&127)<<7*n>>>0),++n}while(128===(i&128));return r|=0,t?(this.offset+=n,r):{value:r,length:n}},s.readVarint32ZigZag=function(e){return e=this.readVarint32(e),"object"==typeof e?e.value=t.zigZagDecode32(e.value):e=t.zigZagDecode32(e),e},e&&(t.MAX_VARINT64_BYTES=10,t.calculateVarint64=function(t){"number"==typeof t&&(t=e.fromNumber(t));var n=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0;return t=t.shiftRightUnsigned(56).toInt()>>>0,0==t?0==r?16384>n?128>n?1:2:2097152>n?3:4:16384>r?128>r?5:6:2097152>r?7:8:128>t?9:10},t.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},t.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},s.writeVarint64=function(n,r){var i="undefined"==typeof r;i&&(r=this.offset);if(!this.noAssert){if("number"==typeof n)n=e.fromNumber(n);else if(!(n&&n instanceof e))throw TypeError("Illegal value: "+n+" (not an integer or Long)");if("number"!=typeof r||0!==r%1)throw TypeError("Illegal offset: "+r+" (not an integer)");r>>>=0;if(0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof n?n=e.fromNumber(n,!1):!1!==n.unsigned&&(n=n.toSigned());var s=t.calculateVarint64(n),o=n.toInt()>>>0,u=n.shiftRightUnsigned(28).toInt()>>>0,a=n.shiftRightUnsigned(56).toInt()>>>0;r+=s;var f=this.buffer.byteLength;r>f&&this.resize((f*=2)>r?f:r),r-=s;switch(s){case 10:this.view.setUint8(r+9,a>>>7&1);case 9:this.view.setUint8(r+8,9!==s?a|128:a&127);case 8:this.view.setUint8(r+7,8!==s?u>>>21|128:u>>>21&127);case 7:this.view.setUint8(r+6,7!==s?u>>>14|128:u>>>14&127);case 6:this.view.setUint8(r+5,6!==s?u>>>7|128:u>>>7&127);case 5:this.view.setUint8(r+4,5!==s?u|128:u&127);case 4:this.view.setUint8(r+3,4!==s?o>>>21|128:o>>>21&127);case 3:this.view.setUint8(r+2,3!==s?o>>>14|128:o>>>14&127);case 2:this.view.setUint8(r+1,2!==s?o>>>7|128:o>>>7&127);case 1:this.view.setUint8(r,1!==s?o|128:o&127)}return i?(this.offset+=s,this):s},s.writeVarint64ZigZag=function(e,n){return this.writeVarint64(t.zigZagEncode64(e),n)},s.readVarint64=function(t){var n="undefined"==typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: "+t+" (not an integer)");t>>>=0;if(0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,i=0,s=0,o=0,u=0,u=this.view.getUint8(t++),i=u&127;if(u&128&&(u=this.view.getUint8(t++),i|=(u&127)<<7,u&128&&(u=this.view.getUint8(t++),i|=(u&127)<<14,u&128&&(u=this.view.getUint8(t++),i|=(u&127)<<21,u&128&&(u=this.view.getUint8(t++),s=u&127,u&128&&(u=this.view.getUint8(t++),s|=(u&127)<<7,u&128&&(u=this.view.getUint8(t++),s|=(u&127)<<14,u&128&&(u=this.view.getUint8(t++),s|=(u&127)<<21,u&128&&(u=this.view.getUint8(t++),o=u&127,u&128&&(u=this.view.getUint8(t++),o|=(u&127)<<7,u&128))))))))))throw Error("Buffer overrun");return i=e.fromBits(i|s<<28,s>>>4|o<<24,!1),n?(this.offset=t,i):{value:i,length:t-r}},s.readVarint64ZigZag=function(n){return(n=this.readVarint64(n))&&n.value instanceof e?n.value=t.zigZagDecode64(n.value):n=t.zigZagDecode64(n),n}),s.writeCString=function(e,t){var r="undefined"==typeof t;r&&(t=this.offset);var i,s=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(i=0;i<s;++i)if(0===e.charCodeAt(i))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: "+t+" (not an integer)");t>>>=0;if(0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}i=t,s=f.a(n(e))[1],t+=s+1;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=s+1,f.c(n(e),function(e){this.view.setUint8(t++,e)}.bind(this)),this.view.setUint8(t++,0),r?(this.offset=t-i,this):s},s.readCString=function(e){var t="undefined"==typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");e>>>=0;if(0>e||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=e,i,s=-1;return f.b(function(){if(0===s)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(s=this.view.getUint8(e++))?null:s}.bind(this),i=r(),!0),t?(this.offset=e,i()):{string:i(),length:e-n}},s.writeIString=function(e,t){var r="undefined"==typeof t;r&&(t=this.offset);if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: "+t+" (not an integer)");t>>>=0;if(0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i=t,s;s=f.a(n(e),this.noAssert)[1],t+=4+s;var o=this.buffer.byteLength;t>o&&this.resize((o*=2)>t?o:t),t-=4+s,this.view.setUint32(t,s,this.littleEndian),t+=4,f.c(n(e),function(e){this.view.setUint8(t++,e)}.bind(this));if(t!==i+4+s)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+4+s));return r?(this.offset=t,this):t-i},s.readIString=function(e){var t="undefined"==typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");e>>>=0;if(0>e||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0,i=e,n=this.view.getUint32(e,this.littleEndian);e+=4;var s=e+n;return f.b(function(){return e<s?this.view.getUint8(e++):null}.bind(this),n=r(),this.noAssert),n=n(),t?(this.offset=e,n):{string:n,length:e-i}},t.METRICS_CHARS="c",t.METRICS_BYTES="b",s.writeUTF8String=function(e,t){var r="undefined"==typeof t;r&&(t=this.offset);if(!this.noAssert){if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: "+t+" (not an integer)");t>>>=0;if(0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,s=t;i=f.a(n(e))[1],t+=i;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=i,f.c(n(e),function(e){this.view.setUint8(t++,e)}.bind(this)),r?(this.offset=t,this):t-s},s.writeString=s.writeUTF8String,t.calculateUTF8Chars=function(e){return f.a(n(e))[0]},t.calculateUTF8Bytes=function(e){return f.a(n(e))[1]},s.readUTF8String=function(e,n,i){"number"==typeof n&&(i=n,n=void 0);var s="undefined"==typeof i;s&&(i=this.offset),"undefined"==typeof n&&(n=t.METRICS_CHARS);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0;if("number"!=typeof i||0!==i%1)throw TypeError("Illegal offset: "+i+" (not an integer)");i>>>=0;if(0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var o=0,u=i,a;if(n===t.METRICS_CHARS){a=r(),f.g(function(){return o<e&&i<this.limit?this.view.getUint8(i++):null}.bind(this),function(e){++o,f.e(e,a)}.bind(this));if(o!==e)throw RangeError("Illegal range: Truncated data, "+o+" == "+e);return s?(this.offset=i,a()):{string:a(),length:i-u}}if(n===t.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof i||0!==i%1)throw TypeError("Illegal offset: "+i+" (not an integer)");i>>>=0;if(0>i||i+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+e+") <= "+this.buffer.byteLength)}var c=i+e;f.b(function(){return i<c?this.view.getUint8(i++):null}.bind(this),a=r(),this.noAssert);if(i!==c)throw RangeError("Illegal range: Truncated data, "+i+" == "+c);return s?(this.offset=i,a()):{string:a(),length:i-u}}throw TypeError("Unsupported metrics: "+n)},s.readString=s.readUTF8String,s.writeVString=function(e,r){var i="undefined"==typeof r;i&&(r=this.offset);if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||0!==r%1)throw TypeError("Illegal offset: "+r+" (not an integer)");r>>>=0;if(0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var s=r,o,u;o=f.a(n(e),this.noAssert)[1],u=t.calculateVarint32(o),r+=u+o;var a=this.buffer.byteLength;r>a&&this.resize((a*=2)>r?a:r),r-=u+o,r+=this.writeVarint32(o,r),f.c(n(e),function(e){this.view.setUint8(r++,e)}.bind(this));if(r!==s+o+u)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+o+u));return i?(this.offset=r,this):r-s},s.readVString=function(e){var t="undefined"==typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");e>>>=0;if(0>e||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.readVarint32(e),i=e;e+=n.length;var n=n.value,s=e+n,n=r();return f.b(function(){return e<s?this.view.getUint8(e++):null}.bind(this),n,this.noAssert),n=n(),t?(this.offset=e,n):{string:n,length:e-i}},s.append=function(e,n,r){if("number"==typeof n||"string"!=typeof n)r=n,n=void 0;var i="undefined"==typeof r;i&&(r=this.offset);if(!this.noAssert){if("number"!=typeof r||0!==r%1)throw TypeError("Illegal offset: "+r+" (not an integer)");r>>>=0;if(0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,n)),n=e.limit-e.offset;if(0>=n)return this;r+=n;var s=this.buffer.byteLength;return r>s&&this.resize((s*=2)>r?s:r),(new Uint8Array(this.buffer,r-n)).set((new Uint8Array(e.buffer)).subarray(e.offset,e.limit)),e.offset+=n,i&&(this.offset+=n),this},s.appendTo=function(e,t){return e.append(this,t),this},s.assert=function(e){return this.noAssert=!e,this},s.capacity=function(){return this.buffer.byteLength},s.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},s.clone=function(e){var n=new t(0,this.littleEndian,this.noAssert);return e?(e=new ArrayBuffer(this.buffer.byteLength),(new Uint8Array(e)).set(this.buffer),n.buffer=e,n.view=new DataView(e)):(n.buffer=this.buffer,n.view=this.view),n.offset=this.offset,n.markedOffset=this.markedOffset,n.limit=this.limit,n},s.compact=function(e,t){"undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal begin: Not an integer");e>>>=0;if("number"!=typeof t||0!==t%1)throw TypeError("Illegal end: Not an integer");t>>>=0;if(0>e||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var n=t-e;if(0===n)return this.buffer=o,this.view=null,0<=this.markedOffset&&(this.markedOffset-=e),this.limit=this.offset=0,this;var r=new ArrayBuffer(n);return(new Uint8Array(r)).set((new Uint8Array(this.buffer)).subarray(e,t)),this.buffer=r,this.view=new DataView(r),0<=this.markedOffset&&(this.markedOffset-=e),this.offset=0,this.limit=n,this},s.copy=function(e,n){"undefined"==typeof e&&(e=this.offset),"undefined"==typeof n&&(n=this.limit);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal begin: Not an integer");e>>>=0;if("number"!=typeof n||0!==n%1)throw TypeError("Illegal end: Not an integer");n>>>=0;if(0>e||e>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+n+" <= "+this.buffer.byteLength)}if(e===n)return new t(0,this.littleEndian,this.noAssert);var r=n-e,i=new t(r,this.littleEndian,this.noAssert);return i.offset=0,i.limit=r,0<=i.markedOffset&&(i.markedOffset-=e),this.copyTo(i,0,e,n),i},s.copyTo=function(e,n,r,i){var s,o;if(!this.noAssert&&!t.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");n=(o="undefined"==typeof n)?e.offset:n|0,r=(s="undefined"==typeof r)?this.offset:r|0,i="undefined"==typeof i?this.limit:i|0;if(0>n||n>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+n+" <= "+e.buffer.byteLength);if(0>r||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var u=i-r;return 0===u?e:(e.ensureCapacity(n+u),(new Uint8Array(e.buffer)).set((new Uint8Array(this.buffer)).subarray(r,i),n),s&&(this.offset+=u),o&&(e.offset+=u),this)},s.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},s.fill=function(e,t,n){var r="undefined"==typeof t;r&&(t=this.offset),"string"==typeof e&&0<e.length&&(e=e.charCodeAt(0)),"undefined"==typeof t&&(t=this.offset),"undefined"==typeof n&&(n=this.limit);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal value: "+e+" (not an integer)");e|=0;if("number"!=typeof t||0!==t%1)throw TypeError("Illegal begin: Not an integer");t>>>=0;if("number"!=typeof n||0!==n%1)throw TypeError("Illegal end: Not an integer");n>>>=0;if(0>t||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t>=n)return this;for(;t<n;)this.view.setUint8(t++,e);return r&&(this.offset=t),this},s.flip=function(){return this.limit=this.offset,this.offset=0,this},s.mark=function(e){e="undefined"==typeof e?this.offset:e;if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");e>>>=0;if(0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},s.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},s.LE=function(e){return this.littleEndian="undefined"!=typeof e?!!e:!0,this},s.BE=function(e){return this.littleEndian="undefined"!=typeof e?!e:!1,this},s.prepend=function(e,n,r){if("number"==typeof n||"string"!=typeof n)r=n,n=void 0;var i="undefined"==typeof r;i&&(r=this.offset);if(!this.noAssert){if("number"!=typeof r||0!==r%1)throw TypeError("Illegal offset: "+r+" (not an integer)");r>>>=0;if(0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,n)),n=e.limit-e.offset;if(0>=n)return this;var s=n-r,o;if(0<s){var u=new ArrayBuffer(this.buffer.byteLength+s);o=new Uint8Array(u),o.set((new Uint8Array(this.buffer)).subarray(r,this.buffer.byteLength),n),this.buffer=u,this.view=new DataView(u),this.offset+=s,0<=this.markedOffset&&(this.markedOffset+=s),this.limit+=s,r+=s}else o=new Uint8Array(this.buffer);return o.set((new Uint8Array(e.buffer)).subarray(e.offset,e.limit),r-n),e.offset=e.limit,i&&(this.offset-=n),this},s.prependTo=function(e,t){return e.prepend(this,t),this},s.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},s.remaining=function(){return this.limit-this.offset},s.reset=function(){return 0<=this.markedOffset?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},s.resize=function(e){if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal capacity: "+e+" (not an integer)");e|=0;if(0>e)throw RangeError("Illegal capacity: 0 <= "+e)}return this.buffer.byteLength<e&&(e=new ArrayBuffer(e),(new Uint8Array(e)).set(new Uint8Array(this.buffer)),this.buffer=e,this.view=new DataView(e)),this},s.reverse=function(e,t){"undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal begin: Not an integer");e>>>=0;if("number"!=typeof t||0!==t%1)throw TypeError("Illegal end: Not an integer");t>>>=0;if(0>e||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t?this:(Array.prototype.reverse.call((new Uint8Array(this.buffer)).subarray(e,t)),this.view=new DataView(this.buffer),this)},s.skip=function(e){if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(0>t||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},s.slice=function(e,t){"undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal begin: Not an integer");e>>>=0;if("number"!=typeof t||0!==t%1)throw TypeError("Illegal end: Not an integer");t>>>=0;if(0>e||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n=this.clone();return n.offset=e,n.limit=t,n},s.toBuffer=function(e){var t=this.offset,n=this.limit;if(t>n)var r=t,t=n,n=r;if(!this.noAssert){if("number"!=typeof t||0!==t%1)throw TypeError("Illegal offset: Not an integer");t>>>=0;if("number"!=typeof n||0!==n%1)throw TypeError("Illegal limit: Not an integer");n>>>=0;if(0>t||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}return!e&&0===t&&n===this.buffer.byteLength?this.buffer:t===n?o:(e=new ArrayBuffer(n-t),(new Uint8Array(e)).set((new Uint8Array(this.buffer)).subarray(t,n),0),e)},s.toArrayBuffer=s.toBuffer,s.toString=function(e,t,n){if("undefined"==typeof e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";"number"==typeof e&&(n=t=e="utf8");switch(e){case"utf8":return this.toUTF8(t,n);case"base64":return this.toBase64(t,n);case"hex":return this.toHex(t,n);case"binary":return this.toBinary(t,n);case"debug":return this.toDebug();case"columns":return this.m();default:throw Error("Unsupported encoding: "+e)}};var a=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],n=[],r=0,i=t.length;r<i;++r)n[t[r]]=r;return e.i=function(e,n){for(var r,i;null!==(r=e());)n(t[r>>2&63]),i=(r&3)<<4,null!==(r=e())?(i|=r>>4&15,n(t[(i|r>>4&15)&63]),i=(r&15)<<2,null!==(r=e())?(n(t[(i|r>>6&3)&63]),n(t[r&63])):(n(t[i&63]),n(61))):(n(t[i&63]),n(61),n(61))},e.h=function(e,t){function r(e){throw Error("Illegal character code: "+e)}for(var i,s,o;null!==(i=e());)if(s=n[i],"undefined"==typeof s&&r(i),null!==(i=e())&&(o=n[i],"undefined"==typeof o&&r(i),t(s<<2>>>0|(o&48)>>4),null!==(i=e()))){s=n[i];if("undefined"==typeof s){if(61===i)break;r(i)}t((o&15)<<4>>>0|(s&60)>>2);if(null!==(i=e())){o=n[i];if("undefined"==typeof o){if(61===i)break;r(i)}t((s&3)<<6>>>0|o)}}},e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e}();s.toBase64=function(e,t){"undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal begin: Not an integer");e>>>=0;if("number"!=typeof t||0!==t%1)throw TypeError("Illegal end: Not an integer");t>>>=0;if(0>e||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n;return a.i(function(){return e<t?this.view.getUint8(e++):null}.bind(this),n=r()),n()},t.fromBase64=function(e,r,i){if(!i){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(0!==e.length%4)throw TypeError("Illegal str: Length not a multiple of 4")}var s=new t(e.length/4*3,r,i),o=0;return a.h(n(e),function(e){s.view.setUint8(o++,e)}),s.limit=o,s},t.btoa=function(e){return t.fromBinary(e).toBase64()},t.atob=function(e){return t.fromBase64(e).toBinary()},s.toBinary=function(e,t){e="undefined"==typeof e?this.offset:e,t="undefined"==typeof t?this.limit:t;if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal begin: Not an integer");e>>>=0;if("number"!=typeof t||0!==t%1)throw TypeError("Illegal end: Not an integer");t>>>=0;if(0>e||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return"";for(var n=[],r=[];e<t;)n.push(this.view.getUint8(e++)),1024<=n.length&&(r.push(String.fromCharCode.apply(String,n)),n=[]);return r.join("")+String.fromCharCode.apply(String,n)},t.fromBinary=function(e,n,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");for(var i=0,s=e.length,o=new t(s,n,r);i<s;){n=e.charCodeAt(i);if(!r&&255<n)throw RangeError("Illegal charCode at "+i+": 0 <= "+n+" <= 255");o.view.setUint8(i++,n)}return o.limit=s,o},s.toDebug=function(e){for(var t=-1,n=this.buffer.byteLength,r,i="",s="",o="";t<n;){-1!==t&&(r=this.view.getUint8(t),i=16>r?i+("0"+r.toString(16).toUpperCase()):i+r.toString(16).toUpperCase(),e&&(s+=32<r&&127>r?String.fromCharCode(r):".")),++t;if(e&&0<t&&0===t%16&&t!==n){for(;51>i.length;)i+=" ";o+=i+s+"\n",i=s=""}i=t===this.offset&&t===this.limit?i+(t===this.markedOffset?"!":"|"):t===this.offset?i+(t===this.markedOffset?"[":"<"):t===this.limit?i+(t===this.markedOffset?"]":">"):i+(t===this.markedOffset?"'":e||0!==t&&t!==n?" ":"")}if(e&&" "!==i){for(;51>i.length;)i+=" ";o+=i+s+"\n"}return e?o:i},t.fromDebug=function(e,n,r){var i=e.length;n=new t((i+1)/3|0,n,r);for(var s=0,o=0,u,a=!1,f=!1,l=!1,c=!1,h=!1;s<i;){switch(u=e.charAt(s++)){case"!":if(!r){if(f||l||c){h=!0;break}f=l=c=!0}n.offset=n.markedOffset=n.limit=o,a=!1;break;case"|":if(!r){if(f||c){h=!0;break}f=c=!0}n.offset=n.limit=o,a=!1;break;case"[":if(!r){if(f||l){h=!0;break}f=l=!0}n.offset=n.markedOffset=o,a=!1;break;case"<":if(!r){if(f){h=!0;break}f=!0}n.offset=o,a=!1;break;case"]":if(!r){if(c||l){h=!0;break}c=l=!0}n.limit=n.markedOffset=o,a=!1;break;case">":if(!r){if(c){h=!0;break}c=!0}n.limit=o,a=!1;break;case"'":if(!r){if(l){h=!0;break}l=!0}n.markedOffset=o,a=!1;break;case" ":a=!1;break;default:if(!r&&a){h=!0;break}u=parseInt(u+e.charAt(s++),16);if(!r&&(isNaN(u)||0>u||255<u))throw TypeError("Illegal str: Not a debug encoded string");n.view.setUint8(o++,u),a=!0}if(h)throw TypeError("Illegal str: Invalid symbol at "+s)}if(!r){if(!f||!c)throw TypeError("Illegal str: Missing offset or limit");if(o<n.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+o+" < "+i)}return n},s.toHex=function(e,t){e="undefined"==typeof e?this.offset:e,t="undefined"==typeof t?this.limit:t;if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal begin: Not an integer");e>>>=0;if("number"!=typeof t||0!==t%1)throw TypeError("Illegal end: Not an integer");t>>>=0;if(0>e||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var n=Array(t-e),r;e<t;)r=this.view.getUint8(e++),16>r?n.push("0",r.toString(16)):n.push(r.toString(16));return n.join("")},t.fromHex=function(e,n,r){if(!r){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(0!==e.length%2)throw TypeError("Illegal str: Length not a multiple of 2")}var i=e.length;n=new t(i/2|0,n);for(var s,o=0,u=0;o<i;o+=2){s=parseInt(e.substring(o,o+2),16);if(!r&&(!isFinite(s)||0>s||255<s))throw TypeError("Illegal str: Contains non-hex characters");n.view.setUint8(u++,s)}return n.limit=u,n};var f=function(){var e={k:1114111,j:function(e,t){var n=null;"number"==typeof e&&(n=e,e=function(){return null});for(;null!==n||null!==(n=e());)128>n?t(n&127):(2048>n?t(n>>6&31|192):(65536>n?t(n>>12&15|224):(t(n>>18&7|240),t(n>>12&63|128)),t(n>>6&63|128)),t(n&63|128)),n=null},g:function(e,t){function n(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t}for(var r,i,s,o;null!==(r=e());)if(0===(r&128))t(r);else if(192===(r&224))null===(i=e())&&n([r,i]),t((r&31)<<6|i&63);else if(224===(r&240))null!==(i=e())&&null!==(s=e())||n([r,i,s]),t((r&15)<<12|(i&63)<<6|s&63);else{if(240!==(r&248))throw RangeError("Illegal starting byte: "+r);null!==(i=e())&&null!==(s=e())&&null!==(o=e())||n([r,i,s,o]),t((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)}},d:function(e,t){for(var n,r=null;null!==(n=null!==r?r:e());)55296<=n&&57343>=n&&null!==(r=e())&&56320<=r&&57343>=r?(t(1024*(n-55296)+r-56320+65536),r=null):t(n);null!==r&&t(r)},e:function(e,t){var n=null;"number"==typeof e&&(n=e,e=function(){return null});for(;null!==n||null!==(n=e());)65535>=n?t(n):(n-=65536,t((n>>10)+55296),t(n%1024+56320)),n=null},c:function(t,n){e.d(t,function(t){e.j(t,n)})},b:function(t,n){e.g(t,function(t){e.e(t,n)})},f:function(e){return 128>e?1:2048>e?2:65536>e?3:4},l:function(t){for(var n,r=0;null!==(n=t());)r+=e.f(n);return r},a:function(t){var n=0,r=0;return e.d(t,function(t){++n,r+=e.f(t)}),[n,r]}};return e}();return s.toUTF8=function(e,t){"undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit);if(!this.noAssert){if("number"!=typeof e||0!==e%1)throw TypeError("Illegal begin: Not an integer");e>>>=0;if("number"!=typeof t||0!==t%1)throw TypeError("Illegal end: Not an integer");t>>>=0;if(0>e||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n;try{f.b(function(){return e<t?this.view.getUint8(e++):null}.bind(this),n=r())}catch(i){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return n()},t.fromUTF8=function(e,r,i){if(!i&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var s=new t(f.a(n(e),!0)[1],r,i),o=0;return f.c(n(e),function(e){s.view.setUint8(o++,e)}),s.limit=o,s},t}"function"==typeof require&&"object"==typeof module&&module&&module.id&&"object"==typeof exports&&exports?module.exports=function(){var e;try{e=require("long")}catch(n){}return t(e)}():"function"==typeof webswingRequirejs.define&&webswingRequirejs.define.amd?webswingRequirejs.define("ByteBuffer",["Long"],function(e){return t(e)}):(e.dcodeIO=e.dcodeIO||{}).ByteBuffer=t(e.dcodeIO.Long)}(this),function(e){function t(e){var t={VERSION:"3.7.0",WIRE_TYPES:{}};return t.WIRE_TYPES.VARINT=0,t.WIRE_TYPES.BITS64=1,t.WIRE_TYPES.LDELIM=2,t.WIRE_TYPES.STARTGROUP=3,t.WIRE_TYPES.ENDGROUP=4,t.WIRE_TYPES.BITS32=5,t.PACKABLE_WIRE_TYPES=[t.WIRE_TYPES.VARINT,t.WIRE_TYPES.BITS64,t.WIRE_TYPES.BITS32],t.TYPES={int32:{name:"int32",wireType:t.WIRE_TYPES.VARINT},uint32:{name:"uint32",wireType:t.WIRE_TYPES.VARINT},sint32:{name:"sint32",wireType:t.WIRE_TYPES.VARINT},int64:{name:"int64",wireType:t.WIRE_TYPES.VARINT},uint64:{name:"uint64",wireType:t.WIRE_TYPES.VARINT},sint64:{name:"sint64",wireType:t.WIRE_TYPES.VARINT},bool:{name:"bool",wireType:t.WIRE_TYPES.VARINT},"double":{name:"double",wireType:t.WIRE_TYPES.BITS64},string:{name:"string",wireType:t.WIRE_TYPES.LDELIM},bytes:{name:"bytes",wireType:t.WIRE_TYPES.LDELIM},fixed32:{name:"fixed32",wireType:t.WIRE_TYPES.BITS32},sfixed32:{name:"sfixed32",wireType:t.WIRE_TYPES.BITS32},fixed64:{name:"fixed64",wireType:t.WIRE_TYPES.BITS64},sfixed64:{name:"sfixed64",wireType:t.WIRE_TYPES.BITS64},"float":{name:"float",wireType:t.WIRE_TYPES.BITS32},"enum":{name:"enum",wireType:t.WIRE_TYPES.VARINT},message:{name:"message",wireType:t.WIRE_TYPES.LDELIM},group:{name:"group",wireType:t.WIRE_TYPES.STARTGROUP}},t.ID_MIN=1,t.ID_MAX=536870911,t.ByteBuffer=e,t.Long=e.Long||null,t.convertFieldsToCamelCase=!1,t.populateAccessors=!0,t.Util=function(){Object.create||(Object.create=function(e){function t(){}if(1<arguments.length)throw Error("Object.create polyfill only accepts the first parameter.");return t.prototype=e,new t});var e={IS_NODE:!1};try{e.IS_NODE="function"==typeof require&&"function"==typeof require("fs").readFileSync&&"function"==typeof require("path").resolve}catch(t){}return e.XHR=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,n=0;n<e.length;n++){try{t=e[n]()}catch(r){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},e.fetch=function(t,n){n&&"function"!=typeof n&&(n=null);if(e.IS_NODE)if(n)require("fs").readFile(t,function(e,t){e?n(null):n(""+t)});else try{return require("fs").readFileSync(t)}catch(r){return null}else{var i=e.XHR();i.open("GET",t,n?!0:!1),i.setRequestHeader("Accept","text/plain"),"function"==typeof i.overrideMimeType&&i.overrideMimeType("text/plain");if(!n)return i.send(null),200==i.status||0==i.status&&"string"==typeof i.responseText?i.responseText:null;i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0==i.status&&"string"==typeof i.responseText?n(i.responseText):n(null))},4!=i.readyState&&i.send(null)}},e.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},e}(),t.Lang={OPEN:"{",CLOSE:"}",OPTOPEN:"[",OPTCLOSE:"]",OPTEND:",",EQUAL:"=",END:";",STRINGOPEN:'"',STRINGCLOSE:'"',STRINGOPEN_SQ:"'",STRINGCLOSE_SQ:"'",COPTOPEN:"(",COPTCLOSE:")",DELIM:/[\s\{\}=;\[\],'"\(\)]/g,RULE:/^(?:required|optional|repeated)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0x[0-9a-fA-F]+|0[0-7]+|([0-9]*\.[0-9]+([Ee][+-]?[0-9]+)?))$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0x[0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^[0-9]*\.[0-9]+([Ee][+-]?[0-9]+)?$/,ID:/^(?:[1-9][0-9]*|0|0x[0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0x[0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/['"]([^'"\\]*(\\.[^"\\]*)*)['"]/g,BOOL:/^(?:true|false)$/i},t.DotProto=function(e,t){var n={},r=function(e){this.source=""+e,this.index=0,this.line=1,this.stack=[],this.readingString=!1,this.stringEndsWith=t.STRINGCLOSE},i=r.prototype;i._readString=function(){t.STRING.lastIndex=this.index-1;var e;if(null!==(e=t.STRING.exec(this.source)))return e=e[1],this.index=t.STRING.lastIndex,this.stack.push(this.stringEndsWith),e;throw Error("Unterminated string at line "+this.line+", index "+this.index)},i.next=function(){if(0<this.stack.length)return this.stack.shift();if(this.index>=this.source.length)return null;if(this.readingString)return this.readingString=!1,this._readString();var e,n;do{for(e=!1;t.WHITESPACE.test(n=this.source.charAt(this.index));)if(this.index++,"\n"===n&&this.line++,this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if("/"===this.source.charAt(++this.index)){for(;"\n"!==this.source.charAt(this.index);)if(this.index++,this.index==this.source.length)return null;this.index++,this.line++,e=!0}else{if("*"!==this.source.charAt(this.index))throw Error("Unterminated comment at line "+this.line+": /"+this.source.charAt(this.index));for(n="";"*/"!==n+(n=this.source.charAt(this.index));)if(this.index++,"\n"===n&&this.line++,this.index===this.source.length)return null;this.index++,e=!0}}while(e);if(this.index===this.source.length)return null;e=this.index,t.DELIM.lastIndex=0;if(t.DELIM.test(this.source.charAt(e)))++e;else for(++e;e<this.source.length&&!t.DELIM.test(this.source.charAt(e));)e++;return e=this.source.substring(this.index,this.index=e),e===t.STRINGOPEN?(this.readingString=!0,this.stringEndsWith=t.STRINGCLOSE):e===t.STRINGOPEN_SQ&&(this.readingString=!0,this.stringEndsWith=t.STRINGCLOSE_SQ),e},i.peek=function(){if(0===this.stack.length){var e=this.next();if(null===e)return null;this.stack.push(e)}return this.stack[0]},i.toString=function(){return"Tokenizer("+this.index+"/"+this.source.length+" at line "+this.line+")"},n.Tokenizer=r;var i=function(e){this.tn=new r(e)},s=i.prototype;return s.parse=function(){for(var e={name:"[ROOT]","package":null,messages:[],enums:[],imports:[],options:{},services:[]},t,n=!0;t=this.tn.next();)switch(t){case"package":if(!n||null!==e["package"])throw Error("Unexpected package at line "+this.tn.line);e["package"]=this._parsePackage(t);break;case"import":if(!n)throw Error("Unexpected import at line "+this.tn.line);e.imports.push(this._parseImport(t));break;case"message":this._parseMessage(e,null,t),n=!1;break;case"enum":this._parseEnum(e,t),n=!1;break;case"option":if(!n)throw Error("Unexpected option at line "+this.tn.line);this._parseOption(e,t);break;case"service":this._parseService(e,t);break;case"extend":this._parseExtend(e,t);break;case"syntax":this._parseIgnoredStatement(e,t);break;default:throw Error("Unexpected token at line "+this.tn.line+": "+t)}return delete e.name,e},s._parseNumber=function(e){var n=1;"-"==e.charAt(0)&&(n=-1,e=e.substring(1));if(t.NUMBER_DEC.test(e))return n*parseInt(e,10);if(t.NUMBER_HEX.test(e))return n*parseInt(e.substring(2),16);if(t.NUMBER_OCT.test(e))return n*parseInt(e.substring(1),8);if(t.NUMBER_FLT.test(e))return n*parseFloat(e);throw Error("Illegal number at line "+this.tn.line+": "+(0>n?"-":"")+e)},s._parseString=function(){var e="",n;do{this.tn.next(),e+=this.tn.next(),n=this.tn.next();if(n!==this.tn.stringEndsWith)throw Error("Illegal end of string at line "+this.tn.line+": "+n);n=this.tn.peek()}while(n===t.STRINGOPEN||n===t.STRINGOPEN_SQ);return e},s._parseId=function(e,n){var r=-1,i=1;"-"==e.charAt(0)&&(i=-1,e=e.substring(1));if(t.NUMBER_DEC.test(e))r=parseInt(e);else if(t.NUMBER_HEX.test(e))r=parseInt(e.substring(2),16);else{if(!t.NUMBER_OCT.test(e))throw Error("Illegal id at line "+this.tn.line+": "+(0>i?"-":"")+e);r=parseInt(e.substring(1),8)}r=i*r|0;if(!n&&0>r)throw Error("Illegal id at line "+this.tn.line+": "+(0>i?"-":"")+e);return r},s._parsePackage=function(e){e=this.tn.next();if(!t.TYPEREF.test(e))throw Error("Illegal package name at line "+this.tn.line+": "+e);var n=e;e=this.tn.next();if(e!=t.END)throw Error("Illegal end of package at line "+this.tn.line+": "+e);return n},s._parseImport=function(e){e=this.tn.peek(),"public"===e&&(this.tn.next(),e=this.tn.peek());if(e!==t.STRINGOPEN&&e!==t.STRINGOPEN_SQ)throw Error("Illegal start of import at line "+this.tn.line+": "+e);var n=this._parseString();e=this.tn.next();if(e!==t.END)throw Error("Illegal end of import at line "+this.tn.line+": "+e);return n},s._parseOption=function(e,n){n=this.tn.next();var r=!1;n==t.COPTOPEN&&(r=!0,n=this.tn.next());if(!t.TYPEREF.test(n)&&!/google\.protobuf\./.test(n))throw Error("Illegal option name in message "+e.name+" at line "+this.tn.line+": "+n);var i=n;n=this.tn.next();if(r){if(n!==t.COPTCLOSE)throw Error("Illegal end in message "+e.name+", option "+i+" at line "+this.tn.line+": "+n);i="("+i+")",n=this.tn.next(),t.FQTYPEREF.test(n)&&(i+=n,n=this.tn.next())}if(n!==t.EQUAL)throw Error("Illegal operator in message "+e.name+", option "+i+" at line "+this.tn.line+": "+n);n=this.tn.peek();if(n===t.STRINGOPEN||n===t.STRINGOPEN_SQ)r=this._parseString();else if(this.tn.next(),t.NUMBER.test(n))r=this._parseNumber(n,!0);else if(t.BOOL.test(n))r="true"===n;else{if(!t.TYPEREF.test(n))throw Error("Illegal option value in message "+e.name+", option "+i+" at line "+this.tn.line+": "+n);r=n}n=this.tn.next();if(n!==t.END)throw Error("Illegal end of option in message "+e.name+", option "+i+" at line "+this.tn.line+": "+n);e.options[i]=r},s._parseIgnoredStatement=function(e,n){var r;do{r=this.tn.next();if(null===r)throw Error("Unexpected EOF in "+e.name+", "+n+" at line "+this.tn.line);if(r===t.END)break}while(1)},s._parseService=function(e,n){n=this.tn.next();if(!t.NAME.test(n))throw Error("Illegal service name at line "+this.tn.line+": "+n);var r=n,i={name:r,rpc:{},options:{}};n=this.tn.next();if(n!==t.OPEN)throw Error("Illegal start of service "+r+" at line "+this.tn.line+": "+n);do if(n=this.tn.next(),"option"===n)this._parseOption(i,n);else if("rpc"===n)this._parseServiceRPC(i,n);else if(n!==t.CLOSE)throw Error("Illegal type of service "+r+" at line "+this.tn.line+": "+n);while(n!==t.CLOSE);e.services.push(i)},s._parseServiceRPC=function(e,n){var r=n;n=this.tn.next();if(!t.NAME.test(n))throw Error("Illegal method name in service "+e.name+" at line "+this.tn.line+": "+n);var i=n,s={request:null,response:null,options:{}};n=this.tn.next();if(n!==t.COPTOPEN)throw Error("Illegal start of request type in service "+e.name+"#"+i+" at line "+this.tn.line+": "+n);n=this.tn.next();if(!t.TYPEREF.test(n))throw Error("Illegal request type in service "+e.name+"#"+i+" at line "+this.tn.line+": "+n);s.request=n,n=this.tn.next();if(n!=t.COPTCLOSE)throw Error("Illegal end of request type in service "+e.name+"#"+i+" at line "+this.tn.line+": "+n);n=this.tn.next();if("returns"!==n.toLowerCase())throw Error("Illegal delimiter in service "+e.name+"#"+i+" at line "+this.tn.line+": "+n);n=this.tn.next();if(n!=t.COPTOPEN)throw Error("Illegal start of response type in service "+e.name+"#"+i+" at line "+this.tn.line+": "+n);n=this.tn.next(),s.response=n,n=this.tn.next();if(n!==t.COPTCLOSE)throw Error("Illegal end of response type in service "+e.name+"#"+i+" at line "+this.tn.line+": "+n);n=this.tn.next();if(n===t.OPEN){do if(n=this.tn.next(),"option"===n)this._parseOption(s,n);else if(n!==t.CLOSE)throw Error("Illegal start of option inservice "+e.name+"#"+i+" at line "+this.tn.line+": "+n);while(n!==t.CLOSE);this.tn.peek()===t.END&&this.tn.next()}else if(n!==t.END)throw Error("Illegal delimiter in service "+e.name+"#"+i+" at line "+this.tn.line+": "+n);"undefined"==typeof e[r]&&(e[r]={}),e[r][i]=s},s._parseMessage=function(e,n,r){var i={},s="group"===r;r=this.tn.next();if(!t.NAME.test(r))throw Error("Illegal "+(s?"group":"message")+" name"+(e?" in message "+e.name:"")+" at line "+this.tn.line+": "+r);i.name=r;if(s){r=this.tn.next();if(r!==t.EQUAL)throw Error("Illegal id assignment after group "+i.name+" at line "+this.tn.line+": "+r);r=this.tn.next();try{n.id=this._parseId(r)}catch(o){throw Error("Illegal field id value for group "+i.name+"#"+n.name+" at line "+this.tn.line+": "+r)}i.isGroup=!0}i.fields=[],i.enums=[],i.messages=[],i.options={},i.oneofs={},r=this.tn.next(),r===t.OPTOPEN&&n&&(this._parseFieldOptions(i,n,r),r=this.tn.next());if(r!==t.OPEN)throw Error("Illegal start of "+(s?"group":"message")+" "+i.name+" at line "+this.tn.line+": "+r);do{if(r=this.tn.next(),r===t.CLOSE){r=this.tn.peek(),r===t.END&&this.tn.next();break}if(t.RULE.test(r))this._parseMessageField(i,r);else if("oneof"===r)this._parseMessageOneOf(i,r);else if("enum"===r)this._parseEnum(i,r);else if("message"===r)this._parseMessage(i,null,r);else if("option"===r)this._parseOption(i,r);else if("extensions"===r)i.extensions=this._parseExtensions(i,r);else{if("extend"!==r)throw Error("Illegal token in message "+i.name+" at line "+this.tn.line+": "+r);this._parseExtend(i,r)}}while(1);return e.messages.push(i),i},s._parseMessageField=function(e,n){var r={},i=null;r.rule=n,r.options={},n=this.tn.next();if("group"===n){i=this._parseMessage(e,r,n);if(!/^[A-Z]/.test(i.name))throw Error("Group names must start with a capital letter");r.type=i.name,r.name=i.name.toLowerCase(),n=this.tn.peek(),n===t.END&&this.tn.next()}else{if(!t.TYPE.test(n)&&!t.TYPEREF.test(n))throw Error("Illegal field type in message "+e.name+" at line "+this.tn.line+": "+n);r.type=n,n=this.tn.next();if(!t.NAME.test(n))throw Error("Illegal field name in message "+e.name+" at line "+this.tn.line+": "+n);r.name=n,n=this.tn.next();if(n!==t.EQUAL)throw Error("Illegal token in field "+e.name+"#"+r.name+" at line "+this.tn.line+": "+n);n=this.tn.next();try{r.id=this._parseId(n)}catch(s){throw Error("Illegal field id in message "+e.name+"#"+r.name+" at line "+this.tn.line+": "+n)}n=this.tn.next(),n===t.OPTOPEN&&(this._parseFieldOptions(e,r,n),n=this.tn.next());if(n!==t.END)throw Error("Illegal delimiter in message "+e.name+"#"+r.name+" at line "+this.tn.line+": "+n)}return e.fields.push(r),r},s._parseMessageOneOf=function(e,n){n=this.tn.next();if(!t.NAME.test(n))throw Error("Illegal oneof name in message "+e.name+" at line "+this.tn.line+": "+n);var r=n,i,s=[];n=this.tn.next();if(n!==t.OPEN)throw Error("Illegal start of oneof "+r+" at line "+this.tn.line+": "+n);for(;this.tn.peek()!==t.CLOSE;)i=this._parseMessageField(e,"optional"),i.oneof=r,s.push(i.id);this.tn.next(),e.oneofs[r]=s},s._parseFieldOptions=function(e,n,r){var i=!0;do{r=this.tn.next();if(r===t.OPTCLOSE)break;if(r===t.OPTEND){if(i)throw Error("Illegal start of options in message "+e.name+"#"+n.name+" at line "+this.tn.line+": "+r);r=this.tn.next()}this._parseFieldOption(e,n,r),i=!1}while(1)},s._parseFieldOption=function(e,n,r){var i=!1;r===t.COPTOPEN&&(r=this.tn.next(),i=!0);if(!t.TYPEREF.test(r))throw Error("Illegal field option in "+e.name+"#"+n.name+" at line "+this.tn.line+": "+r);var s=r;r=this.tn.next();if(i){if(r!==t.COPTCLOSE)throw Error("Illegal delimiter in "+e.name+"#"+n.name+" at line "+this.tn.line+": "+r);s="("+s+")",r=this.tn.next(),t.FQTYPEREF.test(r)&&(s+=r,r=this.tn.next())}if(r!==t.EQUAL)throw Error("Illegal token in "+e.name+"#"+n.name+" at line "+this.tn.line+": "+r);r=this.tn.peek();if(r===t.STRINGOPEN||r===t.STRINGOPEN_SQ)e=this._parseString();else if(t.NUMBER.test(r,!0))e=this._parseNumber(this.tn.next(),!0);else if(t.BOOL.test(r))e="true"===this.tn.next().toLowerCase();else{if(!t.TYPEREF.test(r))throw Error("Illegal value in message "+e.name+"#"+n.name+", option "+s+" at line "+this.tn.line+": "+r);e=this.tn.next()}n.options[s]=e},s._parseEnum=function(e,n){var r={};n=this.tn.next();if(!t.NAME.test(n))throw Error("Illegal enum name in message "+e.name+" at line "+this.tn.line+": "+n);r.name=n,n=this.tn.next();if(n!==t.OPEN)throw Error("Illegal start of enum "+r.name+" at line "+this.tn.line+": "+n);r.values=[],r.options={};do{n=this.tn.next();if(n===t.CLOSE){n=this.tn.peek(),n===t.END&&this.tn.next();break}if("option"==n)this._parseOption(r,n);else{if(!t.NAME.test(n))throw Error("Illegal name in enum "+r.name+" at line "+this.tn.line+": "+n);this._parseEnumValue(r,n)}}while(1);e.enums.push(r)},s._parseEnumValue=function(e,n){var r={};r.name=n,n=this.tn.next();if(n!==t.EQUAL)throw Error("Illegal token in enum "+e.name+" at line "+this.tn.line+": "+n);n=this.tn.next();try{r.id=this._parseId(n,!0)}catch(i){throw Error("Illegal id in enum "+e.name+" at line "+this.tn.line+": "+n)}e.values.push(r),n=this.tn.next(),n===t.OPTOPEN&&(this._parseFieldOptions(e,{options:{}},n),n=this.tn.next());if(n!==t.END)throw Error("Illegal delimiter in enum "+e.name+" at line "+this.tn.line+": "+n)},s._parseExtensions=function(n,r){var i=[];r=this.tn.next(),"min"===r?i.push(e.ID_MIN):"max"===r?i.push(e.ID_MAX):i.push(this._parseNumber(r)),r=this.tn.next();if("to"!==r)throw Error("Illegal extensions delimiter in message "+n.name+" at line "+this.tn.line+": "+r);r=this.tn.next(),"min"===r?i.push(e.ID_MIN):"max"===r?i.push(e.ID_MAX):i.push(this._parseNumber(r)),r=this.tn.next();if(r!==t.END)throw Error("Illegal extensions delimiter in message "+n.name+" at line "+this.tn.line+": "+r);return i},s._parseExtend=function(e,n){n=this.tn.next();if(!t.TYPEREF.test(n))throw Error("Illegal message name at line "+this.tn.line+": "+n);var r={};r.ref=n,r.fields=[],n=this.tn.next();if(n!==t.OPEN)throw Error("Illegal start of extend "+r.name+" at line "+this.tn.line+": "+n);do{if(n=this.tn.next(),n===t.CLOSE){n=this.tn.peek(),n==t.END&&this.tn.next();break}if(!t.RULE.test(n))throw Error("Illegal token in extend "+r.name+" at line "+this.tn.line+": "+n);this._parseMessageField(r,n)}while(1);return e.messages.push(r),r},s.toString=function(){return"Parser"},n.Parser=i,n}(t,t.Lang),t.Reflect=function(t){function n(e,r){var i=r.readVarint32(),s=i&7,i=i>>3;switch(s){case t.WIRE_TYPES.VARINT:do i=r.readUint8();while(128===(i&128));break;case t.WIRE_TYPES.BITS64:r.offset+=8;break;case t.WIRE_TYPES.LDELIM:i=r.readVarint32(),r.offset+=i;break;case t.WIRE_TYPES.STARTGROUP:n(i,r);break;case t.WIRE_TYPES.ENDGROUP:if(i===e)return!1;throw Error("Illegal GROUPEND after unknown group: "+i+" ("+e+" expected)");case t.WIRE_TYPES.BITS32:r.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+e+": "+s)}return!0}function r(e,n){if(e&&"number"==typeof e.low&&"number"==typeof e.high&&"boolean"==typeof e.unsigned&&e.low===e.low&&e.high===e.high)return new t.Long(e.low,e.high,"undefined"==typeof n?e.unsigned:n);if("string"==typeof e)return t.Long.fromString(e,n||!1,10);if("number"==typeof e)return t.Long.fromNumber(e,n||!1);throw Error("not convertible to Long")}var i={},s=function(e,t,n){this.builder=e,this.parent=t,this.name=n},o=s.prototype;o.fqn=function(){var e=this.name,t=this;do{t=t.parent;if(null==t)break;e=t.name+"."+e}while(1);return e},o.toString=function(e){return(e?this.className+" ":"")+this.fqn()},o.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},i.T=s;var u=function(e,t,n,r){s.call(this,e,t,n),this.className="Namespace",this.children=[],this.options=r||{}},o=u.prototype=Object.create(s.prototype);o.getChildren=function(e){e=e||null;if(null==e)return this.children.slice();for(var t=[],n=0,r=this.children.length;n<r;++n)this.children[n]instanceof e&&t.push(this.children[n]);return t},o.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof a.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof a.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},o.getChild=function(e){for(var t="number"==typeof e?"id":"name",n=0,r=this.children.length;n<r;++n)if(this.children[n][t]===e)return this.children[n];return null},o.resolve=function(e,t){var n=e.split("."),r=this,s=0;if(""===n[s]){for(;null!==r.parent;)r=r.parent;s++}do{do{r=r.getChild(n[s]);if(!(r&&r instanceof i.T)||t&&r instanceof i.Message.Field){r=null;break}s++}while(s<n.length);if(null!=r)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=r);return r},o.build=function(){for(var e={},t=this.children,n=0,r=t.length,i;n<r;++n)i=t[n],i instanceof u&&(e[i.name]=i.build());return Object.defineProperty&&Object.defineProperty(e,"$options",{value:this.buildOpt()}),e},o.buildOpt=function(){for(var e={},t=Object.keys(this.options),n=0,r=t.length;n<r;++n)e[t[n]]=this.options[t[n]];return e},o.getOption=function(e){return"undefined"==typeof e?this.options:"undefined"!=typeof this.options[e]?this.options[e]:null},i.Namespace=u;var a=function(e,n,r,i,s){u.call(this,e,n,r,i),this.className="Message",this.extensions=[t.ID_MIN,t.ID_MAX],this.clazz=null,this.isGroup=!!s,this._fieldsByName=this._fieldsById=this._fields=null},f=a.prototype=Object.create(u.prototype);f.build=function(n){if(this.clazz&&!n)return this.clazz;n=function(t,n){function r(t,n){var i={},s;for(s in t)t.hasOwnProperty(s)&&(null===t[s]||"object"!=typeof t[s]?i[s]=t[s]:t[s]instanceof e?n&&(i[s]=t.toBuffer()):i[s]=r(t[s],n));return i}var i=n.getChildren(t.Reflect.Message.Field),s=n.getChildren(t.Reflect.Message.OneOf),o=function(n,r){t.Builder.Message.call(this);for(var o=0,u=s.length;o<u;++o)this[s[o].name]=null;o=0;for(u=i.length;o<u;++o){var a=i[o];this[a.name]=a.repeated?[]:null,a.required&&null!==a.defaultValue&&(this[a.name]=a.defaultValue)}if(0<arguments.length)if(1!==arguments.length||"object"!=typeof n||"function"==typeof n.encode||t.Util.isArray(n)||n instanceof e||n instanceof ArrayBuffer||t.Long&&n instanceof t.Long)for(o=0,u=arguments.length;o<u;++o)this.$set(i[o].name,arguments[o]);else for(a=Object.keys(n),o=0,u=a.length;o<u;++o)this.$set(a[o],n[a[o]])},u=o.prototype=Object.create(t.Builder.Message.prototype);u.add=function(e,r,i){var s=n._fieldsByName[e];if(!i){if(!s)throw Error(this+"#"+e+" is undefined");if(!(s instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+s.toString(!0));if(!s.repeated)throw Error(this+"#"+e+" is not a repeated field")}null===this[s.name]&&(this[s.name]=[]),this[s.name].push(i?r:s.verifyValue(r,!0))},u.$add=u.add,u.set=function(e,r,i){if(e&&"object"==typeof e){for(var s in e)e.hasOwnProperty(s)&&this.$set(s,e[s],i);return this}s=n._fieldsByName[e];if(i)this[s.name]=r;else{if(!s)throw Error(this+"#"+e+" is not a field: undefined");if(!(s instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+s.toString(!0));this[s.name]=r=s.verifyValue(r)}return s.oneof&&(null!==r?(null!==this[s.oneof.name]&&(this[this[s.oneof.name]]=null),this[s.oneof.name]=s.name):s.oneof.name===e&&(this[s.oneof.name]=null)),this},u.$set=u.set,u.get=function(e,r){if(r)return this[e];var i=n._fieldsByName[e];if(!(i&&i instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: undefined");if(i instanceof t.Reflect.Message.Field)return this[i.name];throw Error(this+"#"+e+" is not a field: "+i.toString(!0))},u.$get=u.get;for(var a=0;a<i.length;a++){var f=i[a];f instanceof t.Reflect.Message.ExtensionField||n.builder.options.populateAccessors&&function(e){var t=e.originalName.replace(/(_[a-zA-Z])/g,function(e){return e.toUpperCase().replace("_","")}),t=t.substring(0,1).toUpperCase()+t.substring(1),r=e.originalName.replace(/([A-Z])/g,function(e){return"_"+e}),i=function(t,n){return this[e.name]=n?t:e.verifyValue(t),this},s=function(){return this[e.name]};null===n.getChild("set"+t)&&(u["set"+t]=i),null===n.getChild("set_"+r)&&(u["set_"+r]=i),null===n.getChild("get"+t)&&(u["get"+t]=s),null===n.getChild("get_"+r)&&(u["get_"+r]=s)}(f)}return u.encode=function(t,r){"boolean"==typeof t&&(r=t,t=void 0);var i=!1;t||(t=new e,i=!0);var s=t.littleEndian;try{return n.encode(this,t.LE(),r),(i?t.flip():t).LE(s)}catch(o){throw t.LE(s),o}},u.calculate=function(){return n.calculate(this)},u.encodeDelimited=function(t){var r=!1;t||(t=new e,r=!0);var i=(new e).LE();return n.encode(this,i).flip(),t.writeVarint32(i.remaining()),t.append(i),r?t.flip():t},u.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toArrayBuffer()),e}},u.toArrayBuffer=u.encodeAB,u.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBuffer()),e}},u.toBuffer=u.encodeNB,u.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBase64()),e}},u.toBase64=u.encode64,u.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toHex()),e}},u.toHex=u.encodeHex,u.toRaw=function(e){return r(this,!!e)},o.decode=function(t,r){"string"==typeof t&&(t=e.wrap(t,r?r:"base64")),t=t instanceof e?t:e.wrap(t);var i=t.littleEndian;try{var s=n.decode(t.LE());return t.LE(i),s}catch(o){throw t.LE(i),o}},o.decodeDelimited=function(t,r){"string"==typeof t&&(t=e.wrap(t,r?r:"base64")),t=t instanceof e?t:e.wrap(t);if(1>t.remaining())return null;var i=t.offset,s=t.readVarint32();if(t.remaining()<s)return t.offset=i,null;try{var o=n.decode(t.slice(t.offset,t.offset+s).LE());return t.offset+=s,o}catch(u){throw t.offset+=s,u}},o.decode64=function(e){return o.decode(e,"base64")},o.decodeHex=function(e){return o.decode(e,"hex")},u.toString=function(){return n.toString()},Object.defineProperty&&(Object.defineProperty(o,"$options",{value:n.buildOpt()}),Object.defineProperty(u,"$type",{get:function(){return n}})),o}(t,this),this._fields=[],this._fieldsById={},this._fieldsByName={};for(var r=0,i=this.children.length,s;r<i;r++)if(s=this.children[r],s instanceof c)n[s.name]=s.build();else if(s instanceof a)n[s.name]=s.build();else if(s instanceof a.Field)s.build(),this._fields.push(s),this._fieldsById[s.id]=s,this._fieldsByName[s.name]=s;else if(!(s instanceof a.OneOf||s instanceof h))throw Error("Illegal reflect child of "+this.toString(!0)+": "+children[r].toString(!0));return this.clazz=n},f.encode=function(e,t,n){for(var r=null,i,s=0,o=this._fields.length,u;s<o;++s)i=this._fields[s],u=e[i.name],i.required&&null===u?null===r&&(r=i):i.encode(n?u:i.verifyValue(u),t);if(null!==r)throw e=Error("Missing at least one required field for "+this.toString(!0)+": "+r),e.encoded=t,e;return t},f.calculate=function(e){for(var t=0,n=0,r=this._fields.length,i,s;n<r;++n){i=this._fields[n],s=e[i.name];if(i.required&&null===s)throw Error("Missing at least one required field for "+this.toString(!0)+": "+i);t+=i.calculate(s)}return t},f.decode=function(e,r,i){r="number"==typeof r?r:-1;for(var s=e.offset,o=new this.clazz,u,a,f;e.offset<s+r||-1===r&&0<e.remaining();){u=e.readVarint32(),a=u&7,f=u>>3;if(a===t.WIRE_TYPES.ENDGROUP){if(f!==i)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+f+" ("+(i?i+" expected":"not a group")+")");break}if(u=this._fieldsById[f])u.repeated&&!u.options.packed?o[u.name].push(u.decode(a,e)):(o[u.name]=u.decode(a,e),u.oneof&&(null!==this[u.oneof.name]&&(this[this[u.oneof.name]]=null),o[u.oneof.name]=u.name));else switch(a){case t.WIRE_TYPES.VARINT:e.readVarint32();break;case t.WIRE_TYPES.BITS32:e.offset+=4;break;case t.WIRE_TYPES.BITS64:e.offset+=8;break;case t.WIRE_TYPES.LDELIM:u=e.readVarint32(),e.offset+=u;break;case t.WIRE_TYPES.STARTGROUP:for(;n(f,e););break;default:throw Error("Illegal wire type for unknown field "+f+" in "+this.toString(!0)+"#decode: "+a)}}e=0;for(r=this._fields.length;e<r;++e)if(u=this._fields[e],null===o[u.name]){if(u.required)throw e=Error("Missing at least one required field for "+this.toString(!0)+": "+u.name),e.decoded=o,e;null!==u.defaultValue&&(o[u.name]=u.defaultValue)}return o},i.Message=a;var l=function(e,t,n,r,i,o,u,f){s.call(this,e,t,i),this.className="Message.Field",this.required="required"===n,this.repeated="repeated"===n,this.type=r,this.resolvedType=null,this.id=o,this.options=u||{},this.defaultValue=null,this.oneof=f||null,this.originalName=this.name,!this.builder.options.convertFieldsToCamelCase||this instanceof a.ExtensionField||(this.name=l._toCamelCase(this.name))};l._toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,function(e,t){return t.toUpperCase()})},f=l.prototype=Object.create(s.prototype),f.build=function(){this.defaultValue="undefined"!=typeof this.options["default"]?this.verifyValue(this.options["default"]):null},f.verifyValue=function(n,i){i=i||!1;var s=function(e,t){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+t+")")}.bind(this);if(null===n)return this.required&&s(typeof n,"required"),null;var o;if(this.repeated&&!i){t.Util.isArray(n)||(n=[n]),s=[];for(o=0;o<n.length;o++)s.push(this.verifyValue(n[o],!0));return s}!this.repeated&&t.Util.isArray(n)&&s(typeof n,"no array expected");switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:return("number"!=typeof n||n===n&&0!==n%1)&&s(typeof n,"not an integer"),4294967295<n?n|0:n;case t.TYPES.uint32:case t.TYPES.fixed32:return("number"!=typeof n||n===n&&0!==n%1)&&s(typeof n,"not an integer"),0>n?n>>>0:n;case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:if(t.Long)try{return r(n,!1)}catch(u){s(typeof n,u.message)}else s(typeof n,"requires Long.js");case t.TYPES.uint64:case t.TYPES.fixed64:if(t.Long)try{return r(n,!0)}catch(a){s(typeof n,a.message)}else s(typeof n,"requires Long.js");case t.TYPES.bool:return"boolean"!=typeof n&&s(typeof n,"not a boolean"),n;case t.TYPES["float"]:case t.TYPES["double"]:return"number"!=typeof n&&s(typeof n,"not a number"),n;case t.TYPES.string:return"string"==typeof n||n&&n instanceof String||s(typeof n,"not a string"),""+n;case t.TYPES.bytes:return n&&n instanceof e?n:e.wrap(n);case t.TYPES["enum"]:var f=this.resolvedType.getChildren(c.Value);for(o=0;o<f.length;o++)if(f[o].name==n||f[o].id==n)return f[o].id;s(n,"not a valid enum value");case t.TYPES.group:case t.TYPES.message:n&&"object"==typeof n||s(typeof n,"object expected");if(n instanceof this.resolvedType.clazz)return n;if(n instanceof t.Builder.Message){s={};for(o in n)n.hasOwnProperty(o)&&(s[o]=n[o]);n=s}return new this.resolvedType.clazz(n)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+n+" (undefined type "+this.type+")")},f.encode=function(n,r){if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return r;try{if(this.repeated){var i;if(this.options.packed&&0<=t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)){r.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r.ensureCapacity(r.offset+=1);var s=r.offset;for(i=0;i<n.length;i++)this.encodeValue(n[i],r);var o=r.offset-s,u=e.calculateVarint32(o);if(1<u){var a=r.slice(s,r.offset),s=s+(u-1);r.offset=s,r.append(a)}r.writeVarint32(o,s-u)}else for(i=0;i<n.length;i++)r.writeVarint32(this.id<<3|this.type.wireType),this.encodeValue(n[i],r)}else r.writeVarint32(this.id<<3|this.type.wireType),this.encodeValue(n,r)}catch(f){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+f+")")}return r},f.encodeValue=function(n,r){if(null===n)return r;switch(this.type){case t.TYPES.int32:0>n?r.writeVarint64(n):r.writeVarint32(n);break;case t.TYPES.uint32:r.writeVarint32(n);break;case t.TYPES.sint32:r.writeVarint32ZigZag(n);break;case t.TYPES.fixed32:r.writeUint32(n);break;case t.TYPES.sfixed32:r.writeInt32(n);break;case t.TYPES.int64:case t.TYPES.uint64:r.writeVarint64(n);break;case t.TYPES.sint64:r.writeVarint64ZigZag(n);break;case t.TYPES.fixed64:r.writeUint64(n);break;case t.TYPES.sfixed64:r.writeInt64(n);break;case t.TYPES.bool:"string"==typeof n?r.writeVarint32("false"===n.toLowerCase()?0:!!n):r.writeVarint32(n?1:0);break;case t.TYPES["enum"]:r.writeVarint32(n);break;case t.TYPES["float"]:r.writeFloat32(n);break;case t.TYPES["double"]:r.writeFloat64(n);break;case t.TYPES.string:r.writeVString(n);break;case t.TYPES.bytes:if(0>n.remaining())throw Error("Illegal value for "+this.toString(!0)+": "+n.remaining()+" bytes remaining");var i=n.offset;r.writeVarint32(n.remaining()),r.append(n),n.offset=i;break;case t.TYPES.message:i=(new e).LE(),this.resolvedType.encode(n,i),r.writeVarint32(i.offset),r.append(i.flip());break;case t.TYPES.group:this.resolvedType.encode(n,r),r.writeVarint32(this.id<<3|t.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+n+" (unknown type)")}return r},f.calculate=function(n){n=this.verifyValue(n);if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return 0;var r=0;try{if(this.repeated){var i,s;if(this.options.packed&&0<=t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)){r+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM);for(i=s=0;i<n.length;i++)s+=this.calculateValue(n[i]);r+=e.calculateVarint32(s),r+=s}else for(i=0;i<n.length;i++)r+=e.calculateVarint32(this.id<<3|this.type.wireType),r+=this.calculateValue(n[i])}else r+=e.calculateVarint32(this.id<<3|this.type.wireType),r+=this.calculateValue(n)}catch(o){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+o+")")}return r},f.calculateValue=function(n){if(null===n)return 0;switch(this.type){case t.TYPES.int32:return 0>n?e.calculateVarint64(n):e.calculateVarint32(n);case t.TYPES.uint32:return e.calculateVarint32(n);case t.TYPES.sint32:return e.calculateVarint32(e.zigZagEncode32(n));case t.TYPES.fixed32:case t.TYPES.sfixed32:case t.TYPES["float"]:return 4;case t.TYPES.int64:case t.TYPES.uint64:return e.calculateVarint64(n);case t.TYPES.sint64:return e.calculateVarint64(e.zigZagEncode64(n));case t.TYPES.fixed64:case t.TYPES.sfixed64:return 8;case t.TYPES.bool:return 1;case t.TYPES["enum"]:return e.calculateVarint32(n);case t.TYPES["double"]:return 8;case t.TYPES.string:return n=e.calculateUTF8Bytes(n),e.calculateVarint32(n)+n;case t.TYPES.bytes:if(0>n.remaining())throw Error("Illegal value for "+this.toString(!0)+": "+n.remaining()+" bytes remaining");return e.calculateVarint32(n.remaining())+n.remaining();case t.TYPES.message:return n=this.resolvedType.calculate(n),e.calculateVarint32(n)+n;case t.TYPES.group:return n=this.resolvedType.calculate(n),n+e.calculateVarint32(this.id<<3|t.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+n+" (unknown type)")},f.decode=function(e,n,r){if(e!=this.type.wireType&&(r||e!=t.WIRE_TYPES.LDELIM||!this.repeated))throw Error("Illegal wire type for field "+this.toString(!0)+": "+e+" ("+this.type.wireType+" expected)");if(e==t.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&0<=t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)&&!r){e=n.readVarint32(),e=n.offset+e;for(r=[];n.offset<e;)r.push(this.decode(this.type.wireType,n,!0));return r}switch(this.type){case t.TYPES.int32:return n.readVarint32()|0;case t.TYPES.uint32:return n.readVarint32()>>>0;case t.TYPES.sint32:return n.readVarint32ZigZag()|0;case t.TYPES.fixed32:return n.readUint32()>>>0;case t.TYPES.sfixed32:return n.readInt32()|0;case t.TYPES.int64:return n.readVarint64();case t.TYPES.uint64:return n.readVarint64().toUnsigned();case t.TYPES.sint64:return n.readVarint64ZigZag();case t.TYPES.fixed64:return n.readUint64();case t.TYPES.sfixed64:return n.readInt64();case t.TYPES.bool:return!!n.readVarint32();case t.TYPES["enum"]:return n.readVarint32();case t.TYPES["float"]:return n.readFloat();case t.TYPES["double"]:return n.readDouble();case t.TYPES.string:return n.readVString();case t.TYPES.bytes:e=n.readVarint32();if(n.remaining()<e)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+e+" required but got only "+n.remaining());return r=n.clone(),r.limit=r.offset+e,n.offset+=e,r;case t.TYPES.message:return e=n.readVarint32(),this.resolvedType.decode(n,e);case t.TYPES.group:return this.resolvedType.decode(n,-1,this.id)}throw Error("[INTERNAL] Illegal wire type for "+this.toString(!0)+": "+e)},i.Message.Field=l,f=function(e,t,n,r,i,s,o){l.call(this,e,t,n,r,i,s,o)},f.prototype=Object.create(l.prototype),i.Message.ExtensionField=f,i.Message.OneOf=function(e,t,n){s.call(this,e,t,n),this.fields=[]};var c=function(e,t,n,r){u.call(this,e,t,n,r),this.className="Enum",this.object=null};(c.prototype=Object.create(u.prototype)).build=function(){for(var e={},t=this.getChildren(c.Value),n=0,r=t.length;n<r;++n)e[t[n].name]=t[n].id;return Object.defineProperty&&Object.defineProperty(e,"$options",{value:this.buildOpt()}),this.object=e},i.Enum=c,f=function(e,t,n,r){s.call(this,e,t,n),this.className="Enum.Value",this.id=r},f.prototype=Object.create(s.prototype),i.Enum.Value=f;var h=function(e,t,n,r){s.call(this,e,t,n),this.field=r};h.prototype=Object.create(s.prototype),i.Extension=h,f=function(e,t,n,r){u.call(this,e,t,n,r),this.className="Service",this.clazz=null},(f.prototype=Object.create(u.prototype)).build=function(e){return this.clazz&&!e?this.clazz:this.clazz=function(e,t){var n=function(t){e.Builder.Service.call(this),this.rpcImpl=t||function(e,t,n){setTimeout(n.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},r=n.prototype=Object.create(e.Builder.Service.prototype);Object.defineProperty&&(Object.defineProperty(n,"$options",{value:t.buildOpt()}),Object.defineProperty(r,"$options",{value:n.$options}));for(var i=t.getChildren(e.Reflect.Service.RPCMethod),s=0;s<i.length;s++)(function(e){r[e.name]=function(n,r){try{n&&n instanceof e.resolvedRequestType.clazz?this.rpcImpl(e.fqn(),n,function(n,i){if(n)r(n);else{try{i=e.resolvedResponseType.clazz.decode(i)}catch(s){}i&&i instanceof e.resolvedResponseType.clazz?r(null,i):r(Error("Illegal response type received in service method "+t.name+"#"+e.name))}}):setTimeout(r.bind(this,Error("Illegal request type provided to service method "+t.name+"#"+e.name)),0)}catch(i){setTimeout(r.bind(this,i),0)}},n[e.name]=function(t,r,i){(new n(t))[e.name](r,i)},Object.defineProperty&&(Object.defineProperty(n[e.name],"$options",{value:e.buildOpt()}),Object.defineProperty(r[e.name],"$options",{value:n[e.name].$options}))})(i[s]);return n}(t,this)},i.Service=f;var p=function(e,t,n,r){s.call(this,e,t,n),this.className="Service.Method",this.options=r||{}};return(p.prototype=Object.create(s.prototype)).buildOpt=o.buildOpt,i.Service.Method=p,o=function(e,t,n,r,i,s){p.call(this,e,t,n,s),this.className="Service.RPCMethod",this.requestName=r,this.responseName=i,this.resolvedResponseType=this.resolvedRequestType=null},o.prototype=Object.create(p.prototype),i.Service.RPCMethod=o,i}(t),t.Builder=function(e,t,n){var r=function(e){this.ptr=this.ns=new n.Namespace(this,null,""),this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}},i=r.prototype;return i.reset=function(){this.ptr=this.ns},i.define=function(e,r){if("string"!=typeof e||!t.TYPEREF.test(e))throw Error("Illegal package: "+e);var i=e.split("."),s;for(s=0;s<i.length;s++)if(!t.NAME.test(i[s]))throw Error("Illegal package: "+i[s]);for(s=0;s<i.length;s++)null===this.ptr.getChild(i[s])&&this.ptr.addChild(new n.Namespace(this,this.ptr,i[s],r)),this.ptr=this.ptr.getChild(i[s]);return this},r.isValidMessage=function(n){if("string"!=typeof n.name||!t.NAME.test(n.name)||"undefined"!=typeof n.values||"undefined"!=typeof n.rpc)return!1;var i;if("undefined"!=typeof n.fields){if(!e.Util.isArray(n.fields))return!1;var s=[],o;for(i=0;i<n.fields.length;i++){if(!r.isValidMessageField(n.fields[i]))return!1;o=parseInt(n.fields[i].id,10);if(0<=s.indexOf(o))return!1;s.push(o)}}if("undefined"!=typeof n.enums){if(!e.Util.isArray(n.enums))return!1;for(i=0;i<n.enums.length;i++)if(!r.isValidEnum(n.enums[i]))return!1}if("undefined"!=typeof n.messages){if(!e.Util.isArray(n.messages))return!1;for(i=0;i<n.messages.length;i++)if(!r.isValidMessage(n.messages[i])&&!r.isValidExtend(n.messages[i]))return!1}return"undefined"==typeof n.extensions||e.Util.isArray(n.extensions)&&2===n.extensions.length&&"number"==typeof n.extensions[0]&&"number"==typeof n.extensions[1]?!0:!1},r.isValidMessageField=function(e){if("string"!=typeof e.rule||"string"!=typeof e.name||"string"!=typeof e.type||"undefined"==typeof e.id||!(t.RULE.test(e.rule)&&t.NAME.test(e.name)&&t.TYPEREF.test(e.type)&&t.ID.test(""+e.id)))return!1;if("undefined"!=typeof e.options){if("object"!=typeof e.options)return!1;for(var n=Object.keys(e.options),r=0,i;r<n.length;r++)if("string"!=typeof (i=n[r])||"string"!=typeof e.options[i]&&"number"!=typeof e.options[i]&&"boolean"!=typeof e.options[i])return!1}return!0},r.isValidEnum=function(n){if("string"!=typeof n.name||!t.NAME.test(n.name)||"undefined"==typeof n.values||!e.Util.isArray(n.values)||0==n.values.length)return!1;for(var r=0;r<n.values.length;r++)if("object"!=typeof n.values[r]||"string"!=typeof n.values[r].name||"undefined"==typeof n.values[r].id||!t.NAME.test(n.values[r].name)||!t.NEGID.test(""+n.values[r].id))return!1;return!0},i.create=function(t){if(!t)return this;e.Util.isArray(t)||(t=[t]);if(0==t.length)return this;var i=[];for(i.push(t);0<i.length;){t=i.pop();if(!e.Util.isArray(t))throw Error("Not a valid namespace: "+JSON.stringify(t));for(;0<t.length;){var s=t.shift();if(r.isValidMessage(s)){var o=new n.Message(this,this.ptr,s.name,s.options,s.isGroup),u={};if(s.oneofs)for(var a=Object.keys(s.oneofs),f=0,l=a.length;f<l;++f)o.addChild(u[a[f]]=new n.Message.OneOf(this,o,a[f]));if(s.fields&&0<s.fields.length)for(f=0,l=s.fields.length;f<l;++f){a=s.fields[f];if(null!==o.getChild(a.id))throw Error("Duplicate field id in message "+o.name+": "+a.id);if(a.options)for(var c=Object.keys(a.options),h=0,p=c.length;h<p;++h){if("string"!=typeof c[h])throw Error("Illegal field option name in message "+o.name+"#"+a.name+": "+c[h]);if("string"!=typeof a.options[c[h]]&&"number"!=typeof a.options[c[h]]&&"boolean"!=typeof a.options[c[h]])throw Error("Illegal field option value in message "+o.name+"#"+a.name+"#"+c[h]+": "+a.options[c[h]])}c=null;if("string"==typeof a.oneof&&(c=u[a.oneof],"undefined"==typeof c))throw Error("Illegal oneof in message "+o.name+"#"+a.name+": "+a.oneof);a=new n.Message.Field(this,o,a.rule,a.type,a.name,a.id,a.options,c),c&&c.fields.push(a),o.addChild(a)}u=[];if("undefined"!=typeof s.enums&&0<s.enums.length)for(f=0;f<s.enums.length;f++)u.push(s.enums[f]);if(s.messages&&0<s.messages.length)for(f=0;f<s.messages.length;f++)u.push(s.messages[f]);s.extensions&&(o.extensions=s.extensions,o.extensions[0]<e.ID_MIN&&(o.extensions[0]=e.ID_MIN),o.extensions[1]>e.ID_MAX&&(o.extensions[1]=e.ID_MAX)),this.ptr.addChild(o),0<u.length&&(i.push(t),t=u,this.ptr=o)}else if(r.isValidEnum(s)){o=new n.Enum(this,this.ptr,s.name,s.options);for(f=0;f<s.values.length;f++)o.addChild(new n.Enum.Value(this,o,s.values[f].name,s.values[f].id));this.ptr.addChild(o)}else if(r.isValidService(s)){o=new n.Service(this,this.ptr,s.name,s.options);for(f in s.rpc)s.rpc.hasOwnProperty(f)&&o.addChild(new n.Service.RPCMethod(this,o,f,s.rpc[f].request,s.rpc[f].response,s.rpc[f].options));this.ptr.addChild(o)}else{if(!r.isValidExtend(s))throw Error("Not a valid definition: "+JSON.stringify(s));if(o=this.ptr.resolve(s.ref))for(f=0;f<s.fields.length;f++){if(null!==o.getChild(s.fields[f].id))throw Error("Duplicate extended field id in message "+o.name+": "+s.fields[f].id);if(s.fields[f].id<o.extensions[0]||s.fields[f].id>o.extensions[1])throw Error("Illegal extended field id in message "+o.name+": "+s.fields[f].id+" ("+o.extensions.join(" to ")+" expected)");u=s.fields[f].name,this.options.convertFieldsToCamelCase&&(u=n.Message.Field._toCamelCase(s.fields[f].name)),a=new n.Message.ExtensionField(this,o,s.fields[f].rule,s.fields[f].type,this.ptr.fqn()+"."+u,s.fields[f].id,s.fields[f].options),u=new n.Extension(this,this.ptr,s.fields[f].name,a),a.extension=u,this.ptr.addChild(u),o.addChild(a)}else if(!/\.?google\.protobuf\./.test(s.ref))throw Error("Extended message "+s.ref+" is not defined")}}this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},i["import"]=function(t,n){if("string"==typeof n){e.Util.IS_NODE&&(n=require("path").resolve(n));if(!0===this.files[n])return this.reset(),this;this.files[n]=!0}if(t.imports&&0<t.imports.length){var r,i="/",s=!1;if("object"==typeof n){if(this.importRoot=n.root,s=!0,r=this.importRoot,n=n.file,0<=r.indexOf("\\")||0<=n.indexOf("\\"))i="\\"}else"string"==typeof n?this.importRoot?r=this.importRoot:0<=n.indexOf("/")?(r=n.replace(/\/[^\/]*$/,""),""===r&&(r="/")):0<=n.indexOf("\\")?(r=n.replace(/\\[^\\]*$/,""),i="\\"):r=".":r=null;for(var o=0;o<t.imports.length;o++)if("string"==typeof t.imports[o]){if(!r)throw Error("Cannot determine import root: File name is unknown");var u=t.imports[o];if(!/^google\/protobuf\//.test(u)&&(u=r+i+u,!0!==this.files[u])){/\.proto$/i.test(u)&&!e.DotProto&&(u=u.replace(/\.proto$/,".json"));var a=e.Util.fetch(u);if(null===a)throw Error("Failed to import '"+u+"' in '"+n+"': File not found");/\.json$/i.test(u)?this["import"](JSON.parse(a+""),u):this["import"]((new e.DotProto.Parser(a+"")).parse(),u)}}else n?/\.(\w+)$/.test(n)?this["import"](t.imports[o],n.replace(/^(.+)\.(\w+)$/,function(e,t,n){return t+"_import"+o+"."+n})):this["import"](t.imports[o],n+"_import"+o):this["import"](t.imports[o]);s&&(this.importRoot=null)}return t.messages&&(t["package"]&&this.define(t["package"],t.options),this.create(t.messages),this.reset()),t.enums&&(t["package"]&&this.define(t["package"],t.options),this.create(t.enums),this.reset()),t.services&&(t["package"]&&this.define(t["package"],t.options),this.create(t.services),this.reset()),t["extends"]&&(t["package"]&&this.define(t["package"],t.options),this.create(t["extends"]),this.reset()),this},r.isValidService=function(e){return"string"==typeof e.name&&!!t.NAME.test(e.name)&&"object"==typeof e.rpc},r.isValidExtend=function(n){if("string"!=typeof n.ref||!t.TYPEREF.test(n.ref))return!1;var i;if("undefined"!=typeof n.fields){if(!e.Util.isArray(n.fields))return!1;var s=[],o;for(i=0;i<n.fields.length;i++){if(!r.isValidMessageField(n.fields[i]))return!1;o=parseInt(n.id,10);if(0<=s.indexOf(o))return!1;s.push(o)}}return!0},i.resolveAll=function(){var r;if(null!=this.ptr&&"object"!=typeof this.ptr.type){if(this.ptr instanceof n.Namespace){r=this.ptr.children;for(var i=0,s=r.length;i<s;++i)this.ptr=r[i],this.resolveAll()}else if(this.ptr instanceof n.Message.Field)if(t.TYPE.test(this.ptr.type))this.ptr.type=e.TYPES[this.ptr.type];else{if(!t.TYPEREF.test(this.ptr.type))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);r=(this.ptr instanceof n.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0);if(!r)throw Error("Unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.resolvedType=r;if(r instanceof n.Enum)this.ptr.type=e.TYPES["enum"];else{if(!(r instanceof n.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=r.isGroup?e.TYPES.group:e.TYPES.message}}else if(!(this.ptr instanceof e.Reflect.Enum.Value))if(this.ptr instanceof e.Reflect.Service.Method){if(!(this.ptr instanceof e.Reflect.Service.RPCMethod))throw Error("Illegal service type in "+this.ptr.toString(!0));r=this.ptr.parent.resolve(this.ptr.requestName);if(!(r&&r instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);this.ptr.resolvedRequestType=r,r=this.ptr.parent.resolve(this.ptr.responseName);if(!(r&&r instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=r}else if(!(this.ptr instanceof e.Reflect.Message.OneOf||this.ptr instanceof e.Reflect.Extension))throw Error("Illegal object in namespace: "+typeof this.ptr+":"+this.ptr);this.reset()}},i.build=function(e){this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null==this.result&&(this.result=this.ns.build());if(e){e=e.split(".");for(var t=this.result,n=0;n<e.length;n++){if(!t[e[n]]){t=null;break}t=t[e[n]]}return t}return this.result},i.lookup=function(e){return e?this.ns.resolve(e):this.ns},i.toString=function(){return"Builder"},r.Message=function(){},r.Service=function(){},r}(t,t.Lang,t.Reflect),t.loadProto=function(e,n,r){if("string"==typeof n||n&&"string"==typeof n.file&&"string"==typeof n.root)r=n,n=void 0;return t.loadJson((new t.DotProto.Parser(e)).parse(),n,r)},t.protoFromString=t.loadProto,t.loadProtoFile=function(e,n,r){n&&"object"==typeof n?(r=n,n=null):n&&"function"==typeof n||(n=null);if(n)return t.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,function(i){if(null===i)n(Error("Failed to fetch file"));else try{n(null,t.loadProto(i,r,e))}catch(s){n(s)}});var i=t.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===i?null:t.loadProto(i,r,e)},t.protoFromFile=t.loadProtoFile,t.newBuilder=function(e){return e=e||{},"undefined"==typeof e.convertFieldsToCamelCase&&(e.convertFieldsToCamelCase=t.convertFieldsToCamelCase),"undefined"==typeof e.populateAccessors&&(e.populateAccessors=t.populateAccessors),new t.Builder(e)},t.loadJson=function(e,n,r){if("string"==typeof n||n&&"string"==typeof n.file&&"string"==typeof n.root)r=n,n=null;return n&&"object"==typeof n||(n=t.newBuilder()),"string"==typeof e&&(e=JSON.parse(e)),n["import"](e,r),n.resolveAll(),n.build(),n},t.loadJsonFile=function(e,n,r){n&&"object"==typeof n?(r=n,n=null):n&&"function"==typeof n||(n=null);if(n)return t.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,function(i){if(null===i)n(Error("Failed to fetch file"));else try{n(null,t.loadJson(JSON.parse(i),r,e))}catch(s){n(s)}});var i=t.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===i?null:t.loadJson(JSON.parse(i),r,e)},t}"function"==typeof require&&"object"==typeof module&&module&&module.id&&"object"==typeof exports&&exports?module.exports=t(require("bytebuffer")):"function"==typeof webswingRequirejs.define&&webswingRequirejs.define.amd?webswingRequirejs.define("ProtoBuf",["ByteBuffer"],t):(e.dcodeIO=e.dcodeIO||{}).ProtoBuf=t(e.dcodeIO.ByteBuffer)}(this),webswingRequirejs.define("text",["module"],function(e){var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.12",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i&&i.isBuild&&!i.inlineText){r();return}d.isBuild=i&&i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("﻿")===0&&(i=i.substring(1)),t(i)}catch(s){r&&r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status||0,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r&&r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),webswingRequirejs.define("text!directdraw.proto",[],function(){return'syntax = "proto2";\npackage org.webswing.directdraw.proto;\n\nmessage WebImageProto {\n    required uint32 width = 1;\n    required uint32 height = 2;\n    repeated DrawInstructionProto instructions = 3;\n    repeated DrawConstantProto constants = 4;\n    repeated FontFaceProto fontFaces = 5;\n}\n\nmessage DrawInstructionProto {\n    required InstructionProto inst = 1;\n    repeated uint32 args = 2;\n    optional bytes webImage = 3;\n\n    enum InstructionProto {\n        DRAW = 0;\n        FILL = 1;\n        DRAW_IMAGE = 2;\n        DRAW_WEBIMAGE = 3;\n        DRAW_STRING = 4;\n        COPY_AREA = 5;\n        GRAPHICS_DISPOSE = 6;\n        GRAPHICS_SWITCH = 7;\n        GRAPHICS_CREATE = 8;\n        TRANSFORM = 9;\n        SET_PAINT = 10;\n        SET_FONT = 11;\n        SET_STROKE = 12;\n        SET_COMPOSITE = 13;\n        DRAW_GLYPH_LIST = 14;\n    }\n}\n\nmessage DrawConstantProto {\n    required uint32 id = 1;\n    optional ColorProto color = 2;\n    optional ImageProto image = 3;\n    optional TransformProto transform = 4;\n    optional string string = 5;\n    optional PathProto path = 6;\n    optional FontProto font = 7;\n    optional LinearGradientProto linearGrad = 8;\n    optional RadialGradientProto radialGrad = 9;\n    optional PointsProto points = 10;\n    optional RectangleProto rectangle = 11;\n    optional EllipseProto ellipse = 12;\n    optional RoundRectangleProto roundRectangle = 13;\n    optional ArcProto arc = 14;\n    optional StrokeProto stroke = 15;\n    optional CompositeProto composite = 16;\n    optional TextureProto texture = 17;\n    optional GlyphProto glyph = 18;\n    optional CombinedProto combined = 19;\n}\n\nmessage FontFaceProto {\n    required string name = 1;\n    required bytes font = 2;\n    optional string style = 3;\n}\n\nmessage ColorProto {\n    required fixed32 rgba = 1;\n}\n\nmessage ImageProto {\n    required bytes data = 1;\n}\n\nmessage TransformProto {\n    optional float m00 = 1 [default = 1];\n    optional float m10 = 2 [default = 0];\n    optional float m01 = 3 [default = 0];\n    optional float m11 = 4 [default = 1];\n    optional float m02 = 5 [default = 0];\n    optional float m12 = 6 [default = 0];\n}\n\nmessage CombinedProto {\n    repeated uint32 ids = 1;\n}\n\nmessage GlyphProto {\n    optional bytes data = 1;\n}\n\nmessage RectangleProto {\n    required float x = 1;\n    required float y = 2;\n    required float w = 3;\n    required float h = 4;\n}\n\nmessage EllipseProto {\n    required float x = 1;\n    required float y = 2;\n    required float w = 3;\n    required float h = 4;\n}\n\nmessage RoundRectangleProto {\n    required float x = 1;\n    required float y = 2;\n    required float w = 3;\n    required float h = 4;\n    optional float arcW = 5;\n    optional float arcH = 6;\n}\n\nmessage ArcProto {\n    required float x = 1;\n    required float y = 2;\n    required float w = 3;\n    required float h = 4;\n    optional float start = 5;\n    optional float extent = 6;\n    optional ArcTypeProto type = 7;\n\n    enum ArcTypeProto {\n        OPEN = 0;\n        CHORD = 1;\n        PIE = 2;\n    }\n}\n\nmessage PathProto {\n    required bool windingOdd = 1;\n    repeated SegmentTypeProto type = 2;\n    repeated float points = 3;\n\n    enum SegmentTypeProto {\n        MOVE = 0;\n        LINE = 1;\n        QUAD = 2;\n        CUBIC = 3;\n        CLOSE = 4;\n    }\n}\n\nmessage FontProto {\n    required string family = 1;\n    optional StyleProto style = 2;\n    optional uint32 size = 3;\n    optional TransformProto transform = 4;\n\n    enum StyleProto {\n        NORMAL = 0;\n        OBLIQUE = 1;\n        ITALIC = 2;\n        BOLDANDITALIC = 3;\n    }\n}\n\nmessage StrokeProto {\n    required float width = 1;\n    optional float miterLimit = 2;\n    optional StrokeJoinProto join = 3;\n    optional StrokeCapProto cap = 4;\n    repeated float dash = 5;\n    optional float dashOffset = 6;\n\n    enum StrokeJoinProto {\n        JOIN_MITER = 0;\n        JOIN_ROUND = 1;\n        JOIN_BEVEL = 2;\n    }\n\n    enum StrokeCapProto {\n        CAP_BUTT = 0;\n        CAP_ROUND = 1;\n        CAP_SQUARE = 2;\n    }\n}\n\nmessage LinearGradientProto {\n    required sint32 xStart = 1;\n    required sint32 yStart = 2;\n    required sint32 xEnd = 3;\n    required sint32 yEnd = 4;\n    repeated fixed32 colors = 5;\n    repeated float fractions = 6;\n    required CyclicMethodProto repeat = 7;\n}\n\nmessage RadialGradientProto {\n    required sint32 xCenter = 1;\n    required sint32 yCenter = 2;\n    required sint32 xFocus = 3;\n    required sint32 yFocus = 4;\n    required sint32 radius = 5;\n    repeated fixed32 colors = 6;\n    repeated float fractions = 7;\n    required CyclicMethodProto repeat = 8;\n}\n\nenum CyclicMethodProto {\n    NO_CYCLE = 0;\n    REFLECT = 1;\n    REPEAT = 2;\n}\n\nmessage PointsProto {\n    repeated sint32 points = 1;\n}\n\nmessage CompositeProto {\n    required CompositeTypeProto type = 1;\n    optional float alpha = 2 [default = 1];\n    optional fixed32 color = 3;\n    enum CompositeTypeProto {\n        CLEAR = 1;\n        SRC = 2;\n        DST = 9;\n        SRC_OVER = 3;\n        DST_OVER = 4;\n        SRC_IN = 5;\n        DST_IN = 6;\n        SRC_OUT = 7;\n        DST_OUT = 8;\n        SRC_ATOP = 10;\n        DST_ATOP = 11;\n        XOR = 12;\n        XOR_MODE = 13;\n    }\n}\n\nmessage TextureProto {\n    required ImageProto image = 1;\n    required RectangleProto anchor = 2;\n}'}),function(e,t){typeof webswingRequirejs.define=="function"&&webswingRequirejs.define.amd?webswingRequirejs.define("webswing-dd",["ProtoBuf","text!directdraw.proto"],t):e.WebswingDirectDraw=t(dcodeIO.ProtoBuf)}(this,function(e,t){return function(n){function b(e,t){return S(o.decode64(e),t)}function w(e,t){return S(o.decode(e),t)}function E(e,t){return S(e,t)}function S(e,t){return new Promise(function(n,i){try{x(e,t,n,i)}catch(s){r.onErrorMessage(s),i(s)}})}function x(e,t,n,i){var s,o=(new Date).getTime();t!=null?s=t:(s=document.createElement("canvas"),s.getContext("2d").scale(r.dpr,r.dpr));if(s.width!=e.width*r.dpr||s.height!=e.height*r.dpr)s.width=e.width*r.dpr,s.height=e.height*r.dpr;var u={canvas:s,graphicsStates:{},currentStateId:null},a=T(e.constants);at(a).then(function(){return ft(e.fontFaces)}).then(function(){var t=u.canvas.getContext("2d");r.logTrace&&(t=xt(t)),e.instructions!=null&&(t.save(),e.instructions.reduce(function(e,n){return e.then(function(e){return N(t,n,u)})},Promise.resolve()).then(function(){t.restore(),St(o,e),n(u.canvas)},function(e){t.restore(),i(e),r.onErrorMessage(e)}))},function(e){r.onErrorMessage(e)})}function T(e){var t=[];return e.forEach(function(e){v[e.id]=e,e.image!=null?t.push(e.image):e.texture!=null?t.push(e.texture.image):e.glyph!=null&&e.glyph.data!=null&&t.push(e.glyph)}),t}function N(e,t,n){var r=e,i=mt(t.args,v),s=n.graphicsStates[n.currentStateId],o=C(s);o&&(e=k(s,r));switch(t.inst){case u.GRAPHICS_CREATE:D(r,t.args[0],i,n);break;case u.GRAPHICS_SWITCH:M(r,t.args[0],n);break;case u.GRAPHICS_DISPOSE:O(t.args[0],n);break;case u.DRAW:P(e,i,s.transform);break;case u.FILL:H(e,i);break;case u.DRAW_IMAGE:B(e,i);break;case u.DRAW_WEBIMAGE:return j(e,i,t.webImage);case u.DRAW_STRING:I(e,i,s.fontTransform);break;case u.COPY_AREA:R(e,i);break;case u.SET_STROKE:s.strokeArgs=i,W(r,i);break;case u.SET_PAINT:s.paintArgs=i,X(r,i);break;case u.SET_COMPOSITE:s.compositeArgs=i,G(r,i);break;case u.SET_FONT:s.fontArgs=i,s.fontTransform=q(r,i);break;case u.TRANSFORM:s.transform=gt(s.transform,U(r,i));break;case u.DRAW_GLYPH_LIST:F(e,i);break;default:console.log("instruction code: "+t.inst+" not recognized")}if(o){var a=e.popBoundingBox(),f=ut(s.compositeArgs[0].composite.color);A(r,e,f,a)}return Promise.resolve()}function C(e){return e!=null&&e.compositeArgs!=null&&e.compositeArgs[0].composite.type==d.XOR_MODE}function k(e,t){y==null&&(y=document.createElement("canvas")),y.width=t.canvas.width,y.height=t.canvas.height;var n=y.getContext("2d");return L(n),_(e,n),n}function L(e){if(!e.wrapped){e.wrapped=!0,e.boundingBox=null,e.pathBBox=null;var t=e.beginPath;e.beginPath=function(){return this.pathBBox={},this.pathBBox.minX=this.pathBBox.minY=99999999999,this.pathBBox.maxX=this.pathBBox.maxY=-99999999999,t.call(this)};var n=e.setTransform;e.setTransform=function(e,t,r,i,s,o){return this.transfomMatrix=[e,t,r,i,s,o],n.call(this,e,t,r,i,s,o)};var r=e.transform;e.transform=function(e,t,n,i,s,o){return this.transfomMatrix=gt(this.transfomMatrix,[e,t,n,i,s,o]),r.call(this,e,t,n,i,s,o)},e.updateMinMax=function(e,t){var n=wt(e,t,this.transfomMatrix);n.x<this.pathBBox.minX&&(this.pathBBox.minX=n.x),n.x>this.pathBBox.maxX&&(this.pathBBox.maxX=n.x),n.y<this.pathBBox.minY&&(this.pathBBox.minY=n.y),n.y>this.pathBBox.maxY&&(this.pathBBox.maxY=n.y)};var i=e.fillText;e.fillText=function(e,t,n,r){this.pathBBox={},this.pathBBox.minX=this.pathBBox.minY=99999999999,this.pathBBox.maxX=this.pathBBox.maxY=-99999999999;var s=r||this.measureText(e).width,o=this.measureText("M").width*2;return this.updateMinMax(t-3,n-o*.7),this.updateMinMax(t-3,n+o*.3),this.updateMinMax(t+s*1.2,n-o*.7),this.updateMinMax(t+s*1.2,n+o*.3),this.setBoundingBox(),r===undefined?i.call(this,e,t,n):i.call(this,e,t,n,r)};var s=e.moveTo;e.moveTo=function(e,t){return this.updateMinMax(e,t),s.call(this,e,t)};var o=e.lineTo;e.lineTo=function(e,t){return this.updateMinMax(e,t),o.call(this,e,t)};var u=e.quadraticCurveTo;e.quadraticCurveTo=function(e,t,n,r){return this.updateMinMax(n,r),this.updateMinMax(e,t),u.call(this,e,t,n,r)};var a=e.bezierCurveTo;e.bezierCurveTo=function(e,t,n,r,i,s){return this.updateMinMax(i,s),this.updateMinMax(e,t),this.updateMinMax(n,r),a.call(this,e,t,n,r,i,s)};var f=e.rect;e.rect=function(e,t,n,r){return this.updateMinMax(e,t),this.updateMinMax(e,t+r),this.updateMinMax(e+n,t),this.updateMinMax(e+n,t+r),f.call(this,e,t,n,r)};var l=e.fill;e.fill=function(){return this.setBoundingBox(),l.call(this)};var c=e.drawImage;e.drawImage=function(){return this.pathBBox={},this.pathBBox.minX=this.pathBBox.minY=-99999999999,this.pathBBox.maxX=this.pathBBox.maxY=99999999999,this.setBoundingBox(),c.apply(this,arguments)};var h=e.stroke;e.stroke=function(){return this.setBoundingBox(this.lineWidth/2+3),h.call(this)},e.setBoundingBox=function(e){var t=(e||0)*this.transfomMatrix[0],n=(e||0)*this.transfomMatrix[3],r=Math.min(Math.max(0,this.pathBBox.minX-t),this.canvas.width),i=Math.min(Math.max(0,this.pathBBox.minY-n),this.canvas.height),s=Math.min(Math.max(0,this.pathBBox.maxX+t),this.canvas.width),o=Math.min(Math.max(0,this.pathBBox.maxY+n),this.canvas.height);this.boundingBox={x:r,y:i,w:s-r,h:o-i}},e.popBoundingBox=function(){var e=this.boundingBox;return this.boundingBox=null,e!=null&&(e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.w=Math.ceil(e.w),e.h=Math.ceil(e.h)),e}}}function A(e,t,n,i){if(i==null||i.w==0||i.h==0)return;var s=(new Date).getTime(),o=e.getImageData(i.x,i.y,i.w,i.h),u=t.getImageData(i.x,i.y,i.w,i.h);for(var a=0;a<o.data.length/4;a++)u.data[4*a+3]>0&&(o.data[4*a]=u.data[4*a]^n.r^o.data[4*a],o.data[4*a+1]=u.data[4*a+1]^n.g^o.data[4*a+1],o.data[4*a+2]=u.data[4*a+2]^n.b^o.data[4*a+2],o.data[4*a+3]=o.data[4*a+3]);e.putImageData(o,i.x,i.y),r.logDebug&&console.log("DirectDraw DEBUG xormode - composition pixelsize:"+i.w*i.h+" duration(ms): "+((new Date).getTime()-s))}function O(e,t){delete t.graphicsStates[e]}function M(e,t,n){var r=n.graphicsStates;r[t]!=null?_(r[t],e):console.log("Graphics with id "+t+" not initialized!"),n.currentStateId=t}function _(e,t){if(e!=null){e.strokeArgs!=null&&W(t,e.strokeArgs),e.paintArgs!=null&&X(t,e.paintArgs),e.compositeArgs!=null&&G(t,e.compositeArgs),e.fontArgs!=null&&q(t,e.fontArgs);if(e.transform!=null){var n=e.transform;t.setTransform(n[0],n[1],n[2],n[3],n[4],n[5])}else{var r=bt();t.setTransform(r[0],r[1],r[2],r[3],r[4],r[5])}}}function D(e,t,n,r){var i=r.graphicsStates;i[t]==null?(i[t]={},r.currentStateId=t,n.shift(),i[t].transform=z(e,n),n.shift(),W(e,n),i[t].strokeArgs=n.slice(0,1),n.shift(),G(e,n),i[t].compositeArgs=n.slice(0,1),n.shift(),X(e,n),i[t].paintArgs=n.slice(0,1),n.shift(),i[t].fontArgs=n,i[t].fontTransform=q(e,n)):console.log("Graphics with id "+t+" already exist!")}function P(e,t,n){e.save(),Y(e,t[1])&&e.clip(vt(t[1])),Y(e,t[0],!0,n),e.stroke(),e.restore()}function H(e,t){e.save(),Y(e,t[1])&&e.clip(vt(t[1])),Y(e,t[0]),e.fill(vt(t[0])),e.restore()}function B(e,t){e.save();var n=t[0].image.data,r=t[1],i=t[2],s=t[3],o=t[4];Y(e,o)&&e.clip(vt(o)),r!=null&&U(e,[r]),s!=null&&(e.fillStyle=ot(s.color.rgba),e.beginPath(),i==null?e.rect(0,0,n.width,n.height):e.rect(0,0,i.rectangle.w,i.rectangle.h),e.fill()),i==null?e.drawImage(n,0,0):(i=i.rectangle,e.drawImage(n,i.x,i.y,i.w,i.h,0,0,i.w,i.h)),e.restore()}function j(e,t,n){var i=t[0],s=t[1],o=t[2],u=t[3],a=g.pop();return w(n,a).then(function(t){e.save();var n=r.dpr;Y(e,u)&&e.clip(vt(u)),i!=null&&U(e,[i]),o!=null&&(e.fillStyle=ot(o.color.rgba),e.beginPath(),s==null?e.rect(0,0,t.width/n,t.height/n):e.rect(0,0,s.rectangle.w,s.rectangle.h),e.fill()),s==null?e.drawImage(t,0,0,t.width,t.height,0,0,t.width/n,t.height/n):(s=s.rectangle,e.drawImage(t,s.x*n,s.y*n,s.w*n,s.h*n,0,0,s.w,s.h)),e.restore(),t.width=0,g.push(t)})}function F(e,t){var n=mt(t[0].combined.ids,v),r=n[0].points,i=n[1].points,s=n.slice(2),o=t[1];e.save(),Y(e,o)&&e.clip(vt(o));if(s.length>0){var u=document.createElement("canvas");u.width=r.points[2],u.height=r.points[3];var a=u.getContext("2d");for(var f=0;f<s.length;f++)if(s[f].glyph.data!=null){var l=s[f].glyph.data,c=i.points[f*2],h=i.points[f*2+1];a.drawImage(l,0,0,l.width,l.height,c,h,l.width,l.height)}a.fillStyle=e.fillStyle,a.globalCompositeOperation="source-in",a.fillRect(0,0,u.width,u.height),e.drawImage(u,0,0,u.width,u.height,r.points[0],r.points[1],u.width,u.height)}e.restore()}function I(e,t,n){var r=t[0].string,i=t[1].points.points,s=i[0],o=i[1],u=t[2];e.save(),Y(e,u)&&e.clip(vt(u));if(n!=null){var a=n;e.transform(a.m00,a.m10,a.m01,a.m11,a.m02+s,a.m12+o),e.fillText(r,0,0)}else{var f=s;for(var l=0;l<r.length;l++){var c=r.charAt(l),h=e.measureText(c).width;e.save();var p=i[l+2]/h;e.scale(p,1),e.fillText(c,f/p,o),e.restore(),f+=i[l+2]}}e.restore()}function q(e,t){if(t[0]==null)return e.font;var n=t[0].font,r="";switch(n.style){case p.NORMAL:r="";break;case p.OBLIQUE:r="bold";break;case p.ITALIC:r="italic";break;case p.BOLDANDITALIC:r="bold italic"}var s=n.family;return n.family!=="sans-serif"&&n.family!=="serif"&&n.family!=="monospace"&&(s='"'+i+n.family+'"'),e.font=r+" "+n.size+"px "+s,n.transform}function R(e,t){var n=t[0].points.points,i=t[1],s=r.dpr;e.save(),Y(e,i)&&e.clip(vt(i)),e.beginPath(),e.setTransform(1,0,0,1,0,0),e.rect(n[0]*s,n[1]*s,n[2]*s,n[3]*s),e.clip(),e.translate(n[4]*s,n[5]*s),e.drawImage(e.canvas,0,0),e.restore()}function U(e,t){var n=t[0].transform;return e.transform(n.m00,n.m10,n.m01,n.m11,n.m02,n.m12),[n.m00,n.m10,n.m01,n.m11,n.m02,n.m12]}function z(e,t){var n=t[0].transform;return n=yt([n.m00,n.m10,n.m01,n.m11,n.m02,n.m12]),e.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),n}function W(e,t){var n=t[0].stroke;e.lineWidth=n.width,e.miterLimit=n.miterLimit;switch(n.cap){case h.CAP_BUTT:e.lineCap="butt";break;case h.CAP_ROUND:e.lineCap="round";break;case h.CAP_SQUARE:e.lineCap="square"}switch(n.join){case c.JOIN_MITER:e.lineJoin="miter";break;case c.JOIN_ROUND:e.lineJoin="round";break;case c.JOIN_BEVEL:e.lineJoin="bevel"}n.dash!=null&&e.setLineDash!=null&&(e.setLineDash(n.dash),e.lineDashOffset=n.dashOffset)}function X(e,t){var n=t[0];if(n.color!=null){var r=ot(n.color.rgba);e.fillStyle=r,e.strokeStyle=r}else if(n.texture!=null){var i=n.texture.anchor,s=n.texture.image.data,o;if(i.x==0&&i.y==0&&i.w==s.width&&i==s.height)o=e.createPattern(s,"repeat");else{var u=document.createElement("canvas"),a=i.x<0?i.x%i.w+i.w:i.x%i.w,f=i.y<0?i.y%i.h+i.h:i.y%i.h;u.width=i.w,u.height=i.h;var l=u.getContext("2d");l.fillRect(0,0,i.w,i.h),l.fillStyle=l.createPattern(s,"repeat"),l.setTransform(i.w/s.width,0,0,i.h/s.height,a,f),l.fillRect(-a*s.width/i.w,-f*s.height/i.h,s.width,s.height),o=e.createPattern(u,"repeat")}e.fillStyle=o,e.strokeStyle=o}else if(n.linearGrad!=null){var c=V(e,n.linearGrad);e.fillStyle=c,e.strokeStyle=c}else if(n.radialGrad!=null){var c=J(e,n.radialGrad);e.fillStyle=c,e.strokeStyle=c}}function V(e,t){var n=t.xStart,r=t.yStart,i=t.xEnd-n,s=t.yEnd-r,o=1,u=o,a=0;if(t.repeat!=l.NO_CYCLE&&(i!=0||s!=0)){var f=e.canvas,c=[$(n,r,i,s,0,0),$(n,r,i,s,f.width,0),$(n,r,i,s,f.width,f.height),$(n,r,i,s,0,f.height)];u=Math.ceil(Math.max.apply(Math,c)),a=Math.ceil(-Math.min.apply(Math,c)),o=u+a}var h=e.createLinearGradient(n-i*a,r-s*a,n+i*u,r+s*u);for(var p=-a,d=0;p<u;p++,d++)if(t.repeat!=l.REFLECT||p%2==0)for(var v=0;v<t.colors.length;v++)h.addColorStop((d+t.fractions[v])/o,ot(t.colors[v]));else for(var v=t.colors.length-1;v>=0;v--)h.addColorStop((d+(1-t.fractions[v]))/o,ot(t.colors[v]));return h}function $(e,t,n,r,i,s){return((i-e)*n+(s-t)*r)/(n*n+r*r)}function J(e,t){K(t);var n=t.xFocus,r=t.yFocus,i=t.xCenter-n,s=t.yCenter-r,o=t.radius,u=1;if(t.repeat!=l.NO_CYCLE)if(i==0&&s==0){var a=e.canvas,f=[Q(n,r,0,0)/o,Q(n,r,a.width,0)/o,Q(n,r,a.width,a.height)/o,Q(n,r,0,a.height)/o];u=Math.ceil(Math.max.apply(Math,f))}else{var c=Math.sqrt(i*i+s*s),h=i+o*i/c,p=s+o*s/c,d=i-o*i/c,v=s-o*s/c,a=e.canvas,f=[$(n,r,h,p,0,0),$(n,r,h,p,a.width,0),$(n,r,h,p,a.width,a.height),$(n,r,h,p,0,a.height),$(n,r,d,v,0,0),$(n,r,d,v,a.width,0),$(n,r,d,v,a.width,a.height),$(n,r,d,v,0,a.height)];u=Math.ceil(Math.max.apply(Math,f))}var m=e.createRadialGradient(n,r,0,n+u*i,r+u*s,o*u);for(var g=0;g<u;g++)if(t.repeat!=l.REFLECT||g%2==0)for(var y=0;y<t.colors.length;y++)m.addColorStop((g+t.fractions[y])/u,ot(t.colors[y]));else for(var y=t.colors.length-1;y>=0;y--)m.addColorStop((g+(1-t.fractions[y]))/u,ot(t.colors[y]));return m}function K(e){var t=e.xFocus-e.xCenter,n=e.yFocus-e.yCenter;if(t==0&&n==0)return;var r=.99,i=e.radius*e.radius,s=t*t+n*n;if(s>i*r){var o=Math.sqrt(i*r/s);e.xFocus=e.xCenter+t*o,e.yFocus=e.yCenter+n*o}}function Q(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}function G(e,t){var n=t[0].composite;if(n!=null){e.globalAlpha=n.alpha;switch(n.type){case d.CLEAR:e.globalCompositeOperation="destination-out",e.globalAlpha=1;break;case d.SRC:e.globalCompositeOperation="source-over";break;case d.DST:e.globalCompositeOperation="destination-over",e.globalAlpha=0;break;case d.SRC_OVER:e.globalCompositeOperation="source-over";break;case d.DST_OVER:e.globalCompositeOperation="destination-over";break;case d.SRC_IN:e.globalCompositeOperation="source-in";break;case d.DST_IN:e.globalCompositeOperation="destination-in";break;case d.SRC_OUT:e.globalCompositeOperation="source-out";break;case d.DST_OUT:e.globalCompositeOperation="destination-out";break;case d.SRC_ATOP:e.globalCompositeOperation="source-atop";break;case d.DST_ATOP:e.globalCompositeOperation="destination-atop";break;case d.XOR:e.globalCompositeOperation="xor";break;case d.XOR_MODE:e.globalCompositeOperation="source-over"}}}function Y(e,t,n,r){if(t==null)return!1;var i=st(e,n,r);if(t.rectangle!=null)return e.beginPath(),Z(e,t.rectangle,i),!0;if(t.roundRectangle!=null)return e.beginPath(),nt(e,t.roundRectangle,i),!0;if(t.ellipse!=null)return e.beginPath(),et(e,t.ellipse,i),!0;if(t.arc!=null)return e.beginPath(),it(e,t.arc,i),!0;if(t.path!=null){e.beginPath();var s=t.path,o=0;return s.type.forEach(function(t,n){switch(t){case a.MOVE:e.moveTo(s.points[o+0]+i.x,s.points[o+1]+i.y),o+=2;break;case a.LINE:e.lineTo(s.points[o+0]+i.x,s.points[o+1]+i.y),o+=2;break;case a.QUAD:e.quadraticCurveTo(s.points[o+0]+i.x,s.points[o+1]+i.y,s.points[o+2]+i.x,s.points[o+3]+i.y),o+=4;break;case a.CUBIC:e.bezierCurveTo(s.points[o+0]+i.x,s.points[o+1]+i.y,s.points[o+2]+i.x,s.points[o+3]+i.y,s.points[o+4]+i.x,s.points[o+5]+i.y),o+=6;break;case a.CLOSE:e.closePath();break;default:console.log("segment.type:"+segment.type+" not recognized")}}),!0}return!1}function Z(e,t,n){e.rect(t.x+n.x,t.y+n.y,t.w,t.h)}function et(e,t,n){var r=.5522847498307933,i=.5+r*.5,s=.5-r*.5;e.moveTo(t.x+n.x+t.w,t.y+n.y+.5*t.h);var o=tt([1,i,i,1,.5,1],t,n);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]),o=tt([s,1,0,i,0,.5],t,n),e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]),o=tt([0,s,s,0,.5,0],t,n),e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]),o=tt([i,0,1,s,1,.5],t,n),e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]),e.closePath()}function tt(e,t,n){return e[0]=t.x+n.x+e[0]*t.w,e[1]=t.y+n.y+e[1]*t.h,e[2]=t.x+n.x+e[2]*t.w,e[3]=t.y+n.y+e[3]*t.h,e[4]=t.x+n.x+e[4]*t.w,e[5]=t.y+n.y+e[5]*t.h,e}function nt(e,t,n){var r=.22385762508460333,i=rt([0,0,0,.5],t,n);e.moveTo(i[0],i[1]),i=rt([0,0,1,-0.5],t,n),e.lineTo(i[0],i[1]),i=rt([0,0,1,-r,0,r,1,0,0,.5,1,0],t,n),e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]),i=rt([1,-0.5,1,0],t,n),e.lineTo(i[0],i[1]),i=rt([1,-r,1,0,1,0,1,-r,1,0,1,-0.5],t,n),e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]),i=rt([1,0,0,.5],t,n),e.lineTo(i[0],i[1]),i=rt([1,0,0,r,1,-r,0,0,1,-0.5,0,0],t,n),e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]),i=rt([0,.5,0,0],t,n),e.lineTo(i[0],i[1]),i=rt([0,r,0,0,0,0,0,r,0,0,0,.5],t,n),e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]),e.closePath()}function rt(e,t,n){var r=[],i=0;for(var s=0;s<e.length;s+=4)r[i++]=t.x+n.x+e[s+0]*t.w+e[s+1]*Math.abs(t.arcW),r[i++]=t.y+n.y+e[s+2]*t.h+e[s+3]*Math.abs(t.arcH);return r}function it(e,t,n){var r=t.w/2,i=t.h/2,s=t.x+n.x+r,o=t.y+n.y+i,u=-(t.start*Math.PI/180),a=-t.extent,l=4,c=a<0?Math.PI/2:-Math.PI/2,h=a<0?.5522847498307933:-0.5522847498307933;a>-360&&a<360&&(l=Math.ceil(Math.abs(a)/90),c=a/l*Math.PI/180,h=4/3*Math.sin(c/2)/(1+Math.cos(c/2)),l=h==0?0:l),e.moveTo(s+Math.cos(u)*r,o+Math.sin(u)*i);for(var p=0;p<l;p++){var d=u+c*p,v=Math.cos(d),m=Math.sin(d),g=[];g[0]=s+(v-h*m)*r,g[1]=o+(m+h*v)*i,d+=c,v=Math.cos(d),m=Math.sin(d),g[2]=s+(v+h*m)*r,g[3]=o+(m-h*v)*i,g[4]=s+v*r,g[5]=o+m*i,e.bezierCurveTo(g[0],g[1],g[2],g[3],g[4],g[5])}switch(t.type){case f.OPEN:break;case f.CHORD:e.closePath();break;case f.PIE:e.lineTo(s,o),e.closePath()}}function st(e,t,n){if(!t)return{x:0,y:0};var i=e.lineWidth*n[0]/r.dpr%2,s=e.lineWidth*n[3]/r.dpr%2,o=i>1e-4&&i<1.9999?.5/n[0]*r.dpr:0,u=s>1e-4&&s<1.9999?.5/n[3]*r.dpr:0;return{x:o,y:u}}function ot(e){var t=ut(e);return"rgba("+t.r+","+t.g+","+t.b+","+t.a/255+")"}function ut(e){var t=255;return{r:e>>>24&t,g:e>>>16&t,b:e>>>8&t,a:e&t}}function at(e){return new Promise(function(t,n){try{ht(e,t,n)}catch(i){r.onErrorMessage(error),n(i)}})}function ft(e){return new Promise(function(t,n){try{if(e.length>0){var s=e.map(function(e){return new Promise(function(t){if(m.indexOf(e.name)>=0)t();else{m.push(e.name);var n=document.createElement("style");n.type="text/css",n.setAttribute("data-dd-ctx",i);var r=i+e.name;n.innerHTML=ct(r,e.font,e.style),document.body.appendChild(n),lt(r)?t():setTimeout(t,5)}})});Promise.all(s).then(t)}else t()}catch(o){r.onErrorMessage(error),n(o)}})}function lt(e){var t=document.createElement("canvas"),n=t.getContext("2d"),r="abcdefghijklmnopqrstuvwxyz0123456789";n.font="72px monospace";var i=n.measureText(r).width;n.font="72px '"+e+"', monospace";var s=n.measureText(r).width;return s==i?!1:!0}function ct(e,t,n){var r="@font-face {";return r+="font-family: '"+e+"';",r+="src: url(data:font/truetype;base64,"+pt(t)+");",n!=null&&(r+="font-style: "+n+";"),r+="}",r}function ht(e,t,n){if(e.length>0){var r=e.map(function(e){return new Promise(function(t){var n=new Image;n.onload=function(){e.data=n,t()},n.src=dt(e)})});Promise.all(r).then(t)}else t()}function pt(e){var t="",n=new Uint8Array(e.buffer,e.offset,e.limit-e.offset);for(var r=0,i=n.byteLength;r<i;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}function dt(e){return"data:image/png;base64,"+pt(e.data)}function vt(e){return e.path!=null?e.path.windingOdd?"evenodd":"nonzero":"nonzero"}function mt(e,t){var n=[];for(var r=0;r<e.length;r++)n[r]=v[e[r]];return n}function gt(e,t){var n=[];return e==null&&(e=bt()),n[0]=e[0]*t[0]+e[2]*t[1],n[1]=e[1]*t[0]+e[3]*t[1],n[2]=e[0]*t[2]+e[2]*t[3],n[3]=e[1]*t[2]+e[3]*t[3],n[4]=e[0]*t[4]+e[2]*t[5]+e[4],n[5]=e[1]*t[4]+e[3]*t[5]+e[5],n}function yt(e){return gt(bt(),e)}function bt(){return[r.dpr,0,0,r.dpr,0,0]}function wt(e,t,n){var r=n[0]*e+n[2]*t+n[4],i=n[1]*e+n[3]*t+n[5];return{x:r,y:i}}function Et(){var e=document.body.getElementsByTagName("style"),t=[];for(var n=0;n<e.length;n++)e[n].getAttribute("data-dd-ctx")===i&&t.push(e[n]);t.forEach(function(e){document.body.removeChild(e)})}function St(e,t){if(r.logDebug&&t!=null){var n=(new Date).getTime()-e,i=t.instructions==null?0:t.instructions.length,s=t.constants==null?0:t.constants.length,o=t.fontFaces==null?0:t.fontFaces.length;console.log("DirectDraw DEBUG render time "+n+"ms (insts:"+i+", consts:"+s+", fonts:"+o+")")}}function xt(e){function t(t,r){return function(){console.log("ctx."+r+"("+n(arguments)+")"),t.apply(e,arguments)}}function n(e){var t="";for(var n=0;n<e.length;n++)t+=","+JSON.stringify(e[n]);return t.length>0?t.substring(1):t}return e.traceLoggerWrapped?e:(["fill","stroke","beginPath","save","restore","setTransform","clip","rect","drawImage","fillRect","transform","fillText","scale","setLineDash","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath"].reduce(function(e,n){return e[n]=t(e[n],n),e},e),e.traceLoggerWrapped=!0,e)}n=n||{};var r={logDebug:n.logDebug||!1,logTrace:n.logTrace||!1,ieVersion:n.ieVersion||!1,onErrorMessage:n.onErrorMessage||function(e){console.log(e.stack)},dpr:n.dpr||1},i=Math.floor(Math.random()*65536).toString(16),s=t!=null?e.loadProto(t,"directdraw.proto"):e.loadProtoFile("/directdraw.proto"),o=s.build("org.webswing.directdraw.proto.WebImageProto"),u=s.build("org.webswing.directdraw.proto.DrawInstructionProto.InstructionProto"),a=s.build("org.webswing.directdraw.proto.PathProto.SegmentTypeProto"),f=s.build("org.webswing.directdraw.proto.ArcProto.ArcTypeProto"),l=s.build("org.webswing.directdraw.proto.CyclicMethodProto"),c=s.build("org.webswing.directdraw.proto.StrokeProto.StrokeJoinProto"),h=s.build("org.webswing.directdraw.proto.StrokeProto.StrokeCapProto"),p=s.build("org.webswing.directdraw.proto.FontProto.StyleProto"),d=s.build("org.webswing.directdraw.proto.CompositeProto.CompositeTypeProto"),v=n.constantPoolCache||{},m=[],g=[],y;return{draw64:b,drawBin:w,drawProto:E,dispose:Et,getConstantPoolCache:function(){return v}}}}),webswingRequirejs.define("webswing-base",["webswing-dd","webswing-util"],function(t,n){return function(){function h(){d(null,!1)}function p(e){d(e,!0)}function d(e,t){i.registerInput(),i.registerTouch(),window.addEventListener("beforeunload",v),t||window.addEventListener("hashchange",T),g(),i.cfg.clientId=e,i.cfg.canPaint=!0,i.cfg.hasControl=!t,i.cfg.mirrorMode=t,T(),t&&w(),i.showDialog(i.startingDialog)}function v(e){N()}function m(){i.hideDialog(),i.cfg.canPaint=!0,T(),w(),E()}function g(){i.cfg.clientId="",i.cfg.viewId=n.GUID(),i.cfg.hasControl=!1,i.cfg.mirrorMode=!1,i.cfg.canPaint=!1,clearInterval(s),clearInterval(o),s=setInterval(i.sendInput,100),o=setInterval(b,1e5),l={},c.dispose(),c=new t({logTrace:i.cfg.traceLog,logDebug:i.cfg.debugLog,ieVersion:i.cfg.ieVersion,dpr:n.dpr})}function y(e){i.sendInput({event:{type:e}})}function b(){i.touchSession()}function w(){y("repaint")}function E(e){y("paintAck"),e!=null&&i.sendInput({timestamps:{startTimestamp:e.startTimestamp,sendTimestamp:e.sendTimestamp,renderingTime:""+((new Date).getTime()-e.receivedTimestamp)}})}function S(){i.cfg.hasControl&&y("killSwing")}function x(){i.cfg.mirrorMode||y("unload")}function T(){i.sendInput(j(i.getCanvas()))}function N(){clearInterval(s),x(),i.sendInput(),g(),i.closeFileDialog(),i.hideDialogBar(),window.removeEventListener("beforeunload",v),c.dispose()}function C(e){e.playback!=null&&i.playbackInfo(e);if(e.applications!=null&&e.applications.length!=0){i.cfg.mirror?p(i.cfg.clientId):e.applications.length===1&&h();return}if(e.event!=null&&!i.cfg.recordingPlayback){if(e.event=="shutDownAutoLogoutNotification")i.disconnect(),i.cfg.mirror==0&&i.logout();else if(e.event=="shutDownNotification")i.currentDialog()!==i.timedoutDialog&&i.showDialog(i.stoppedDialog),i.disconnect();else if(e.event=="applicationAlreadyRunning")i.showDialog(i.applicationAlreadyRunning);else if(e.event=="tooManyClientsNotification")i.showDialog(i.tooManyClientsNotification);else if(e.event=="continueOldSession"){m();var t=i.dialogBarContent();i.showDialogBar(i.continueOldSessionDialog),i.dialogBarContent().focused=!1,window.setTimeout(function(){i.dialogBarContent()!=null&&!i.dialogBarContent().focused&&(i.hideDialogBar(),i.showDialogBar(t))},5e3)}else e.event=="sessionStolenNotification"?(i.cfg.canPaint=!1,i.showDialog(i.sessionStolenNotification)):e.event=="unauthorizedAccess"?(i.cfg.canPaint=!1,i.showDialog(i.unauthorizedAccess)):e.event=="sessionTimeoutWarning"?(window.clearTimeout(f),i.showDialogBar(i.inactivityTimeoutWarningDialog),f=window.setTimeout(function(){i.hideDialogBar()},2e3)):e.event=="sessionTimedOutNotification"?(i.showDialog(i.timedoutDialog),i.disconnect()):e.event=="applicationBusy"&&i.currentDialog()==null&&i.showDialog(i.applicationBusyDialog);return}e.jsRequest!=null&&i.cfg.mirrorMode==0&&!i.cfg.recordingPlayback&&i.processJsLink(e.jsRequest);if(e.pixelsRequest!=null&&i.cfg.mirrorMode==0&&!i.cfg.recordingPlayback){var n=F(e.pixelsRequest);i.send(n)}i.cfg.canPaint&&k(e)}function k(e){a.push(e),u||L()}function L(){u=null;if(a.length>0){u=a.shift();try{A(i.getCanvas(),u)}catch(e){throw u=null,e}}}function A(e,t){t.windows!=null&&t.windows.length>0&&i.hideDialog();var n=e.getContext("2d");t.linkAction!=null&&!i.cfg.recordingPlayback&&(t.linkAction.action=="url"?i.openLink(t.linkAction.src):t.linkAction.action=="print"?i.print("file?id="+t.linkAction.src):t.linkAction.action=="file"?i.download("file?id="+t.linkAction.src):t.linkAction.action=="redirect"&&!i.cfg.mirrorMode&&(window.location.href=t.linkAction.src)),t.moveAction!=null&&H(t.moveAction.sx,t.moveAction.sy,t.moveAction.dx,t.moveAction.dy,t.moveAction.width,t.moveAction.height,n);if(t.focusEvent!=null){var r=i.getInput();t.focusEvent.type==="focusWithCarretGained"?(r.style.top=t.focusEvent.y+t.focusEvent.caretY+"px",r.style.left=t.focusEvent.x+t.focusEvent.caretX+"px"):(r.style.top=null,r.style.left=null)}t.cursorChange!=null&&i.cfg.hasControl&&!i.cfg.recordingPlayback&&(e.style.cursor=B(t.cursorChange)),t.copyEvent!=null&&i.cfg.hasControl&&!i.cfg.recordingPlayback&&i.displayCopyBar(t.copyEvent),t.pasteRequest!=null&&i.cfg.hasControl&&!i.cfg.recordingPlayback&&i.displayPasteDialog(t.pasteRequest),t.fileDialogEvent!=null&&i.cfg.hasControl&&!i.cfg.recordingPlayback&&i.processFileDialogEvent(t.fileDialogEvent),t.closedWindow!=null&&delete l[t.closedWindow.id];for(var s in t.windows){var o=t.windows[s];if(o.id=="BG"){(i.cfg.mirrorMode||i.cfg.recordingPlayback)&&D(e,o.width,o.height);for(var u in o.content){var a=o.content[u];a!=null&&P(o.posX+a.positionX,o.posY+a.positionY,a.width,a.height,n)}t.windows.splice(s,1);break}}t.windows!=null?t.windows.reduce(function(e,t){return e.then(function(){return O(t,n)},I)},Promise.resolve()).then(function(){E(t),L()},I):L()}function O(e,t){return e.directDraw!=null?_(e,t):M(e,t)}function M(e,t){return e.content.reduce(function(r,s){return r.then(function(){return new Promise(function(r,o){if(s!=null){var u=new Image,a=function(){t.save(),t.setTransform(n.dpr,0,0,n.dpr,0,0),t.drawImage(u,e.posX+s.positionX,e.posY+s.positionY),t.restore(),r(),u.onload=null,u.src="",u.clearAttributes!=null&&u.clearAttributes(),u=null};u.onload=function(){i.cfg.ieVersion&&i.cfg.ieVersion<=10?window.setTimeout(a,20):a()},u.src=n.getImageString(s.base64Content)}})},I)},Promise.resolve())}function _(e,t){return new Promise(function(r,i){var s;typeof e.directDraw=="string"?s=c.draw64(e.directDraw,l[e.id]):s=c.drawBin(e.directDraw,l[e.id]),s.then(function(i){l[e.id]=i;var s=n.dpr;for(var o in e.content){var u=e.content[o];if(u!=null){var a=Math.min(i.width,Math.max(0,u.positionX*s)),f=Math.min(i.height,Math.max(0,u.positionY*s)),c=Math.min(i.width-a,u.width*s-(a-u.positionX*s)),h=Math.min(i.height-f,u.height*s-(f-u.positionY*s)),p=e.posX*s+a,d=e.posY*s+f,v=c,m=h;p<=t.canvas.width&&d<=t.canvas.height&&p+v>0&&d+m>0&&t.drawImage(i,a,f,c,h,p,d,v,m)}}r()},function(e){i(e)})})}function D(e,t,r){if(e.width!=t*n.dpr||e.height!=r*n.dpr){var i=e.getContext("2d"),s;e.width!==0&&e.height!=0&&(s=i.getImageData(0,0,e.width,e.height)),e.width=t*n.dpr,e.height=r*n.dpr,e.style.width=t+"px",e.style.height=r+"px",s!=null&&i.putImageData(s,0,0)}}function P(e,t,r,i,s){var o=n.dpr;s.clearRect(e*o,t*o,r*o,i*o)}function H(e,t,r,i,s,o,u){var a=n.dpr,f=u.getImageData(e*a,t*a,s*a,o*a);u.putImageData(f,r*a,i*a)}function B(e){if(e.b64img==null)return e.cursor;if(i.cfg.ieVersion)return"url('"+i.cfg.connectionUrl+"file?id="+e.curFile+"'), auto";var t=n.getImageString(e.b64img);return"url("+t+") "+e.x+" "+e.y+" , auto"}function j(e){var t={clientId:i.cfg.clientId,browserId:i.getIdentity(),viewId:i.cfg.viewId,connectionId:i.getSocketId(),locale:i.getLocale(),timeZone:n.getTimeZone(),mirrored:i.cfg.mirrorMode,directDrawSupported:i.cfg.typedArraysSupported&&!(i.cfg.ieVersion&&i.cfg.ieVersion<=10),url:window.location.href};return i.cfg.mirrorMode||(t.documentBase=i.cfg.documentBase,t.params=i.cfg.params,t.desktopWidth=e.offsetWidth,t.desktopHeight=e.offsetHeight),{handshake:t}}function F(e){var t=document.createElement("canvas");t.width=e.w,t.height=e.h;var n=i.getCanvas().getContext("2d"),r=n.getImageData(e.x,e.y,e.h,e.w),s=t.getContext("2d");s.putImageData(r,0,0);var o=t.toDataURL("image/png");return{pixelsResponse:{correlationId:e.correlationId,pixels:o}}}function I(e){throw u=null,e}var r=this,i;r.injects=i={cfg:"webswing.config",disconnect:"webswing.disconnect",getSocketId:"socket.uuid",send:"socket.send",getCanvas:"canvas.get",getInput:"canvas.getInput",registerInput:"input.register",sendInput:"input.sendInput",registerTouch:"touch.register",getUser:"login.user",login:"login.login",logout:"login.logout",touchSession:"login.touchSession",getIdentity:"identity.get",disposeIdentity:"identity.dispose",getLocale:"translate.getLocale",showDialog:"dialog.show",showDialogBar:"dialog.showBar",hideDialog:"dialog.hide",hideDialogBar:"dialog.hideBar",dialogBarContent:"dialog.currentBar",currentDialog:"dialog.current",startingDialog:"dialog.content.startingDialog",stoppedDialog:"dialog.content.stoppedDialog",timedoutDialog:"dialog.content.timedoutDialog",unauthorizedAccess:"dialog.content.unauthorizedAccess",applicationAlreadyRunning:"dialog.content.applicationAlreadyRunning",sessionStolenNotification:"dialog.content.sessionStolenNotification",tooManyClientsNotification:"dialog.content.tooManyClientsNotification",continueOldSessionDialog:"dialog.content.continueOldSessionDialog",inactivityTimeoutWarningDialog:"dialog.content.inactivityTimeoutWarningDialog",applicationBusyDialog:"dialog.content.applicationBusyDialog",processFileDialogEvent:"files.process",closeFileDialog:"files.close",openLink:"files.link",print:"files.print",download:"files.download",displayCopyBar:"clipboard.displayCopyBar",displayPasteDialog:"clipboard.displayPasteDialog",processJsLink:"jslink.process",playbackInfo:"playback.playbackInfo"},r.provides={startApplication:h,startMirrorView:p,continueSession:m,kill:S,handshake:T,processMessage:C,dispose:N,repaint:w},r.ready=function(){c=new t({logTrace:i.cfg.traceLog,logDebug:i.cfg.debugLog,ieVersion:i.cfg.ieVersion,dpr:n.dpr})};var s,o,u,a=[],f=null,l={},c}}),function(e,t){typeof webswingRequirejs.define=="function"&&webswingRequirejs.define.amd?webswingRequirejs.define("atmosphere",t):typeof exports!="undefined"?module.exports=t():e.atmosphere=t()}(this,function(){var e={},t,n=!1,r=[],i=[],s=0,o=Object.prototype.hasOwnProperty;return e={version:"2.3.8-javascript",onError:function(e){},onClose:function(e){},onOpen:function(e){},onReopen:function(e){},onMessage:function(e){},onReconnect:function(e,t){},onMessagePublished:function(e){},onTransportFailure:function(e,t){},onLocalMessage:function(e){},onFailureToReconnect:function(e,t){},onClientTimeout:function(e){},onOpenAfterResume:function(e){},WebsocketApiAdapter:function(t){var n,r;return t.onMessage=function(e){r.onmessage({data:e.responseBody})},t.onMessagePublished=function(e){r.onmessage({data:e.responseBody})},t.onOpen=function(e){r.onopen(e)},r={close:function(){n.close()},send:function(e){n.push(e)},onmessage:function(e){},onopen:function(e){},onclose:function(e){},onerror:function(e){}},n=new e.subscribe(t),r},AtmosphereRequest:function(t){function T(){h=!0,m=!1,p=0,u=null,a=null,f=null,l=null}function N(){M(),T()}function C(e){return e=="debug"?r.logLevel==="debug":e=="info"?r.logLevel==="info"||r.logLevel==="debug":e=="warn"?r.logLevel==="warn"||r.logLevel==="info"||r.logLevel==="debug":e=="error"?r.logLevel==="error"||r.logLevel==="warn"||r.logLevel==="info"||r.logLevel==="debug":!1}function k(t){C("debug")&&e.util.debug(new Date+" Atmosphere: "+t)}function L(e,t){return o.partialMessage===""&&t.transport==="streaming"&&e.responseText.length>t.maxStreamingLength?!0:!1}function A(){if(r.enableProtocol&&!r.disableDisconnect&&!r.firstMessage){var t="X-Atmosphere-Transport=close&X-Atmosphere-tracking-id="+r.uuid;e.util.each(r.headers,function(n,i){var s=e.util.isFunction(i)?i.call(this,r,r,o):i;s!=null&&(t+="&"+encodeURIComponent(n)+"="+encodeURIComponent(s))});var n=r.url.replace(/([?&])_=[^&]*/,t);n+=n===r.url?(/\?/.test(r.url)?"&":"?")+t:"";var i={connected:!1},s=new e.AtmosphereRequest(i);s.connectTimeout=r.connectTimeout,s.attachHeadersAsQueryString=!1,s.dropHeaders=!0,s.url=n,s.contentType="text/plain",s.transport="polling",s.method="GET",s.data="",s.heartbeat=null,r.enableXDR&&(s.enableXDR=r.enableXDR),s.async=r.closeAsync,ht("",s)}}function O(){k("Closing (AtmosphereRequest._close() called)"),m=!0,r.reconnectId&&(clearTimeout(r.reconnectId),delete r.reconnectId),r.heartbeatTimer&&clearTimeout(r.heartbeatTimer),r.reconnect=!1,o.request=r,o.state="unsubscribe",o.responseBody="",o.status=408,o.partialMessage="",r.curWebsocketErrorRetries=0,kt(),A(),M()}function M(){o.partialMessage="",r.id&&clearTimeout(r.id),r.heartbeatTimer&&clearTimeout(r.heartbeatTimer),r.reconnectId&&(clearTimeout(r.reconnectId),delete r.reconnectId),l!=null&&(l.close(),l=null),c!=null&&(c.abort(),c=null),f!=null&&(f.abort(),f=null),u!=null&&(u.canSendMessage&&(k("invoking .close() on WebSocket object"),u.close()),u=null),a!=null&&(a.close(),a=null),_()}function _(){y!=null&&(clearInterval(E),document.cookie=S+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",y.signal("close",{reason:"",heir:m?(y.get("children")||[])[0]:w}),y.close()),b!=null&&b.close()}function D(t){N(),r=e.util.extend(r,t),r.mrequest=r.reconnect,r.reconnect||(r.reconnect=!0)}function P(){return r.webSocketImpl!=null||window.WebSocket||window.MozWebSocket}function H(){var t=e.util.getAbsoluteURL(r.url.toLowerCase()),n=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/.exec(t),i=!(!n||n[1]==window.location.protocol&&n[2]==window.location.hostname&&(n[3]||(n[1]==="http:"?80:443))==(window.location.port||(window.location.protocol==="http:"?80:443)));return window.EventSource&&(!i||!e.util.browser.safari||e.util.browser.vmajor>=7)}function B(){if(r.shared){b=j(r);if(b!=null){C("debug")&&e.util.debug("Storage service available. All communication will be local");if(b.open(r))return}C("debug")&&e.util.debug("No Storage service available."),b=null}r.firstMessage=s==0?!0:!1,r.isOpen=!1,r.ctime=e.util.now(),r.uuid===0&&(r.uuid=s),o.closedByClientTimeout=!1,r.transport!=="websocket"&&r.transport!=="sse"?tt(r):r.transport==="websocket"?P()?X(!1):G("Websocket is not supported, using request.fallbackTransport ("+r.fallbackTransport+")"):r.transport==="sse"&&(H()?W(!1):G("Server Side Events(SSE) is not supported, using request.fallbackTransport ("+r.fallbackTransport+")"))}function j(t){function a(e,t){var n,r=e.length;for(n=0;n<r;n++)e[n]===t&&e.splice(n,1);return r!==e.length}function f(e){var n=JSON.parse(e),i=n.data;if(n.target==="c")switch(n.type){case"open":I("opening","local",r);break;case"close":s||(s=!0,i.reason==="aborted"?O():i.heir===w?B():setTimeout(function(){B()},100));break;case"message":St(i,"messageReceived",200,t.transport);break;case"localMessage":Et(i)}}function l(){var e=(new RegExp("(?:^|; )("+encodeURIComponent(o)+")=([^;]*)")).exec(document.cookie);if(e)return JSON.parse(decodeURIComponent(e[2]))}var n,i,s,o="atmosphere-"+t.url,u={storage:function(){function n(e){e.key===o&&e.newValue&&f(e.newValue)}if(!e.util.storage)return;var r=window.localStorage,i=function(e){var t=r.getItem(o+"-"+e);return t===null?[]:JSON.parse(t)},s=function(e,t){r.setItem(o+"-"+e,JSON.stringify(t))};return{init:function(){return s("children",i("children").concat([w])),e.util.on(window,"storage",n),i("opened")},signal:function(e,t){r.setItem(o,JSON.stringify({target:"p",type:e,data:t}))},close:function(){var r=i("children");e.util.off(window,"storage",n),r&&a(r,t.id)&&s("children",r)}}},windowref:function(){var e=window.open("",o.replace(/\W/g,""));if(!e||e.closed||!e.callbacks)return;return{init:function(){return e.callbacks.push(f),e.children.push(w),e.opened},signal:function(t,n){!e.closed&&e.fire&&e.fire(JSON.stringify({target:"p",type:t,data:n}))},close:function(){s||(a(e.callbacks,f),a(e.children,w))}}}};n=l();if(!n||e.util.now()-n.ts>1e3)return;i=u.storage()||u.windowref();if(!i)return;return{open:function(){var e;return E=setInterval(function(){var e=n;n=l(),(!n||e.ts===n.ts)&&f(JSON.stringify({target:"c",type:"close",data:{reason:"error",heir:e.heir}}))},1e3),e=i.init(),e&&setTimeout(function(){I("opening","local",t)},50),e},send:function(e){i.signal("send",e)},localSend:function(e){i.signal("localSend",JSON.stringify({id:w,event:e}))},close:function(){m||(clearInterval(E),i.signal("close"),i.close())}}}function F(){function s(e){var t=JSON.parse(e),n=t.data;if(t.target==="p")switch(t.type){case"send":ct(n);break;case"localSend":Et(n);break;case"close":O()}}function o(){document.cookie=S+"="+encodeURIComponent(JSON.stringify({ts:e.util.now()+1,heir:(t.get("children")||[])[0]}))+"; path=/"}var t,n="atmosphere-"+r.url,i={storage:function(){function t(e){e.key===n&&e.newValue&&s(e.newValue)}if(!e.util.storage)return;var r=window.localStorage;return{init:function(){e.util.on(window,"storage",t)},signal:function(e,t){r.setItem(n,JSON.stringify({target:"c",type:e,data:t}))},get:function(e){return JSON.parse(r.getItem(n+"-"+e))},set:function(e,t){r.setItem(n+"-"+e,JSON.stringify(t))},close:function(){e.util.off(window,"storage",t),r.removeItem(n),r.removeItem(n+"-opened"),r.removeItem(n+"-children")}}},windowref:function(){var e=n.replace(/\W/g,""),t=document.getElementById(e),r;return t||(t=document.createElement("div"),t.id=e,t.style.display="none",t.innerHTML='<iframe name="'+e+'" />',document.body.appendChild(t)),r=t.firstChild.contentWindow,{init:function(){r.callbacks=[s],r.fire=function(e){var t;for(t=0;t<r.callbacks.length;t++)r.callbacks[t](e)}},signal:function(e,t){!r.closed&&r.fire&&r.fire(JSON.stringify({target:"c",type:e,data:t}))},get:function(e){return r.closed?null:r[e]},set:function(e,t){r.closed||(r[e]=t)},close:function(){}}}};g=function(n){t.signal("message",n)},t=i.storage()||i.windowref(),t.init(),C("debug")&&e.util.debug("Installed StorageService "+t),t.set("children",[]),t.get("opened")!=null&&!t.get("opened")&&t.set("opened",!1),S=encodeURIComponent(n),o(),E=setInterval(o,1e3),y=t}function I(e,t,n){r.shared&&t!=="local"&&F(),y!=null&&y.set("opened",!0),n.close=function(){O()};if(p>0&&e==="re-connecting")n.isReopen=!0,st(o);else if(o.error==null){o.request=n;var i=o.state;o.state=e;var s=o.transport;o.transport=t;var u=o.responseBody;kt(),o.responseBody=u,o.state=i,o.transport=s}}function q(t){t.transport="jsonp";var n=r,i;t!=null&&typeof t!="undefined"&&(n=t),c={open:function(){function u(){n.lastIndex=0,n.openId&&clearTimeout(n.openId),n.heartbeatTimer&&clearTimeout(n.heartbeatTimer),n.reconnect&&p++<n.maxReconnectOnClose?(I("re-connecting",n.transport,n),it(c,n,t.reconnectInterval),n.openId=setTimeout(function(){Z(n)},n.reconnectInterval+1e3)):K(0,"maxReconnectOnClose reached")}function a(){var e=n.url;n.dispatchUrl!=null&&(e+=n.dispatchUrl);var r=n.data;n.attachHeadersAsQueryString&&(e=Y(n),r!==""&&(e+="&X-Atmosphere-Post-Body="+encodeURIComponent(r)),r="");var o=document.head||document.getElementsByTagName("head")[0]||document.documentElement;i=document.createElement("script"),i.src=e+"&jsonpTransport="+s,i.clean=function(){i.clean=i.onerror=i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),++t.scriptCount===2&&(t.scriptCount=1,u())},i.onload=i.onreadystatechange=function(){k("jsonp.onload"),(!i.readyState||/loaded|complete/.test(i.readyState))&&i.clean()},i.onerror=function(){k("jsonp.onerror"),t.scriptCount=1,i.clean()},o.insertBefore(i,o.firstChild)}var s="atmosphere"+ ++w;window[s]=function(i){k("jsonp.window"),t.scriptCount=0;if(n.reconnect&&n.maxRequest===-1||n.requestCount++<n.maxRequest){n.executeCallbackBeforeReconnect||it(c,n,n.pollingInterval);if(i!=null&&typeof i!="string")try{i=i.message}catch(s){}var u=Q(i,n,o);u||St(o.responseBody,"messageReceived",200,n.transport),n.executeCallbackBeforeReconnect&&it(c,n,n.pollingInterval),$(n)}else e.util.log(r.logLevel,["JSONP reconnect maximum try reached "+r.requestCount]),K(0,"maxRequest reached")},setTimeout(function(){a()},50)},abort:function(){i&&i.clean&&i.clean()}},c.open()}function R(e){return r.webSocketImpl!=null?r.webSocketImpl:window.WebSocket?new WebSocket(e):new MozWebSocket(e)}function U(){return Y(r,e.util.getAbsoluteURL(r.webSocketUrl||r.url)).replace(/^http/,"ws")}function z(){var e=Y(r);return e}function W(t){o.transport="sse";var n=z();C("debug")&&(e.util.debug("Invoking executeSSE"),e.util.debug("Using URL: "+n));if(t&&!r.reconnect){a!=null&&M();return}try{a=new EventSource(n,{withCredentials:r.withCredentials})}catch(i){K(0,i),G("SSE failed. Downgrading to fallback transport and resending");return}r.connectTimeout>0&&(r.id=setTimeout(function(){t||M()},r.connectTimeout)),a.onopen=function(n){k("sse.onopen"),$(r),C("debug")&&e.util.debug("SSE successfully opened"),r.enableProtocol?r.isReopen&&(r.isReopen=!1,I("re-opening",r.transport,r)):t?I("re-opening","sse",r):I("opening","sse",r),t=!0,r.method==="POST"&&(o.state="messageReceived",ct(r.data))},a.onmessage=function(t){k("sse.onmessage"),$(r);if(!r.enableXDR&&window.location.host&&t.origin&&t.origin!==window.location.protocol+"//"+window.location.host){e.util.log(r.logLevel,["Origin was not "+window.location.protocol+"//"+window.location.host]);return}o.state="messageReceived",o.status=200,t=t.data;var n=Q(t,r,o);n||(kt(),o.responseBody="",o.messages=[])},a.onerror=function(n){k("sse.onerror"),clearTimeout(r.id),r.heartbeatTimer&&clearTimeout(r.heartbeatTimer);if(o.closedByClientTimeout)return;Ct(t),M(),m?e.util.log(r.logLevel,["SSE closed normally"]):t?r.reconnect&&o.transport==="sse"&&(p++<r.maxReconnectOnClose?(I("re-connecting",r.transport,r),r.reconnectInterval>0?r.reconnectId=setTimeout(function(){W(!0)},r.reconnectInterval):W(!0),o.responseBody="",o.messages=[]):(e.util.log(r.logLevel,["SSE reconnect maximum try reached "+p]),K(0,"maxReconnectOnClose reached"))):G("SSE failed. Downgrading to fallback transport and resending")}}function X(t){o.transport="websocket";var i=U(r.url);C("debug")&&e.util.debug("Invoking executeWebSocket, using URL: "+i);if(t&&!r.reconnect){u!=null&&M();return}u=R(i),r.webSocketBinaryType!=null&&(u.binaryType=r.webSocketBinaryType),r.connectTimeout>0&&(r.id=setTimeout(function(){if(!t){var e={code:1002,reason:"",wasClean:!1};u.onclose(e);try{M()}catch(n){}return}},r.connectTimeout)),u.onopen=function(i){k("websocket.onopen"),$(r),n=!1,C("debug")&&e.util.debug("Websocket successfully opened");var s=t;u!=null&&(u.canSendMessage=!0),r.enableProtocol||(t=!0,s?I("re-opening","websocket",r):I("opening","websocket",r)),u!=null&&r.method==="POST"&&(o.state="messageReceived",u.send(r.data))},u.onmessage=function(e){k("websocket.onmessage"),$(r),r.enableProtocol&&(t=!0),o.state="messageReceived",o.status=200,e=e.data;var n=typeof e=="string";if(n){var i=Q(e,r,o);i||(kt(),o.responseBody="",o.messages=[])}else{e=V(r,e);if(e==="")return;o.responseBody=e,kt(),o.responseBody=null}},u.onerror=function(e){k("websocket.onerror"),clearTimeout(r.id),r.heartbeatTimer&&clearTimeout(r.heartbeatTimer),r.curWebsocketErrorRetries++<r.maxWebsocketErrorRetries&&r.fallbackTransport!=="websocket"&&G("Failed to connect via Websocket. Downgrading to "+r.fallbackTransport+" and resending")},u.onclose=function(i){k("websocket.onclose"),clearTimeout(r.id);if(o.state==="closed")return;var s=i.reason;if(s==="")switch(i.code){case 1e3:s="Normal closure; the connection successfully completed whatever purpose for which it was created.";break;case 1001:s="The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection.";break;case 1002:s="The endpoint is terminating the connection due to a protocol error.";break;case 1003:s="The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data).";break;case 1004:s="The endpoint is terminating the connection because a data frame was received that is too large.";break;case 1005:s="Unknown: no status code was provided even though one was expected.";break;case 1006:s="Connection was closed abnormally (that is, with no close frame being sent)."}C("warn")&&e.util.warn("Websocket closed, reason: "+s+" - wasClean: "+i.wasClean);if(o.closedByClientTimeout||r.handleOnlineOffline&&n){r.reconnectId&&(clearTimeout(r.reconnectId),delete r.reconnectId);return}Ct(t),o.state="closed",m?e.util.log(r.logLevel,["Websocket closed normally"]):!t&&r.fallbackTransport!=="websocket"?G("Websocket failed on first connection attempt. Downgrading to "+r.fallbackTransport+" and resending"):r.reconnect&&o.transport==="websocket"&&(M(),p++<r.maxReconnectOnClose?(I("re-connecting",r.transport,r),r.reconnectInterval>0?r.reconnectId=setTimeout(function(){o.responseBody="",o.messages=[],X(!0)},r.reconnectInterval):(o.responseBody="",o.messages=[],X(!0))):(e.util.log(r.logLevel,["Websocket reconnect maximum try reached "+p]),C("warn")&&e.util.warn("Websocket error, reason: "+i.reason),K(0,"maxReconnectOnClose reached")))};var s=navigator.userAgent.toLowerCase(),a=s.indexOf("android")>-1;a&&u.url===undefined&&u.onclose({reason:"Android 4.1 does not support websockets.",wasClean:!1})}function V(t,n){var i=n;if(t.transport==="polling")return i;if(t.enableProtocol&&t.firstMessage&&e.util.trim(n).length!==0){var o=t.trackMessageLength?1:0,u=n.split(t.messageDelimiter);if(u.length<=o+1)return i;t.firstMessage=!1,t.uuid=e.util.trim(u[o]),u.length<=o+2&&e.util.log("error",["Protocol data not sent by the server. If you enable protocol on client side, be sure to install JavascriptProtocol interceptor on server side.Also note that atmosphere-runtime 2.2+ should be used."]),d=parseInt(e.util.trim(u[o+1]),10),v=u[o+2],t.transport!=="long-polling"&&Z(t),s=t.uuid,i="",o=t.trackMessageLength?4:3;if(u.length>o+1)for(var a=o;a<u.length;a++)i+=u[a],a+1!==u.length&&(i+=t.messageDelimiter);t.ackInterval!==0&&setTimeout(function(){ct("...ACK...")},t.ackInterval)}else t.enableProtocol&&t.firstMessage&&e.util.browser.msie&&+e.util.browser.version.split(".")[0]<10?e.util.log(r.logLevel,["Receiving unexpected data from IE"]):Z(t);return i}function $(e){clearTimeout(e.id),e.timeout>0&&e.transport!=="polling"&&(e.id=setTimeout(function(){J(e),A(),M()},e.timeout))}function J(e){o.closedByClientTimeout=!0,o.state="closedByClient",o.responseBody="",o.status=408,o.messages=[],kt()}function K(e,t){M(),clearTimeout(r.id),o.state="error",o.reasonPhrase=t,o.responseBody="",o.status=e,o.messages=[],kt()}function Q(e,t,n){e=V(t,e);if(e.length===0)return!0;n.responseBody=e;if(t.trackMessageLength){e=n.partialMessage+e;var r=[],i=e.indexOf(t.messageDelimiter);if(i!=-1){while(i!==-1){var s=e.substring(0,i),o=+s;if(isNaN(o))throw n.partialMessage="",new Error('message length "'+s+'" is not a number');i+=t.messageDelimiter.length,i+o>e.length?i=-1:(r.push(e.substring(i,i+o)),e=e.substring(i+o,e.length),i=e.indexOf(t.messageDelimiter))}return n.partialMessage=e,r.length!==0?(n.responseBody=r.join(t.messageDelimiter),n.messages=r,!1):(n.responseBody="",n.messages=[],!0)}}return n.responseBody=e,n.messages=[e],!1}function G(t){e.util.log(r.logLevel,[t]),typeof r.onTransportFailure!="undefined"?r.onTransportFailure(t,r):typeof e.util.onTransportFailure!="undefined"&&e.util.onTransportFailure(t,r);var n=r.connectTimeout===-1?0:r.connectTimeout;r.reconnect&&r.transport!=="none"||r.transport==null?(r.transport=r.fallbackTransport,r.method=r.fallbackMethod,o.transport=r.fallbackTransport,o.state="",r.fallbackTransport="none",n>0?r.reconnectId=setTimeout(function(){B()},n):B()):K(500,"Unable to reconnect with fallback transport")}function Y(t,n){var i=r;return t!=null&&typeof t!="undefined"&&(i=t),n==null&&(n=i.url),i.attachHeadersAsQueryString?n.indexOf("X-Atmosphere-Framework")!==-1?n:(n+=n.indexOf("?")!==-1?"&":"?",n+="X-Atmosphere-tracking-id="+i.uuid,n+="&X-Atmosphere-Framework="+e.version,n+="&X-Atmosphere-Transport="+i.transport,i.trackMessageLength&&(n+="&X-Atmosphere-TrackMessageSize=true"),i.heartbeat!==null&&i.heartbeat.server!==null&&(n+="&X-Heartbeat-Server="+i.heartbeat.server),i.contentType!==""&&(n+="&Content-Type="+(i.transport==="websocket"?i.contentType:encodeURIComponent(i.contentType))),i.enableProtocol&&(n+="&X-atmo-protocol=true"),e.util.each(i.headers,function(r,s){var u=e.util.isFunction(s)?s.call(this,i,t,o):s;u!=null&&(n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(u))}),n):n}function Z(e){if(!e.isOpen)e.isOpen=!0,I("opening",e.transport,e);else if(e.isReopen)e.isReopen=!1,I("re-opening",e.transport,e);else{if(o.state!=="messageReceived"||e.transport!=="jsonp"&&e.transport!=="long-polling")return;ot(o)}et(e)}function et(t){t.heartbeatTimer!=null&&clearTimeout(t.heartbeatTimer);if(!isNaN(d)&&d>0){var n=function(){C("debug")&&e.util.debug("Sending heartbeat"),ct(v),t.heartbeatTimer=setTimeout(n,d)};t.heartbeatTimer=setTimeout(n,d)}}function tt(t){var n=r;if(t!=null||typeof t!="undefined")n=t;n.lastIndex=0,n.readyState=0;if(n.transport==="jsonp"||n.enableXDR&&e.util.checkCORSSupport()){q(n);return}if(e.util.browser.msie&&+e.util.browser.version.split(".")[0]<10){if(n.transport==="streaming"){n.enableXDR&&window.XDomainRequest?ut(n):ft(n);return}if(n.enableXDR&&window.XDomainRequest){ut(n);return}}var i=function(e){n.lastIndex=0,p++;if(e||n.reconnect&&p<=n.maxReconnectOnClose){var r=e?0:t.reconnectInterval;o.ffTryingReconnect=!0,I("re-connecting",t.transport,t),it(a,n,r)}else K(0,"maxReconnectOnClose reached")},s=function(t){e._beforeUnloadState?(e.util.debug(new Date+" Atmosphere: reconnectF: execution delayed due to _beforeUnloadState flag"),setTimeout(function(){i(t)},5e3)):i(t)},u=function(){o.errorHandled=!0,M(),s(!1)};if(n.force||n.reconnect&&(n.maxRequest===-1||n.requestCount++<n.maxRequest)){n.force=!1;var a=e.util.xhr();a.hasData=!1,rt(a,n,!0),n.suspend&&(f=a),n.transport!=="polling"&&(o.transport=n.transport,a.onabort=function(){k("ajaxrequest.onabort"),Ct(!0)},a.onerror=function(){k("ajaxrequest.onerror"),o.error=!0,o.ffTryingReconnect=!0;try{o.status=XMLHttpRequest.status}catch(e){o.status=500}o.status||(o.status=500),o.errorHandled||(M(),s(!1))}),a.onreadystatechange=function(){k("ajaxRequest.onreadystatechange, new state: "+a.readyState);if(m){k("onreadystatechange has been ignored due to _abortingConnection flag");return}o.error=null;var i=!1,f=!1;if(n.transport==="streaming"&&n.readyState>2&&a.readyState===4){M(),s(!1);return}n.readyState=a.readyState,n.transport==="streaming"&&a.readyState>=3?f=!0:n.transport==="long-polling"&&a.readyState===4&&(f=!0),$(r);if(n.transport!=="polling"){var l=200;a.readyState===4&&(l=a.status>1e3?0:a.status);if(!n.reconnectOnServerError&&l>=300&&l<600){K(l,a.statusText);return}if(l>=300||l===0){u();return}(!n.enableProtocol||!t.firstMessage)&&a.readyState===2&&(e.util.browser.mozilla&&o.ffTryingReconnect?(o.ffTryingReconnect=!1,setTimeout(function(){o.ffTryingReconnect||Z(n)},500)):Z(n))}else a.readyState===4&&(f=!0);if(f){var c=a.responseText;o.errorHandled=!1;if(n.transport==="long-polling"&&e.util.trim(c).length===0){a.hasData?a.hasData=!1:s(!0);return}a.hasData=!0,xt(a,r);if(n.transport==="streaming")if(!e.util.browser.opera){var h=c.substring(n.lastIndex,c.length);i=Q(h,n,o),n.lastIndex=c.length;if(i)return}else e.util.iterate(function(){if(o.status!==500&&a.responseText.length>n.lastIndex){try{o.status=a.status,o.headers=e.util.parseHeaders(a.getAllResponseHeaders()),xt(a,r)}catch(t){o.status=404}$(r),o.state="messageReceived";var s=a.responseText.substring(n.lastIndex);n.lastIndex=a.responseText.length,i=Q(s,n,o),i||kt();if(L(a,n)){nt(a,n);return}}else if(o.status>400)return n.lastIndex=a.responseText.length,!1},0);else i=Q(c,n,o);var p=L(a,n);try{o.status=a.status,o.headers=e.util.parseHeaders(a.getAllResponseHeaders()),xt(a,n)}catch(d){o.status=404}n.suspend?o.state=o.status===0?"closed":"messageReceived":o.state="messagePublished";var v=!p&&t.transport!=="streaming"&&t.transport!=="polling";v&&!n.executeCallbackBeforeReconnect&&it(a,n,n.pollingInterval),o.responseBody.length!==0&&!i&&kt(),v&&n.executeCallbackBeforeReconnect&&it(a,n,n.pollingInterval),p&&nt(a,n)}};try{a.send(n.data),h=!0}catch(l){e.util.log(n.logLevel,["Unable to connect to "+n.url]),K(0,l)}}else n.logLevel==="debug"&&e.util.log(n.logLevel,["Max re-connection reached."]),K(0,"maxRequest reached")}function nt(e,t){o.messages=[],t.isReopen=!0,O(),m=!1,it(e,t,500)}function rt(t,n,i){var s=n.url;n.dispatchUrl!=null&&n.method==="POST"&&(s+=n.dispatchUrl),s=Y(n,s),s=e.util.prepareURL(s),i&&(t.open(n.method,s,n.async),n.connectTimeout>0&&(n.id=setTimeout(function(){n.requestCount===0&&(M(),St("Connect timeout","closed",200,n.transport))},n.connectTimeout))),r.withCredentials&&r.transport!=="websocket"&&"withCredentials"in t&&(t.withCredentials=!0),r.dropHeaders||(t.setRequestHeader("X-Atmosphere-Framework",e.version),t.setRequestHeader("X-Atmosphere-Transport",n.transport),n.heartbeat!==null&&n.heartbeat.server!==null&&t.setRequestHeader("X-Heartbeat-Server",t.heartbeat.server),n.trackMessageLength&&t.setRequestHeader("X-Atmosphere-TrackMessageSize","true"),t.setRequestHeader("X-Atmosphere-tracking-id",n.uuid),e.util.each(n.headers,function(r,s){var u=e.util.isFunction(s)?s.call(this,t,n,i,o):s;u!=null&&t.setRequestHeader(r,u)})),n.contentType!==""&&t.setRequestHeader("Content-Type",n.contentType)}function it(e,t,n){if(o.closedByClientTimeout)return;if(t.reconnect||t.suspend&&h){var i=0;e&&e.readyState>1&&(i=e.status>1e3?0:e.status),o.status=i===0?204:i,o.reason=i===0?"Server resumed the connection or down.":"OK",clearTimeout(t.id),t.reconnectId&&(clearTimeout(t.reconnectId),delete t.reconnectId),n>0?r.reconnectId=setTimeout(function(){tt(t)},n):tt(t)}}function st(e){e.state="re-connecting",Tt(e)}function ot(e){e.state="openAfterResume",Tt(e),e.state="messageReceived"}function ut(e){e.transport!=="polling"?(l=at(e),l.open()):at(e).open()}function at(t){var n=r;t!=null&&typeof t!="undefined"&&(n=t);var i=n.transport,s=0,u=new window.XDomainRequest,a=function(){n.transport==="long-polling"&&n.reconnect&&(n.maxRequest===-1||n.requestCount++<n.maxRequest)&&(u.status=200,ut(n))},f=n.rewriteURL||function(e){var t=/(?:^|;\s*)(JSESSIONID|PHPSESSID)=([^;]*)/.exec(document.cookie);switch(t&&t[1]){case"JSESSIONID":return e.replace(/;jsessionid=[^\?]*|(\?)|$/,";jsessionid="+t[2]+"$1");case"PHPSESSID":return e.replace(/\?PHPSESSID=[^&]*&?|\?|$/,"?PHPSESSID="+t[2]+"&").replace(/&$/,"")}return e};u.onprogress=function(){l(u)},u.onerror=function(){n.transport!=="polling"&&(M(),p++<n.maxReconnectOnClose?n.reconnectInterval>0?n.reconnectId=setTimeout(function(){I("re-connecting",t.transport,t),ut(n)},n.reconnectInterval):(I("re-connecting",t.transport,t),ut(n)):K(0,"maxReconnectOnClose reached"))},u.onload=function(){};var l=function(t){clearTimeout(n.id);var r=t.responseText;r=r.substring(s),s+=r.length;if(i!=="polling"){$(n);var u=Q(r,n,o);if(i==="long-polling"&&e.util.trim(r).length===0)return;n.executeCallbackBeforeReconnect&&a(),u||St(o.responseBody,"messageReceived",200,i),n.executeCallbackBeforeReconnect||a()}};return{open:function(){var e=n.url;n.dispatchUrl!=null&&(e+=n.dispatchUrl),e=Y(n,e),u.open(n.method,f(e)),n.method==="GET"?u.send():u.send(n.data),n.connectTimeout>0&&(n.id=setTimeout(function(){n.requestCount===0&&(M(),St("Connect timeout","closed",200,n.transport))},n.connectTimeout))},close:function(){u.abort()}}}function ft(e){l=lt(e),l.open()}function lt(t){var n=r;t!=null&&typeof t!="undefined"&&(n=t);var i,s=new window.ActiveXObject("htmlfile");s.open(),s.close();var u=n.url;return n.dispatchUrl!=null&&(u+=n.dispatchUrl),n.transport!=="polling"&&(o.transport=n.transport),{open:function(){var t=s.createElement("iframe");u=Y(n),n.data!==""&&(u+="&X-Atmosphere-Post-Body="+encodeURIComponent(n.data)),u=e.util.prepareURL(u),t.src=u,s.body.appendChild(t);var a=t.contentDocument||t.contentWindow.document;i=e.util.iterate(function(){try{if(!a.firstChild)return;var t=a.body?a.body.lastChild:a;t.omgThisIsBroken;var u=function(){var e=t.cloneNode(!0);e.appendChild(a.createTextNode("."));var n=e.innerText;return n=n.substring(0,n.length-1),n};if(!a.body||!a.body.firstChild||a.body.firstChild.nodeName.toLowerCase()!=="pre"){var f=a.head||a.getElementsByTagName("head")[0]||a.documentElement||a,l=a.createElement("script");l.text="document.write('<plaintext>')",f.insertBefore(l,f.firstChild),f.removeChild(l),t=a.body.lastChild}return n.closed&&(n.isReopen=!0),i=e.util.iterate(function(){var e=u();if(e.length>n.lastIndex){$(r),o.status=200,o.error=null,t.innerText="";var i=Q(e,n,o);if(i)return"";St(o.responseBody,"messageReceived",200,n.transport)}n.lastIndex=0;if(a.readyState==="complete")return Ct(!0),I("re-connecting",n.transport,n),n.reconnectInterval>0?n.reconnectId=setTimeout(function(){ft(n)},n.reconnectInterval):ft(n),!1},null),!1}catch(c){return o.error=!0,I("re-connecting",n.transport,n),p++<n.maxReconnectOnClose?n.reconnectInterval>0?n.reconnectId=setTimeout(function(){ft(n)},n.reconnectInterval):ft(n):K(0,"maxReconnectOnClose reached"),s.execCommand("Stop"),s.close(),!1}})},close:function(){i&&i(),s.execCommand("Stop"),Ct(!0)}}}function ct(t){b!=null?pt(t):f!=null||a!=null?vt(t):l!=null?mt(t):c!=null?gt(t):u!=null?wt(t):(K(0,"No suspended connection available"),e.util.error("No suspended connection available. Make sure atmosphere.subscribe has been called and request.onOpen invoked before trying to push data"))}function ht(e,t){t||(t=bt(e)),t.transport="polling",t.method="GET",t.withCredentials=!1,t.reconnect=!1,t.force=!0,t.suspend=!1,t.timeout=1e3,tt(t)}function pt(e){b.send(e)}function dt(t){if(t.length===0)return;try{b?b.localSend(t):y&&y.signal("localMessage",JSON.stringify({id:w,event:t}))}catch(n){e.util.error(n)}}function vt(e){var t=bt(e);tt(t)}function mt(t){if(r.enableXDR&&e.util.checkCORSSupport()){var n=bt(t);n.reconnect=!1,q(n)}else vt(t)}function gt(e){vt(e)}function yt(e){var t=e;return typeof t=="object"&&(t=e.data),t}function bt(t){var n=yt(t),i={connected:!1,timeout:6e4,method:"POST",url:r.url,contentType:r.contentType,headers:r.headers,reconnect:!0,callback:null,data:n,suspend:!1,maxRequest:-1,logLevel:"info",requestCount:0,withCredentials:r.withCredentials,async:r.async,transport:"polling",isOpen:!0,attachHeadersAsQueryString:!0,enableXDR:r.enableXDR,uuid:r.uuid,dispatchUrl:r.dispatchUrl,enableProtocol:!1,messageDelimiter:"|",trackMessageLength:r.trackMessageLength,maxReconnectOnClose:r.maxReconnectOnClose,heartbeatTimer:r.heartbeatTimer,heartbeat:r.heartbeat};return typeof t=="object"&&(i=e.util.extend(i,t)),i}function wt(t){var n=e.util.isBinary(t)?t:yt(t),i;try{r.dispatchUrl!=null?i=r.webSocketPathDelimiter+r.dispatchUrl+r.webSocketPathDelimiter+n:i=n;if(!u.canSendMessage){e.util.error("WebSocket not connected.");return}u.send(i)}catch(s){u.onclose=function(e){},M(),G("Websocket failed. Downgrading to "+r.fallbackTransport+" and resending "+t),vt(t)}}function Et(t){var n=JSON.parse(t);n.id!==w&&(typeof r.onLocalMessage!="undefined"?r.onLocalMessage(n.event):typeof e.util.onLocalMessage!="undefined"&&e.util.onLocalMessage(n.event))}function St(e,t,n,r){o.responseBody=e,o.transport=r,o.status=n,o.state=t,kt()}function xt(e,t){if(!t.readResponsesHeaders)t.enableProtocol||(t.uuid=w);else try{var n=e.getResponseHeader("X-Atmosphere-tracking-id");n&&n!=null&&(t.uuid=n.split(" ").pop())}catch(r){}}function Tt(t){Nt(t,r),Nt(t,e.util)}function Nt(e,t){switch(e.state){case"messageReceived":k("Firing onMessage"),p=0,typeof t.onMessage!="undefined"&&t.onMessage(e),typeof t.onmessage!="undefined"&&t.onmessage(e);break;case"error":var n=typeof e.reasonPhrase!="undefined"?e.reasonPhrase:"n/a";k("Firing onError, reasonPhrase: "+n),typeof t.onError!="undefined"&&t.onError(e),typeof t.onerror!="undefined"&&t.onerror(e);break;case"opening":delete r.closed,k("Firing onOpen"),typeof t.onOpen!="undefined"&&t.onOpen(e),typeof t.onopen!="undefined"&&t.onopen(e);break;case"messagePublished":k("Firing messagePublished"),typeof t.onMessagePublished!="undefined"&&t.onMessagePublished(e);break;case"re-connecting":k("Firing onReconnect"),typeof t.onReconnect!="undefined"&&t.onReconnect(r,e);break;case"closedByClient":k("Firing closedByClient"),typeof t.onClientTimeout!="undefined"&&t.onClientTimeout(r);break;case"re-opening":delete r.closed,k("Firing onReopen"),typeof t.onReopen!="undefined"&&t.onReopen(r,e);break;case"fail-to-reconnect":k("Firing onFailureToReconnect"),typeof t.onFailureToReconnect!="undefined"&&t.onFailureToReconnect(r,e);break;case"unsubscribe":case"closed":var i=typeof r.closed!="undefined"?r.closed:!1;i?k("Request already closed, not firing onClose ("+e.state+" case)"):(k("Firing onClose ("+e.state+" case)"),typeof t.onClose!="undefined"&&t.onClose(e),typeof t.onclose!="undefined"&&t.onclose(e)),r.closed=!0;break;case"openAfterResume":typeof t.onOpenAfterResume!="undefined"&&t.onOpenAfterResume(r)}}function Ct(e){o.state!=="closed"&&(o.state="closed",o.responseBody="",o.messages=[],o.status=e?200:501,kt())}function kt(){var t=function(e,t){t(o)};b==null&&g!=null&&g(o.responseBody),r.reconnect=r.mrequest;var n=typeof o.responseBody=="string",s=n&&r.trackMessageLength?o.messages.length>0?o.messages:[""]:new Array(o.responseBody);for(var u=0;u<s.length;u++){if(s.length>1&&s[u].length===0)continue;o.responseBody=n?e.util.trim(s[u]):s[u],b==null&&g!=null&&g(o.responseBody);if((o.responseBody.length===0||n&&v===o.responseBody)&&o.state==="messageReceived")continue;Tt(o);if(i.length>0){C("debug")&&e.util.debug("Invoking "+i.length+" global callbacks: "+o.state);try{e.util.each(i,t)}catch(a){e.util.log(r.logLevel,["Callback exception"+a])}}if(typeof r.callback=="function"){C("debug")&&e.util.debug("Invoking request callbacks");try{r.callback(o)}catch(a){e.util.log(r.logLevel,["Callback exception"+a])}}}}var r={timeout:3e5,method:"GET",headers:{},contentType:"",callback:null,url:"",data:"",suspend:!0,maxRequest:-1,reconnect:!0,maxStreamingLength:1e7,lastIndex:0,logLevel:"info",requestCount:0,fallbackMethod:"GET",fallbackTransport:"streaming",transport:"long-polling",webSocketImpl:null,webSocketBinaryType:null,dispatchUrl:null,webSocketPathDelimiter:"@@",enableXDR:!1,rewriteURL:!1,attachHeadersAsQueryString:!0,executeCallbackBeforeReconnect:!1,readyState:0,withCredentials:!1,trackMessageLength:!1,messageDelimiter:"|",connectTimeout:-1,reconnectInterval:0,dropHeaders:!0,uuid:0,async:!0,shared:!1,readResponsesHeaders:!1,maxReconnectOnClose:5,enableProtocol:!0,disableDisconnect:!1,pollingInterval:0,heartbeat:{client:null,server:null},ackInterval:0,closeAsync:!1,reconnectOnServerError:!0,handleOnlineOffline:!0,maxWebsocketErrorRetries:1,curWebsocketErrorRetries:0,onError:function(e){},onClose:function(e){},onOpen:function(e){},onMessage:function(e){},onReopen:function(e,t){},onReconnect:function(e,t){},onMessagePublished:function(e){},onTransportFailure:function(e,t){},onLocalMessage:function(e){},onFailureToReconnect:function(e,t){},onClientTimeout:function(e){},onOpenAfterResume:function(e){}},o={status:200,reasonPhrase:"OK",responseBody:"",messages:[],headers:[],state:"messageReceived",transport:"polling",error:null,request:null,partialMessage:"",errorHandled:!1,closedByClientTimeout:!1,ffTryingReconnect:!1},u=null,a=null,f=null,l=null,c=null,h=!0,p=0,d=0,v="X",m=!1,g=null,y,b=null,w=e.util.now(),E,S,x=!1;D(t),this.subscribe=function(e){D(e),B()},this.execute=function(){B()},this.close=function(){O()},this.disconnect=function(){A()},this.getUrl=function(){return r.url},this.push=function(e,t){if(t!=null){var n=r.dispatchUrl;r.dispatchUrl=t,ct(e),r.dispatchUrl=n}else ct(e)},this.getUUID=function(){return r.uuid},this.pushLocal=function(e){dt(e)},this.enableProtocol=function(e){return r.enableProtocol},this.init=function(){T()},this.request=r,this.response=o}},e.subscribe=function(t,n,i){typeof n=="function"&&e.addCallback(n),typeof t!="string"?i=t:i.url=t,s=typeof i!="undefined"&&typeof i.uuid!="undefined"?i.uuid:0;var o=new e.AtmosphereRequest(i);return o.execute(),r[r.length]=o,o},e.unsubscribe=function(){if(r.length>0){var e=[].concat(r);for(var t=0;t<e.length;t++){var n=e[t];n.close(),clearTimeout(n.response.request.id),n.heartbeatTimer&&clearTimeout(n.heartbeatTimer)}}r=[],i=[]},e.unsubscribeUrl=function(e){var t=-1;if(r.length>0)for(var n=0;n<r.length;n++){var i=r[n];if(i.getUrl()===e){i.close(),clearTimeout(i.response.request.id),i.heartbeatTimer&&clearTimeout(i.heartbeatTimer),t=n;break}}t>=0&&r.splice(t,1)},e.addCallback=function(t){e.util.inArray(t,i)===-1&&i.push(t)},e.removeCallback=function(t){var n=e.util.inArray(t,i);n!==-1&&i.splice(n,1)},e.util={browser:{},parseHeaders:function(e){var t,n=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,r={};while(t=n.exec(e))r[t[1]]=t[2];return r},now:function(){return(new Date).getTime()},isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},inArray:function(e,t){if(!Array.prototype.indexOf){var n=t.length;for(var r=0;r<n;++r)if(t[r]===e)return r;return-1}return t.indexOf(e)},isBinary:function(e){return/^\[object\s(?:Blob|ArrayBuffer|.+Array)\]$/.test(Object.prototype.toString.call(e))},isFunction:function(e){return Object.prototype.toString.call(e)==="[object Function]"},getAbsoluteURL:function(e){if(typeof document.createElement=="undefined")return e;var t=document.createElement("div");return t.innerHTML='<a href="'+e+'"/>',encodeURI(decodeURI(t.firstChild.href))},prepareURL:function(t){var n=e.util.now(),r=t.replace(/([?&])_=[^&]*/,"$1_="+n);return r+(r===t?(/\?/.test(t)?"&":"?")+"_="+n:"")},trim:function(e){return String.prototype.trim?e.toString().trim():e.toString().replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")},param:function(t){function i(t,n){n=e.util.isFunction(n)?n():n==null?"":n,r.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}function s(t,n){var r;if(e.util.isArray(n))e.util.each(n,function(e,n){/\[\]$/.test(t)?i(t,n):s(t+"["+(typeof n=="object"?e:"")+"]",n)});else if(Object.prototype.toString.call(n)==="[object Object]")for(r in n)s(t+"["+r+"]",n[r]);else i(t,n)}var n,r=[];for(n in t)s(n,t[n]);return r.join("&").replace(/%20/g,"+")},storage:function(){try{return!!window.localStorage&&!!window.StorageEvent}catch(e){return!1}},iterate:function(e,t){var n;return t=t||0,function r(){n=setTimeout(function(){if(e()===!1)return;r()},t)}(),function(){clearTimeout(n)}},each:function(t,n,r){if(!t)return;var i,s=0,o=t.length,u=e.util.isArray(t);if(r)if(u)for(;s<o;s++){i=n.apply(t[s],r);if(i===!1)break}else for(s in t){i=n.apply(t[s],r);if(i===!1)break}else if(u)for(;s<o;s++){i=n.call(t[s],s,t[s]);if(i===!1)break}else for(s in t){i=n.call(t[s],s,t[s]);if(i===!1)break}return t},extend:function(e){var t,n,r;for(t=1;t<arguments.length;t++)if((n=arguments[t])!=null)for(r in n)e[r]=n[r];return e},on:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},off:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},log:function(e,t){if(window.console){var n=window.console[e];typeof n=="function"&&n.apply(window.console,t)}},warn:function(){e.util.log("warn",arguments)},info:function(){e.util.log("info",arguments)},debug:function(){e.util.log("debug",arguments)},error:function(){e.util.log("error",arguments)},xhr:function(){try{return new window.XMLHttpRequest}catch(e){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}},checkCORSSupport:function(){if(e.util.browser.msie&&!window.XDomainRequest&&+e.util.browser.version.split(".")[0]<11)return!0;if(e.util.browser.opera&&+e.util.browser.version.split(".")<12)return!0;if(e.util.trim(navigator.userAgent).slice(0,16)==="KreaTVWebKit/531")return!0;if(e.util.trim(navigator.userAgent).slice(-7).toLowerCase()==="kreatel")return!0;var t=navigator.userAgent.toLowerCase(),n=t.match(/.+android ([0-9]{1,2})/i),r=parseInt(n&&n[0]||-1,10);return!isNaN(r)&&r>-1&&r<3?!0:!1}},t=e.util.now(),function(){var t=navigator.userAgent.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(t)||t.indexOf("android")<0&&/version\/(.+) (safari)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];n[2]==="safari"&&(n[2]=n[1],n[1]="safari"),e.util.browser[n[1]||""]=!0,e.util.browser.version=n[2]||"0",e.util.browser.vmajor=e.util.browser.version.split(".")[0],e.util.browser.trident&&(e.util.browser.msie=!0);if(e.util.browser.msie||e.util.browser.mozilla&&+e.util.browser.version.split(".")[0]===1)e.util.storage=!1}(),e.callbacks={unload:function(){e.util.debug(new Date+" Atmosphere: "+"unload event"),e.unsubscribe()},beforeUnload:function(){e.util.debug(new Date+" Atmosphere: "+"beforeunload event"),e._beforeUnloadState=!0,setTimeout(function(){e.util.debug(new Date+" Atmosphere: "+"beforeunload event timeout reached. Reset _beforeUnloadState flag"),e._beforeUnloadState=!1},5e3)},offline:function(){e.util.debug(new Date+" Atmosphere: offline event"),n=!0;if(r.length>0){var t=[].concat(r);for(var i=0;i<t.length;i++){var s=t[i];s.request.handleOnlineOffline&&(s.close(),clearTimeout(s.response.request.id),s.heartbeatTimer&&clearTimeout(s.heartbeatTimer))}}},online:function(){e.util.debug(new Date+" Atmosphere: online event");if(r.length>0)for(var t=0;t<r.length;t++)r[t].request.handleOnlineOffline&&(r[t].init(),r[t].execute());n=!1}},e.bindEvents=function(){e.util.on(window,"unload",e.callbacks.unload),e.util.on(window,"beforeunload",e.callbacks.beforeUnload),e.util.on(window,"offline",e.callbacks.offline),e.util.on(window,"online",e.callbacks.online)},e.unbindEvents=function(){e.util.off(window,"unload",e.callbacks.unload),e.util.off(window,"beforeunload",e.callbacks.beforeUnload),e.util.off(window,"offline",e.callbacks.offline),e.util.off(window,"online",e.callbacks.online)},e.bindEvents(),e}),webswingRequirejs.define("text!webswing.proto",[],function(){return'syntax = "proto2";\npackage org.webswing.server.model.proto;\n/* ===================SERVER -> BROWSER====================*/\n\nmessage AppFrameMsgOutProto {\n    repeated ApplicationInfoMsgProto applications = 1;\n    optional LinkActionMsgProto linkAction = 2;\n    optional WindowMoveActionMsgProto moveAction = 3;\n    optional CursorChangeEventMsgProto cursorChange = 4;\n    optional CopyEventMsgProto copyEvent = 5;\n    optional PasteRequestMsgProto pasteRequest = 6;\n    optional FileDialogEventMsgProto fileDialogEvent = 7;\n    repeated WindowMsgProto windows = 8;\n    optional WindowMsgProto closedWindow = 9;\n    optional SimpleEventMsgOutProto event = 10;\n    optional JsEvalRequestMsgOutProto jsRequest = 11;\n    optional JsResultMsgProto javaResponse = 12;\n    optional PixelsAreaRequestMsgOutProto pixelsRequest = 13;\n    optional PlaybackInfoMsgProto playback = 14;\n    optional string sessionId = 15;\n    optional string startTimestamp = 16;\n    optional string sendTimestamp = 17;\n    optional FocusEventMsgProto focusEvent = 18;\n}\n\nmessage FocusEventMsgProto {\n    required FocusEventTypeProto type = 1;\n    optional sint32 x = 2;\n    optional sint32 y = 3;\n    optional uint32 w = 4;\n    optional uint32 h = 5;\n    optional sint32 caretX = 6;\n    optional sint32 caretY = 7;\n\n    enum FocusEventTypeProto {\n        focusLost = 1;\n        focusGained = 2;\n        focusWithCarretGained = 3;\n    }\n}\n\nmessage ApplicationInfoMsgProto {\n    required string name = 1;\n    optional bytes base64Icon = 2;\n    optional string url = 3;\n}\n\nmessage LinkActionMsgProto {\n    required LinkActionTypeProto action = 1;\n    required string src = 2;\n\n    enum LinkActionTypeProto {\n        file = 0;\n        url = 1;\n        print = 2;\n        redirect = 3;\n    }\n}\n\nmessage WindowMoveActionMsgProto {\n    optional sint32 sx = 1;\n    optional sint32 sy = 2;\n    optional sint32 dx = 3;\n    optional sint32 dy = 4;\n    optional uint32 width = 5;\n    optional uint32 height = 6;\n}\n\nmessage CursorChangeEventMsgProto {\n    required string cursor = 1;\n    optional bytes b64img = 2;\n    optional sint32 x = 3;\n    optional sint32 y = 4;\n    optional string curFile = 5;\n}\n\nmessage CopyEventMsgProto {\n    optional string text = 1;\n    optional string html = 2;\n    optional bytes img = 3;\n    repeated string files = 4;\n    optional bool other = 5;\n}\n\nmessage PasteRequestMsgProto {\n    optional string title = 1;\n    optional string message = 2;\n}\n\nmessage FileDialogEventMsgProto {\n    required FileDialogEventTypeProto eventType = 1;\n    optional bool allowDownload = 2;\n    optional bool allowUpload = 3;\n    optional bool allowDelete = 4;\n    optional string filter = 5;\n    optional bool isMultiSelection = 6;\n    optional string selection = 7;\n\n    enum FileDialogEventTypeProto {\n        Open = 0;\n        Close = 1;\n        AutoUpload = 2;\n        AutoSave = 3;\n    }\n}\n\nmessage WindowMsgProto {\n    required string id = 1;\n    repeated WindowPartialContentMsgProto content = 2;\n    optional bytes directDraw = 3;\n    optional string title = 4;\n    optional sint32 posX = 5;\n    optional sint32 posY = 6;\n    optional uint32 width = 7;\n    optional uint32 height = 8;\n}\n\nmessage WindowPartialContentMsgProto {\n    optional sint32 positionX = 1;\n    optional sint32 positionY = 2;\n    optional uint32 width = 3;\n    optional uint32 height = 4;\n    optional bytes base64Content = 5;\n}\n\nenum SimpleEventMsgOutProto {\n    applicationAlreadyRunning = 0;\n    shutDownNotification = 1;\n    tooManyClientsNotification = 2;\n    continueOldSession = 3;\n    configurationError = 4;\n    sessionStolenNotification = 5;\n    unauthorizedAccess = 6;\n    shutDownAutoLogoutNotification = 7;\n    sessionTimeoutWarning = 8;\n    sessionTimedOutNotification = 9;\n    applicationBusy = 10;\n}\n\nmessage JsEvalRequestMsgOutProto {\n    optional string correlationId = 1;\n    optional string thisObjectId = 2;\n    optional JsEvalRequestTypeProto type = 3;\n    optional string evalString = 4;\n    repeated JsParamMsgProto params = 5;\n    repeated string garbageIds = 6;\n\n    enum JsEvalRequestTypeProto {\n        eval = 0;\n        call = 1;\n        setMember = 2;\n        getMember = 3;\n        deleteMember = 4;\n        setSlot = 5;\n        getSlot = 6;\n    }\n}\n\n\nmessage JsParamMsgProto {\n    optional string primitive = 1;\n    optional JSObjectMsgProto jsObject = 2;\n    optional JavaObjectRefMsgProto javaObject = 3;\n    repeated JsParamMsgProto array = 4;\n}\n\nmessage JSObjectMsgProto {\n    optional string id = 1;\n}\n\nmessage JavaObjectRefMsgProto {\n    optional string id = 1;\n    repeated string methods = 2;\n}\n\nmessage JsResultMsgProto {\n    optional string correlationId = 1;\n    optional string error = 2;\n    optional JsParamMsgProto value = 3;\n}\n\nmessage PlaybackInfoMsgProto {\n    optional uint32 current = 1;\n    optional uint32 total = 2;\n}\n\nmessage PixelsAreaRequestMsgOutProto {\n    optional string correlationId = 1;\n    optional uint32 x = 2;\n    optional uint32 y = 3;\n    optional uint32 w = 4;\n    optional uint32 h = 5;\n}\n\n/* ===================BROWSER -> SERVER====================*/\nmessage InputEventsFrameMsgInProto {\n    repeated InputEventMsgInProto events = 1;\n    optional PasteEventMsgInProto paste = 2;\n    optional CopyEventMsgInProto copy = 3;\n    optional UploadEventMsgInProto upload = 4;\n    optional FilesSelectedEventMsgInProto selected = 5;\n    optional JsResultMsgProto jsResponse = 6;\n    optional JavaEvalRequestMsgInProto javaRequest = 7;\n    optional PlaybackCommandMsgInProto playback = 8;\n    optional PixelsAreaResponseMsgInProto pixelsResponse = 9;\n}\n\nmessage InputEventMsgInProto {\n    optional ConnectionHandshakeMsgInProto handshake = 1;\n    optional KeyboardEventMsgInProto key = 2;\n    optional MouseEventMsgInProto mouse = 3;\n    optional SimpleEventMsgInProto event = 4;\n    optional TimestampsMsgInProto timestamps = 5;\n}\n\nmessage TimestampsMsgInProto {\n    optional string startTimestamp = 1;\n    optional string sendTimestamp = 2;\n    optional string renderingTime = 3;\n    optional uint32 ping = 4;\n}\n\nmessage ConnectionHandshakeMsgInProto {\n    optional string clientId = 1;\n    optional string connectionId = 2;\n    optional string viewId = 3;\n    optional string browserId = 13;\n    optional uint32 desktopWidth = 4;\n    optional uint32 desktopHeight = 5;\n    optional string applicationName = 6;\n    optional bool mirrored = 7;\n    optional bool directDrawSupported = 8;\n    optional string documentBase = 9;\n    repeated ParamMsgProto params = 10;\n    optional string locale = 11;\n    optional string url = 12;\n    optional string timeZone = 14;\n}\n\nmessage ParamMsgProto {\n    optional string name = 1;\n    optional string value = 2;\n}\n\nmessage KeyboardEventMsgInProto {\n    optional KeyEventTypeProto type = 1;\n    optional sint32 character = 2;\n    optional sint32 keycode = 3;\n    optional bool alt = 4;\n    optional bool ctrl = 5;\n    optional bool shift = 6;\n    optional bool meta = 7;\n\n    enum KeyEventTypeProto {\n        keypress = 0;\n        keydown = 1;\n        keyup = 2;\n    }\n}\n\nmessage MouseEventMsgInProto {\n    optional MouseEventTypeProto type = 1;\n    optional sint32 x = 2;\n    optional sint32 y = 3;\n    optional sint32 wheelDelta = 4;\n    optional sint32 button = 5;\n    optional bool ctrl = 6;\n    optional bool alt = 7;\n    optional bool shift = 8;\n    optional bool meta = 9;\n    optional sint32 buttons = 10;\n    optional sint32 timeMilis = 11;\n\n    enum MouseEventTypeProto {\n        mousemove = 0;\n        mousedown = 1;\n        mouseup = 2;\n        mousewheel = 3;\n        dblclick = 4;\n    }\n}\n\nmessage CopyEventMsgInProto {\n    optional CopyEventMsgTypeProto type = 1;\n    optional string file = 2;\n    enum CopyEventMsgTypeProto {\n        copy = 0;\n        cut = 1;\n        getFileFromClipboard = 2;\n    }\n}\n\nmessage PasteEventMsgInProto {\n    optional string text = 1;\n    optional string html = 2;\n    optional string img = 3;\n    optional bool special = 4;\n}\n\nmessage SimpleEventMsgInProto {\n    optional SimpleEventTypeProto type = 1;\n\n    enum SimpleEventTypeProto {\n        unload = 0;\n        killSwing = 1;\n        paintAck = 2;\n        repaint = 3;\n        downloadFile = 4;\n        deleteFile = 5;\n        hb = 6;\n        cancelFileSelection = 7;\n    }\n}\n\nmessage FilesSelectedEventMsgInProto {\n    repeated string files = 1;\n}\n\nmessage UploadEventMsgInProto {\n    optional string fileName = 2;\n    optional string tempFileLocation = 3;\n}\n\nmessage JavaEvalRequestMsgInProto {\n    optional string correlationId = 1;\n    optional string objectId = 2;\n    optional string method = 3;\n    repeated JsParamMsgProto params = 4;\n}\n\nmessage PlaybackCommandMsgInProto {\n    optional PlaybackCommandProto command = 1;\n\n    enum PlaybackCommandProto {\n        reset = 0;\n        play = 1;\n        stop = 2;\n        step = 3;\n        step10 = 4;\n        step100 = 5;\n    }\n}\n\nmessage PixelsAreaResponseMsgInProto {\n    optional string correlationId = 1;\n    optional string pixels = 2;\n}\n'}),webswingRequirejs.define("webswing-socket",["atmosphere","ProtoBuf","jquery","text!webswing.proto"],function(t,n,r,i){var s=n.loadProto(i,"webswing.proto"),o=s.build("org.webswing.server.model.proto.InputEventsFrameMsgInProto"),u=s.build("org.webswing.server.model.proto.AppFrameMsgOutProto");return function(){function c(){var e={url:i.cfg.connectionUrl+"async/swing",contentType:"application/json",transport:"websocket",trackMessageLength:!0,reconnectInterval:5e3,fallbackTransport:"long-polling",enableXDR:!0,headers:{}};f&&(e.url=e.url+"-bin",e.headers["X-Atmosphere-Binary"]=!0,e.enableProtocol=!1,e.trackMessageLength=!1,e.contentType="application/octet-stream",e.webSocketBinaryType="arraybuffer"),i.cfg.recordingPlayback&&(e.url=i.cfg.connectionUrl+"async/swing-play",e.headers.file=i.cfg.recordingPlayback),i.cfg.args!=null&&(e.headers["X-webswing-args"]=i.cfg.args),i.cfg.recording!=null&&(e.headers["X-webswing-recording"]=i.cfg.recording),i.cfg.debugPort!=null&&(e.headers["X-webswing-debugPort"]=i.cfg.debugPort),e.onOpen=function(e){e.transport!=="websocket"&&(f?(console.error("Webswing: Binary encoding not supported for "+e.transport+" transport. Falling back to json encoding."),i.cfg.binarySocket=!1,f=!1,p(),c()):i.showBar(i.longPollingWarningDialog))},e.onReopen=function(e){i.hideDialog()},e.onMessage=function(e){var t=(new Date).getTime();try{var n=h(e);n.sessionId!=null&&(a=n.sessionId);if(n.javaResponse!=null&&n.javaResponse.correlationId!=null){var r=n.javaResponse.correlationId;if(l[r]!=null){var s=l[r];delete l[r],s(n.javaResponse)}}n.receivedTimestamp=t,i.processMessage(n)}catch(o){console.error(o.stack);return}},e.onClose=function(e){i.currentDialog()!==i.stoppedDialog&&i.currentDialog()!==i.timedoutDialog&&i.showDialog(i.disconnectedDialog)},e.onError=function(e){i.showDialog(i.connectionErrorDialog)},r.ajax({xhrFields:{withCredentials:!0},type:"GET",url:i.cfg.connectionUrl+"rest/CSRFToken",success:function(n){e.headers["X-webswing-CSRFToken"]=n,s=t.subscribe(e)},error:function(e){i.showDialog(i.connectionErrorDialog),console.error("CSRF Token validation failed.")}})}function h(e){var t=e.responseBody,n;if(f){if(t.byteLength===1)return{};n=u.decode(t),g(n)}else n=JSON.parse(t);return n}function p(){t.unsubscribe(s),s=null,a=null}function d(e){if(s!=null)if(s.request.isOpen&&!s.request.closed)if(typeof e=="object")if(f){var t=new o(e);s.push(t.encode().toArrayBuffer())}else s.push(JSON.stringify(e));else console.log("message is not an object "+e);else i.showDialog(i.disconnectedDialog)}function v(e,t,n,r){d(t),l[n]=e,setTimeout(function(){l[n]!=null&&(delete l[n],e(new Error("Java call timed out after "+r+" ms.")))},r)}function m(){return a}function g(e){e!=null&&(Array.isArray(e)?e.forEach(function(e){g(e)}):e.$type._fields.forEach(function(t){if(t.resolvedType!=null)if(t.resolvedType.className==="Enum"){var n=t.resolvedType.object;for(var r in n)n[r]===e[t.name]&&(e[t.name]=r)}else t.resolvedType.className==="Message"&&g(e[t.name])}))}var n=this,i;n.injects=i={cfg:"webswing.config",processMessage:"base.processMessage",showDialog:"dialog.show",showBar:"dialog.showBar",hideDialog:"dialog.hide",currentDialog:"dialog.current",stoppedDialog:"dialog.content.stoppedDialog",disconnectedDialog:"dialog.content.disconnectedDialog",timedoutDialog:"dialog.content.timedoutDialog",connectionErrorDialog:"dialog.content.connectionErrorDialog",initializingDialog:"dialog.content.initializingDialog",longPollingWarningDialog:"dialog.content.longPollingWarningDialog"},n.provides={connect:c,send:d,uuid:m,awaitResponse:v,dispose:p},n.ready=function(){f=i.cfg.typedArraysSupported&&i.cfg.binarySocket};var s,a,f,l={}}}),webswingRequirejs.define("text!templates/upload.html",[],function(){return'<div data-id="autoSaveBar" class="ws-modal-container" >\n	<div class="ws-files">\n		<div class="ws-files-header">\n			<h2 class="ws-files-title">${files.saveTitle}</h2>\n		</div>\n\n		<div class="ws-files-content">\n			<div class="ws-files-content-inner">\n				<p class="ws-files-instructions">\n					${files.saveName}\n				</p>\n				<input data-id="autoSaveInput" class="ws-form-field ws-form-underscore" placeholder="${files.saveNamePh}" type="text">\n				\n				<div data-id="fileDialogErrorMessage" >\n					<div data-id="fileDialogErrorMessageContent" class="ws-message ws-message--error"></div>\n				</div>\n			</div>\n\n			<ul class="ws-files-btn-container">\n				<li class="ws-files-btn-panel">\n					<button data-id="autoSaveButton" class="ws-files-btn">\n						<span class="ws-icon-download-cloud ws-files-btn-icon"></span>\n						<span>${files.save}</span>\n					</button>\n				</li>\n\n				<li class="ws-files-btn-panel">\n					<button data-id="cancelAutoSaveButton" class="ws-files-btn">\n						<span class="ws-icon-cancel-circled ws-files-btn-icon"></span>\n						<span>${files.cancel}</span>\n					</button>\n				</li>\n			</ul>\n		</div>\n	</div>\n</div>\n\n<div data-id="autoUploadBar" class="ws-modal-container">\n	<div  class="ws-files">\n		<div class="ws-files-header">\n			<h2 class="ws-files-title">${files.openTitle}</h2>\n		</div>\n\n		<div class="ws-files-content">\n			<div class="ws-files-content-inner">\n				<p class="ws-files-instructions">\n					${files.openInst}\n				</p>\n\n				<div data-id="fileDialogTransferProgressBar" class="ws-progressbar-container">\n					<div data-id="progress" class="ws-progress">\n						<div style="width: 0%;" class="ws-progress-bar">\n							<span class="ws-progress-text">${files.progress} <em>0%</em></span>\n						</div>\n					</div>\n				</div>\n\n				<div data-id="fileDialogErrorMessage" >\n					<div data-id="fileDialogErrorMessageContent" class="ws-message ws-message--error"></div>\n				</div>\n			</div>\n\n			<ul class="ws-files-btn-container">\n				<li class="ws-files-btn-panel">\n					<form data-id="autoFileupload" >\n						<input data-id="autoUploadfileDialogTransferBarClientId" name="uuid" type="hidden">\n\n						<input data-id="autoFileInput" id="webswingUploadBrowse" name="files[]" accept="" type="file" class="ws-files-btn--hidden"/>\n\n						<label for="webswingUploadBrowse" class="ws-files-btn">\n							<span class="ws-icon-upload-cloud ws-files-btn-icon"></span>\n							<span>${files.openBrowse}</span>\n						</label>\n					</form>\n				</li>\n\n				<li class="ws-files-btn-panel">\n					<button data-id="cancelAutoUploadButton" class="ws-files-btn">\n						<span class="ws-icon-cancel-circled ws-files-btn-icon"></span>\n						<span>${files.cancel}</span>\n					</button>\n				</li>\n			</ul>\n		</div>\n	</div>\n</div>\n\n<div data-id="uploadBar" class="ws-filebar">\n	<div data-id="fileDropArea" class="ws-filebar-dropArea">\n		<p class="ws-filebar-dropArea-label">${files.dnd}</p>\n	</div>\n	<div data-id="fileDialogTransferProgressBar" class="ws-progressbar-container">\n		<div data-id="progress" class="ws-progress">\n			<div style="width: 0%;" class="ws-progress-bar">\n				<span class="ws-progress-text">${files.progress} <em>0%</em></span>\n			</div>\n		</div>\n	</div>\n	<div data-id="fileDialogErrorMessage" >\n		<div data-id="fileDialogErrorMessageContent" class="ws-message ws-message--error"></div>\n	</div>\n	\n	<div class="ws-toolbar-container">\n		<div data-id="fileActionButtonGroup" class="ws-btn-group">\n			<button data-id="downloadSelectedButton" class="ws-btn ws-btn--xs ws-icon-download-cloud" title="${files.downloadTtip}"> ${files.download}</button>\n			<div data-id="fileUploadBtn" class="ws-btn ws-btn--xs ws-filebar-upload ">\n				<form data-id="fileupload">\n					<input data-id="fileDialogTransferBarClientId" name="uuid" type="hidden">\n					<div>\n						<span><span class="ws-icon-upload-cloud"> </span>${files.upload}</span>\n						<input accept="" data-id="fileInput" name="files[]" class="ws-filebar-inputupload" type="file">\n					</div>\n				</form>\n			</div>\n			<button data-id="deleteSelectedButton" class="ws-btn ws-btn--xs ws-icon-trash-empty" title="${files.deleteTtip}"> ${files.delete}</button>\n		</div>\n		<button data-id="cancelBtn" class="ws-btn ws-btn--xs ws-right ws-icon-cancel-circled"> ${files.cancel}</button>\n	</div>\n</div>'}),function(e){typeof webswingRequirejs.define=="function"&&webswingRequirejs.define.amd?webswingRequirejs.define("jquery.iframe-transport",["jquery"],e):e(window.jQuery)}(function(e){var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var r=n.initialIframeSrc||"javascript:false;",i,s,o;return{send:function(u,a){i=e('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?",n.type==="DELETE"?(n.url=n.url+o+"_method=DELETE",n.type="POST"):n.type==="PUT"?(n.url=n.url+o+"_method=PUT",n.type="POST"):n.type==="PATCH"&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),t+=1,s=e('<iframe src="'+r+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];s.unbind("load").bind("load",function(){var t;try{t=s.contents();if(!t.length||!t[0].firstChild)throw new Error}catch(n){t=undefined}a(200,"success",{iframe:t}),e('<iframe src="'+r+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",s.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&n.type==="POST"&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),t&&t.length&&n.fileInput.each(function(n,r){var i=e(t[n]);e(r).prop("name",i.prop("name")).attr("form",i.attr("form")),i.replaceWith(r)})}),i.append(s).appendTo(document.body)},abort:function(){s&&s.unbind("load").prop("src",r),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(e){typeof webswingRequirejs.define=="function"&&webswingRequirejs.define.amd?webswingRequirejs.define("jquery.ui.widget",["jquery"],e):e(jQuery)}(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=i,s=r.apply(this,arguments),this._super=t,this._superApply=n,s}}()}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix||t:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(arguments.length===1)return o[n]===t?null:o[n];o[n]=r}else{if(arguments.length===1)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})}),function(e){typeof webswingRequirejs.define=="function"&&webswingRequirejs.define.amd?webswingRequirejs.define("jquery.fileupload",["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))")).test(window.navigator.userAgent)&&!e('<input type="file">').prop("disabled"),e.support.xhrFileUpload=!!window.ProgressEvent&&!!window.FileReader,e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){if(t.isDefaultPrevented())return!1;(n.autoUpload||n.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;if(!this.bitrate||!n||r>n)this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e;return this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return e.type(t.formData)==="function"?t.formData(t.form):e.isArray(t.formData)?t.formData:e.type(t.formData)==="object"?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var r=Date.now?Date.now():(new Date).getTime(),i;if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=r,i=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,n._onProgress(e,t)}),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n=this,r,i=t.files[0],s=t.multipart||!e.support.xhrFileUpload,o=e.type(t.paramName)==="array"?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange);if(!s||t.blob||!this._isInstanceOf("File",i))t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"';s?e.support.xhrFormDataFileUpload&&(t.postMessage?(r=this._getFormData(t),t.blob?r.push({name:o,value:t.blob}):e.each(t.files,function(n,i){r.push({name:e.type(t.paramName)==="array"&&t.paramName[n]||o,value:i})})):(n._isInstanceOf("FormData",t.formData)?r=t.formData:(r=new FormData,e.each(this._getFormData(t),function(e,t){r.append(t.name,t.value)})),t.blob?r.append(o,t.blob,i.name):e.each(t.files,function(i,s){(n._isInstanceOf("File",s)||n._isInstanceOf("Blob",s))&&r.append(e.type(t.paramName)==="array"&&t.paramName[i]||o,s,s.uploadName||s.name)})),t.data=r):(t.contentType=i.type||"application/octet-stream",t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],n.each(function(){var t=e(this),n=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;while(i)r.push(n),i-=1}),r.length||(r=[n.prop("name")||"files[]"])),r},_initFormSettings:function(t){if(!t.form||!t.form.length)t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")));t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||e.type(t.form.prop("method"))==="string"&&t.form.prop("method")||"").toUpperCase(),t.type!=="POST"&&t.type!=="PUT"&&t.type!=="PATCH"&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,r){var i=e.Deferred(),s=i.promise();return n=n||this.options.context||s,t===!0?i.resolveWith(n,r):t===!1&&i.rejectWith(n,r),s.abort=i.promise,this._enhancePromise(s)},_addConvenienceMethods:function(t,n){var r=this,i=function(t){return e.Deferred().resolveWith(r,t).promise()};n.process=function(t,s){if(t||s)n._processQueue=this._processQueue=(this._processQueue||i([this])).pipe(function(){return n.errorThrown?e.Deferred().rejectWith(r,[n]).promise():i(arguments)}).pipe(t,s);return this._processQueue||i([this])},n.submit=function(){return this.state()!=="pending"&&(n.jqXHR=this.jqXHR=r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){if(this.jqXHR)return r._getDeferredState(this.jqXHR);if(this._processQueue)return r._getDeferredState(this._processQueue)},n.processing=function(){return!this.jqXHR&&this._processQueue&&r._getDeferredState(this._processQueue)==="pending"},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&n.length>1&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var r=this,i=t.files[0],s=i.size,o=t.uploadedBytes,u=t.maxChunkSize||s,a=this._blobSlice,f=e.Deferred(),l=f.promise(),c,h;return!(this._isXHRUpload(t)&&a&&(o||u<s))||t.data?!1:n?!0:o>=s?(i.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",i.error])):(h=function(){var n=e.extend({},t),l=n._progress.loaded;n.blob=a.call(i,o,o+u,i.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+o+"-"+(o+n.chunkSize-1)+"/"+s,r._initXHRData(n),r._initProgressListener(n),c=(r._trigger("chunksend",null,n)!==!1&&e.ajax(n)||r._getXHRPromise(!1,n.context)).done(function(i,u,a){o=r._getUploadedBytes(a)||o+n.chunkSize,l+n.chunkSize-n._progress.loaded&&r._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o-n.uploadedBytes,total:o-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=o,n.result=i,n.textStatus=u,n.jqXHR=a,r._trigger("chunkdone",null,n),r._trigger("chunkalways",null,n),o<s?h():f.resolveWith(n.context,[i,u,a])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,r._trigger("chunkfail",null,n),r._trigger("chunkalways",null,n),f.rejectWith(n.context,[e,t,i])})},this._enhancePromise(l),l.abort=function(){return c.abort()},h(),l)},_beforeSend:function(e,t){this._active===0&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,r,i){var s=i._progress.total,o=i._response;i._progress.loaded<s&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:s,total:s}),i),o.result=i.result=t,o.textStatus=i.textStatus=n,o.jqXHR=i.jqXHR=r,this._trigger("done",null,i)},_onFail:function(e,t,n,r){var i=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),i.jqXHR=r.jqXHR=e,i.textStatus=r.textStatus=t,i.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var r=this,i,s,o,u,a=r._getAJAXSettings(n),f=function(){return r._sending+=1,a._bitrateTimer=new r._BitrateTimer,i=i||((s||r._trigger("send",e.Event("send",{delegatedEvent:t}),a)===!1)&&r._getXHRPromise(!1,a.context,s)||r._chunkedUpload(a)||e.ajax(a)).done(function(e,t,n){r._onDone(e,t,n,a)}).fail(function(e,t,n){r._onFail(e,t,n,a)}).always(function(e,t,n){r._onAlways(e,t,n,a),r._sending-=1,r._active-=1;if(a.limitConcurrentUploads&&a.limitConcurrentUploads>r._sending){var i=r._slots.shift();while(i){if(r._getDeferredState(i)==="pending"){i.resolve();break}i=r._slots.shift()}}r._active===0&&r._trigger("stop")}),i};return this._beforeSend(t,a),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),u=o.pipe(f)):(this._sequence=this._sequence.pipe(f,f),u=this._sequence),u.abort=function(){return s=[undefined,"abort","abort"],i?i.abort():(o&&o.rejectWith(a.context,s),f())},this._enhancePromise(u)):f()},_onAdd:function(t,n){var r=this,i=!0,s=e.extend({},this.options,n),o=n.files,u=o.length,a=s.limitMultiFileUploads,f=s.limitMultiFileUploadSize,l=s.limitMultiFileUploadSizeOverhead,c=0,h=this._getParamName(s),p,d,v,m,g=0;f&&(!u||o[0].size===undefined)&&(f=undefined);if(!(s.singleFileUploads||a||f)||!this._isXHRUpload(s))v=[o],p=[h];else if(!s.singleFileUploads&&!f&&a){v=[],p=[];for(m=0;m<u;m+=a)v.push(o.slice(m,m+a)),d=h.slice(m,m+a),d.length||(d=h),p.push(d)}else if(!s.singleFileUploads&&f){v=[],p=[];for(m=0;m<u;m+=1){c+=o[m].size+l;if(m+1===u||c+o[m+1].size+l>f||a&&m+1-g>=a)v.push(o.slice(g,m+1)),d=h.slice(g,m+1),d.length||(d=h),p.push(d),g=m+1,c=0}}else p=h;return n.originalFiles=o,e.each(v||o,function(s,o){var u=e.extend({},n);return u.files=v?o:[o],u.paramName=p[s],r._initResponseObject(u),r._initProgressObject(u),r._addConvenienceMethods(t,u),i=r._trigger("add",e.Event("add",{delegatedEvent:t}),u),i}),i},_replaceFileInput:function(t){var n=t.clone(!0);e("<form></form>").append(n)[0].reset(),t.after(n).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,r){return r===t[0]?n[0]:r}),t[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,n){var r=this,i=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),i.resolve([e])},o=function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){i.resolve(e)}).fail(s)},u=function(){a.readEntries(function(e){e.length?(f=f.concat(e),u()):o(f)},s)},a,f=[];return n=n||"",t.isFile?t._file?(t._file.relativePath=n,i.resolve(t._file)):t.file(function(e){e.relativePath=n,i.resolve(e)},s):t.isDirectory?(a=t.createReader(),u()):i.resolve([]),i.promise()},_handleFileTreeEntries:function(t,n){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n=t.prop("webkitEntries")||t.prop("entries"),r,i;if(n&&n.length)return this._handleFileTreeEntries(n);r=e.makeArray(t.prop("files"));if(!r.length){i=t.prop("value");if(!i)return e.Deferred().resolve([]).promise();r=[{name:i.replace(/^.*\\/,"")}]}else r[0].name===undefined&&r[0].fileName&&e.each(r,function(e,t){t.name=t.fileName,t.size=t.fileSize});return e.Deferred().resolve(r).promise()},_getFileInputFiles:function(t){return t instanceof e&&t.length!==1?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(i){r.files=i,n.options.replaceFileInput&&n._replaceFileInput(r.fileInput),n._trigger("change",e.Event("change",{delegatedEvent:t}),r)!==!1&&n._onAdd(t,r)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)!==!1&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,r=t.dataTransfer,i={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always(function(r){i.files=r,n._trigger("drop",e.Event("drop",{delegatedEvent:t}),i)!==!1&&n._onAdd(t,i)}))},_onDragOver:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=t.dataTransfer;n&&e.inArray("Files",n.types)!==-1&&this._trigger("dragover",e.Event("dragover",{delegatedEvent:t}))!==!1&&(t.preventDefault(),n.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var r=e.inArray(t,this._specialOptions)!==-1;r&&this._destroyEventHandlers(),this._super(t,n),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===undefined?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return t!=="url"&&e.type(n)==="string"&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,r=e(this.element[0].cloneNode(!1));e.each(r.data(),function(e,i){var s="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();r.attr(s)&&(t._isRegExpOption(e,i)&&(i=t._getRegExp(i)),n[e]=i)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;if(!t||this.options.disabled)return;t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n=this,r=e.Deferred(),i=r.promise(),s,o;return i.abort=function(){return o=!0,s?s.abort():(r.reject(null,"abort","abort"),i)},this._getFileInputFiles(t.fileInput).always(function(e){if(o)return;if(!e.length){r.reject();return}t.files=e,s=n._onSend(null,t),s.then(function(e,t,n){r.resolve(e,t,n)},function(e,t,n){r.reject(e,t,n)})}),this._enhancePromise(i)}t.files=e.makeArray(t.files);if(t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),webswingRequirejs.define("webswing-files",["jquery","text!templates/upload.html","jquery.iframe-transport","jquery.fileupload"],function(t,n){return function(){function P(e){e.eventType==="AutoUpload"?H(e,i.socketId):e.eventType==="AutoSave"?B(e,i.socketId):e.eventType==="Open"?j(e,i.socketId):e.eventType==="Close"&&F()}function H(e,t){N==null&&I(i),N.closest(i.cfg.rootElement).length===0&&i.cfg.rootElement.append(N),o=[],u=[],A.val(t),k.prop("multiple",e.isMultiSelection),k.attr("accept",e.filter),W(!1),q(N)}function B(e,t){O==null&&I(i),O.closest(i.cfg.rootElement).length===0&&i.cfg.rootElement.append(O),M.val(e.selection),q(O)}function j(e,t){l=!1,c==null&&I(i),c.closest(i.cfg.rootElement).length===0&&i.cfg.rootElement.append(c),h.val(t),z(g,d,e.allowDownload),z(x,d,e.allowUpload),z(m,d,e.allowDelete),U(y,e.allowUpload),U(S,e.allowDownload||e.allowUpload||e.allowDelete),T.prop("multiple",e.isMultiSelection),T.attr("accept",e.filter),W(!1),U(c,e.allowDownload||e.allowUpload||e.allowDelete)}function F(){c!=null&&c.closest(i.cfg.rootElement).length!==0&&(f?l=!0:(c.hide("fast"),c.detach())),N!=null&&N.closest(i.cfg.rootElement).length!==0&&(N.hide("fast"),N.detach()),O!=null&&O.closest(i.cfg.rootElement).length!==0&&(O.hide("fast"),O.detach())}function I(){function P(e,t){t.form.fileupload({url:i.cfg.connectionUrl+"file?uuid="+i.socketId()}),t.files.forEach(function(e){o.push(e.name)}),s.push(t),W(!0)}function H(e,t){W(!1),t.jqXHR.statusText!="abort"&&(f?(v.append("<p>"+t.jqXHR.responseText+"</p>"),clearTimeout(f)):(v.append("<p>"+t.jqXHR.responseText+"</p>"),q(p)),t.files.forEach(function(e){var t=o.indexOf(e.name);o.splice(t,1)}),f=setTimeout(function(){f=null,v.html(""),p.hide("fast"),l&&F()},3e3))}function B(e,n){var r=parseInt(n.loaded/n.total*100,10),i=t(".ws-progress-bar"),s=t(".ws-progress-text");i.css("width",r+"%"),s.find("em").text(r+"%")}function j(e,n){var r=t(".ws-progress-text");r.find("em").text(i.translate("files.progComplete"));var a=n.result.files[0].name;u.push(a),o.splice(o.indexOf(a),1),!f&&o.length==0&&(X(u),u=[],W(!1),s=[])}function I(e,t){return e.length===t.length&&e.sort().every(function(e,n){return e===t.sort()[n]})}function R(e){V("cancelFileSelection"),U()}function U(){X([]),s.forEach(function(e){e.abort()}),W(!1)}function z(){var e=M.val();return e.match(/^[a-zA-Z0-9. _-]*$/)?(v.html(""),p.hide("fast"),!0):(v.html(i.translate("<p>${files.saveInvlidFilename}</p>")),q(p),!1)}i.cfg.rootElement.append(n),c=i.cfg.rootElement.find('div[data-id="uploadBar"]'),h=c.find('input[data-id="fileDialogTransferBarClientId"]'),d=c.find('div[data-id="fileActionButtonGroup"]'),m=c.find('button[data-id="deleteSelectedButton"]'),g=c.find('button[data-id="downloadSelectedButton"]'),x=c.find('div[data-id="fileUploadBtn"]'),y=c.find('div[data-id="fileDropArea"]'),b=c.find('form[data-id="fileupload"]'),S=c.find('button[data-id="cancelBtn"]'),T=c.find('input[data-id="fileInput"]'),w=i.cfg.rootElement.find('div[data-id="fileDialogTransferProgressBar"]'),E=i.cfg.rootElement.find('div[data-id="progress"] .ws-progress-bar'),p=i.cfg.rootElement.find('div[data-id="fileDialogErrorMessage"]'),v=i.cfg.rootElement.find('div[data-id="fileDialogErrorMessageContent"]'),N=i.cfg.rootElement.find('div[data-id="autoUploadBar"]'),C=N.find('form[data-id="autoFileupload"]'),L=N.find('button[data-id="cancelAutoUploadButton"]'),k=N.find('input[data-id="autoFileInput"]'),A=N.find('input[data-id="autoUploadfileDialogTransferBarClientId"]'),O=i.cfg.rootElement.find('div[data-id="autoSaveBar"]'),M=O.find('input[data-id="autoSaveInput"]'),D=O.find('button[data-id="autoSaveButton"]'),_=O.find('button[data-id="cancelAutoSaveButton"]'),w.hide(),N.hide(),N.detach(),O.hide(),O.detach(),c.hide(),c.detach();var e=C.fileupload({xhrFields:{withCredentials:!0},url:i.cfg.connectionUrl+"file",dataType:"json",dropZone:null});e.bind("fileuploadfail",H),e.bind("fileuploadprogressall",B),e.bind("fileuploadadd",P),e.bind("fileuploaddone",j);var r=b.fileupload({xhrFields:{withCredentials:!0},url:i.cfg.connectionUrl+"file",dataType:"json",dropZone:y});r.bind("fileuploadfail",H),r.bind("fileuploadprogressall",B),r.bind("fileuploadadd",P),r.bind("fileuploaddone",j),_.bind("click",R),L.bind("click",R),S.bind("click",R),m.bind("click",function(e){V("deleteFile")}),g.bind("click",function(e){V("downloadFile")}),i.cfg.rootElement.bind("drop",function(e){e.preventDefault()}),M.bind("input",z),D.bind("click",function(e){var t=M.val();z()&&t.length>0&&X([t])}),i.cfg.rootElement.bind("dragover",function(e){a?clearTimeout(a):y.addClass("ws-filebar-dropArea--ondrag"),a=setTimeout(function(){a=null,y.removeClass("ws-filebar-dropArea--ondrag")},100)})}function q(e){e.show("fast")}function R(e){e.hide("fast")}function U(e,t){t?q(e):R(e)}function z(e,t,n){e.detach(),n&&t.append(e)}function W(e){e?(E.css("width","0%"),w.fadeIn(200)):(w.fadeOut(200),E.css("width","0%"))}function X(e){i.send({selected:{files:e}})}function V(e){i.send({events:[{event:{type:e}}]})}function J(e){var t="hiddenDownloader"+e,n=document.getElementById(t);n!=null&&n.parentNode.removeChild(n),n=document.createElement("iframe"),n.id=t,n.style.display="none",document.body.appendChild(n),n.src=i.cfg.connectionUrl+e}function K(e){window.open(e,"_blank")}function Q(e){window.open(i.cfg.connectionUrl+"print/viewer.html?file="+encodeURIComponent(i.cfg.connectionUrl+e),"_blank")}var r=this,i;r.injects=i={cfg:"webswing.config",socketId:"socket.uuid",send:"socket.send",translate:"translate.translate"},r.provides={process:P,close:F,download:J,link:K,print:Q},r.ready=function(){n=i.translate(n)};var s=[],o=[],u=[],a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D}}),webswingRequirejs.define("text!templates/dialog.html",[],function(){return'<div data-id="commonDialog" class="ws-modal-container">\n    <div id="dialogModal" class="ws-dialog">\n        <div data-id="header" class="ws-header"></div>\n        <div id="ajaxProgress" class="ws-progress ws-hidden">\n            <div class="ws-spinner">\n                <div class="ws-spinner-dot-1"></div>\n                <div class="ws-spinner-dot-2"></div>\n            </div>\n        </div>\n        <div data-id="content" class="ws-dialog-content"></div>\n    </div>\n</div>\n<div data-id="commonBar" class="ws-toolbar-container">\n    <div data-id="contentBar" class="ws-messagebar">\n        <div data-id="header" class="ws-header ws-title"></div>\n        <div data-id="content" class="ws-dialog-content"></div>\n    </div>\n</div>'}),webswingRequirejs.define("text!templates/network.html",[],function(){return'<div data-id="networkBar" class="ws-toolbar-container">\n    <div data-id="contentBar" class="ws-networkbar">\n        <div class="ws-toolbar-container">\n            <p>\n                <span data-id="message"></span>\n                <span class="ws-right">\n                     <a href="javascript:void(0)" data-id="hide">${dialog.networkMonitor.hide}</a>\n                </span>\n            </p>\n        </div>\n    </div>\n</div>'}),webswingRequirejs.define("webswing-dialog",["jquery","text!templates/dialog.html","text!templates/network.html"],function(t,n,r){return function(){function g(){return{emptyMessage:y("dialog.emptyMessage",!0),logingOut:y("dialog.logingOut"),readyDialog:y("dialog.readyDialog"),initializingDialog:y("dialog.initializingDialog",!0),startingDialog:y("dialog.startingDialog",!0),connectingDialog:y("dialog.connectingDialog",!0),applicationBusyDialog:y("dialog.applicationBusyDialog",!0),unauthorizedAccess:w("dialog.unauthorizedAccess"),applicationAlreadyRunning:w("dialog.applicationAlreadyRunning"),sessionStolenNotification:w("dialog.sessionStolenNotification"),disconnectedDialog:w("dialog.disconnectedDialog"),connectionErrorDialog:w("dialog.connectionErrorDialog"),tooManyClientsNotification:w("dialog.tooManyClientsNotification"),stoppedDialog:b("dialog.stoppedDialog"),timedoutDialog:b("dialog.timedoutDialog"),cookiesDisabledDialog:y("dialog.cookiesDisabledDialog"),continueOldSessionDialog:{header:'<span class="ws-message--neutral">${dialog.continueH} <span data-id="dialogHide" class="ws-icon-cancel-circled ws-right"></span></span>',content:'<p data-id="continueMsg">${dialog.continueC1}<a href="javascript:void(0)" data-id="restartLink">${dialog.continueC2}</a></p>',events:{restartLink_click:function(){s.kill(),s.newSession()},dialogHide_click:C,continueMsg_mouseenter:function(){h.focused=!0},continueMsg_mouseleave:function(){h.focused=!1}}},longPollingWarningDialog:{header:'<span class="ws-message--warning"><span class="ws-icon-warn"></span> ${dialog.longPollingH}</span>',content:"<p>${dialog.longPollingC} </p>",buttons:[{label:'<span class="ws-icon-cancel-circled"></span>  ${dialog.longPollingB}',action:function(){C()}}]},inactivityTimeoutWarningDialog:{header:'<span class="ws-message--warning"><span class="ws-icon-warn"></span> ${dialog.inactivityTimeoutH}</span>',content:"<p>${dialog.inactivityTimeoutC}  </p>",buttons:[{label:'<span class="ws-icon-cancel-circled"></span>  ${dialog.inactivityTimeoutB}',action:function(){C()}}]},networkOfflineWarningDialog:{content:'<span class="ws-message--error"><span class="ws-icon-warn"></span>${dialog.networkMonitor.offline}</span>',severity:2},networkSlowWarningDialog:{content:'<span class="ws-message--warning"><span class="ws-icon-warn"></span>${dialog.networkMonitor.warn}</span>',severity:1}}}function y(e,t){var n="<p>${"+e+"}</p>";return t&&(n='<div class="ws-spinner"><div class="ws-spinner-dot-1"></div> <div class="ws-spinner-dot-2"></div></div>'+n),{content:n}}function b(e){return{content:"<p>${"+e+"}</p>",buttons:[{label:'<span class="ws-icon-certificate"></class> ${dialog.finalB1}',action:function(){s.newSession()}},{label:'<span class="ws-icon-logout"></class> ${dialog.finalB2}',action:function(){s.logout()}}]}}function w(e){return{content:"<p>${"+e+"}</p>",buttons:[{label:'<span class="ws-icon-arrows-cw"></class> ${dialog.retryB1}',action:function(){s.reTrySession()}},{label:'<span class="ws-icon-logout"></class> ${dialog.retryB2}',action:function(){s.logout()}}]}}function E(){s.cfg.rootElement.append(n),l=s.cfg.rootElement.find('div[data-id="commonDialogBackDrop"]'),u=s.cfg.rootElement.find('div[data-id="commonDialog"]'),a=u.find('div[data-id="content"]'),f=u.find('div[data-id="header"]'),p=s.cfg.rootElement.find('div[data-id="commonBar"]'),d=p.find('div[data-id="content"]'),v=p.find('div[data-id="header"]'),p.hide(),t(document).ajaxStart(function(){c=setTimeout(function(){u.is(":visible")&&t("#ajaxProgress").slideDown("fast")},200)}).ajaxComplete(function(){clearTimeout(c),t("#ajaxProgress").hide()})}function S(e){if(e==null)return;return u==null&&E(),o=e,T(e,u,f,a),l.show(),u.slideDown("fast"),a}function x(e){if(e==null)return;return p==null&&E(),h=e,T(e,p,v,d),p.slideDown("fast"),d}function T(e,n,r,i){e.header!=null?(r.html(s.translate(e.header)),n.is(":visible")?r.fadeIn(200):r.show()):(r.hide(),r.html("")),i.html(s.translate(e.content));for(var o in e.events){var u=n.find('*[data-id="'+o.substring(0,o.lastIndexOf("_"))+'"]');u.bind(o.substring(o.lastIndexOf("_")+1),e.events[o])}for(var a in e.buttons){var f=e.buttons[a],l=t('<button class="ws-btn">'+s.translate(f.label)+"</button><span> </span>");l.on("click",f.action),i.append(l)}n.is(":visible")&&i.fadeIn("fast")}function N(){o=null,a.html(""),u.fadeOut("fast"),l.fadeOut("fast")}function C(){h=null,d.html(""),p.fadeOut("fast")}function k(){return o}function L(){return h}function A(e){m==null&&(s.cfg.rootElement.append(s.translate(r)),m=s.cfg.rootElement.find('div[data-id="networkBar"]'),m.find('a[data-id="hide"]').on("click",function(t){s.mutePingWarning(e.severity),O()})),m.find('span[data-id="message"]').html(s.translate(e.content)),m.show("fast")}function O(){m!=null&&(m.hide("fast"),m.remove(),m=null)}var i=this,s;i.injects=s={cfg:"webswing.config",continueSession:"base.continueSession",kill:"base.kill",newSession:"webswing.newSession",reTrySession:"webswing.reTrySession",logout:"login.logout",translate:"translate.translate",mutePingWarning:"ping.mutePingWarning"},i.provides={show:S,hide:N,current:k,content:g(),currentBar:L,showBar:x,hideBar:C,showNetworkBar:A,hideNetworkBar:O};var o,u,a,f,l,c,h,p,d,v,m}}),webswingRequirejs.define("webswing-login",["jquery","webswing-util"],function(t,n){return function(){function o(e){var t={securityToken:i.cfg.securityToken,realm:i.cfg.realm,successUrl:window.top.location.href},r=function(){return i.showDialog(i.emptyMessage)};n.webswingLogin(i.cfg.connectionUrl,r,t,function(t,n){s=n.getResponseHeader("webswingUsername"),e!=null&&e()})}function u(){var e=i.showDialog(i.logingOut);n.webswingLogout(i.cfg.connectionUrl,e,function(t){i.disconnect(),i.start()})}function a(){t.ajax({url:i.cfg.connectionUrl+"login"})}function f(){return s}var r=this,i;r.injects=i={cfg:"webswing.config",start:"webswing.start",disconnect:"webswing.disconnect",showDialog:"dialog.show",logingOut:"dialog.content.logingOut",emptyMessage:"dialog.content.emptyMessage"},r.provides={login:o,logout:u,touchSession:a,user:f};var s}}),webswingRequirejs.define("webswing-canvas",["webswing-util"],function(t){return function(){function u(){if(i==null){var e=t.dpr;r.cfg.rootElement.append('<canvas data-id="canvas" style="display:block; width:'+f()+"px;height:"+l()+'px;" width="'+f()*e+'" height="'+l()*e+'" tabindex="-1"/>'),r.cfg.rootElement.append('<input data-id="input-handler" class="ws-input-hidden" type="text" value="" />'),i=r.cfg.rootElement.find('canvas[data-id="canvas"]'),s=r.cfg.rootElement.find('input[data-id="input-handler"]')}o==null&&(o=setInterval(function(){if(!r.cfg.mirror&&(i.width()!==f()||i.height()!==l())){var t=c().getContext("2d").getImageData(0,0,c().width,c().height),n=f(),s=l();c().width=n*e,c().height=s*e,c().style.width=n+"px",c().style.height=s+"px",c().getContext("2d").putImageData(t,0,0),r.sendHandshake()}},500))}function a(){i!=null&&(i.remove(),s.remove(),i=null,s=null),o!=null&&(clearInterval(o),o=null)}function f(){return r.cfg.rootElement.width()}function l(){return r.cfg.rootElement.height()}function c(){return(i==null||o!=null)&&u(),i[0]}function h(){return s==null&&u(),s[0]}var n=this,r;n.injects=r={cfg:"webswing.config",sendHandshake:"base.handshake"},n.provides={dispose:a,get:c,getInput:h};var i,s,o}}),webswingRequirejs.define("webswing-identity",["webswing-util"],function(t){return function(){function i(){var e=t.readCookie(r);return e!=null?e:(e=t.GUID(),t.createCookie(r,e,1),e)}function s(){t.eraseCookie(r)}var n=this;n.provides={get:i,dispose:s};var r="webswingID"}}),webswingRequirejs.define("webswing-jslink",[],function amdFactory(){return function JsLinkModule(){function process(jsRequest){var response;try{if(jsRequest.type==="eval"){var indirectEval=eval,result=indirectEval(jsRequest.evalString);response=buildResponse(result,jsRequest.correlationId)}else if(jsRequest.type==="call"){var ref=jsRequest.thisObjectId!=null?referenceCache[jsRequest.thisObjectId]:window,args=decodeParams(jsRequest),result=ref[jsRequest.evalString].apply(ref,args);response=buildResponse(result,jsRequest.correlationId)}else if(jsRequest.type==="setMember"||jsRequest.type==="setSlot"){var ref=jsRequest.thisObjectId!=null?referenceCache[jsRequest.thisObjectId]:window,args=decodeParams(jsRequest);ref[jsRequest.evalString]=args!=null?args[0]:null,response=buildResponse(null,jsRequest.correlationId)}else if(jsRequest.type==="getMember"||jsRequest.type==="getSlot"){var ref=jsRequest.thisObjectId!=null?referenceCache[jsRequest.thisObjectId]:window;response=buildResponse(ref[jsRequest.evalString],jsRequest.correlationId)}else if(jsRequest.type==="deleteMember"){var ref=jsRequest.thisObjectId!=null?referenceCache[jsRequest.thisObjectId]:window;delete ref[jsRequest.evalString],response=buildResponse(null,jsRequest.correlationId)}jsRequest.garbageIds!=null&&jsRequest.garbageIds.forEach(function(e){delete referenceCache[e]}),api.send(response)}catch(e){throw response=buildResponse(e,jsRequest.correlationId),api.send(response),e}}function buildResponse(e,t){var n={jsResponse:serializeObject(e)};return n.jsResponse.correlationId=t,n}function serializeObject(e){var t={};return e==null?t:Object.prototype.toString.call(e)==="[object Error]"?(t.error=e.toString(),t):(t.value={},typeof e=="number"||typeof e=="string"||typeof e=="boolean"?t.value.primitive=JSON.stringify(e):e instanceof JavaObjectRef?t.value.javaObject={id:e.id}:(e[idMemberName]==null&&(e[idMemberName]=GUID(),referenceCache[e[idMemberName]]=e),t.value.jsObject={id:e[idMemberName]}),t)}function decodeParams(e){var t=[],n=e.params;if(n!=null)for(var r=0;r<n.length;r++)t.push(decodeJsParam(n[r]));return t}function decodeJsParam(e){if(e.primitive!=null)return JSON.parse(e.primitive);if(e.jsObject!=null)return referenceCache[e.jsObject.id];if(e.javaObject!=null)return new JavaObjectRef(e.javaObject);if(e.array!=null){var t=[];for(var n=0;n<e.array.length;n++)t.push(decodeJsParam(e.array[n]));return t}return null}function GUID(){var e=function(){return Math.floor(Math.random()*65536).toString(16)};return e()+e()+e()}function JavaObjectRef(e){this.id=e.id;if(e.methods!=null)for(var t=0;t<e.methods.length;t++){var n=e.methods[t];this[n]=function(t){return function(){var n=arguments;return new Promise(function(r,i){var s=GUID(),o=[];for(var u=0;u<n.length;u++){var a=serializeObject(n[u]);o[u]=a!=null?a.value:null}var f={javaRequest:{correlationId:s,objectId:e.id,method:t,params:o}};api.awaitResponse(function(e){Object.prototype.toString.call(e)==="[object Error]"?i(e):e.error!=null?i(new Error(e.error)):e.value!=null&&r(decodeJsParam(e.value))},f,s,api.cfg.javaCallTimeout)})}}(n)}}var module=this,api;module.injects=api={cfg:"webswing.config",external:"external",send:"socket.send",awaitResponse:"socket.awaitResponse"},module.provides={process:process},module.ready=function(){referenceCache.instanceObject=api.external};var idMemberName="__webswing_jslink_id",referenceCache={}}}),webswingRequirejs.define("text!templates/clipboard.html",[],function(){return'<div data-id="copyBar" class="ws-clipboard">\n	<div data-id="contentBar" class="ws-clipboard-body">\n		<div class="ws-clipboard-header">\n			<h1 class="ws-clipboard-title">${clipboard.content}</h1>\n		</div>\n\n		<div class="ws-clipboard-item" data-id="text">\n			<div>\n				<div data-id="textarea" class="ws-clipboard-text-area"></div>\n			</div>\n		</div>\n\n		<div class="ws-clipboard-item" data-id="more">\n			<div data-id="image">\n				<b>${clipboard.image}</b>\n			</div>\n			<div data-id="files">\n				<b>${clipboard.files}</b>\n				<div id="wsFileList" class="ws-clipboard-file-list"></div>\n			</div>\n		</div>\n	</div>\n	<div class="ws-clipboard-control">\n		<div data-id="minimizedInfoBar" class="ws-btn-group">\n			<button data-id="text" class="ws-btn ws-btn--xs ws-btn--selected ws-icon-docs"> ${clipboard.copy}</button>\n			<button data-id="more" class="ws-btn ws-btn--xs ">${clipboard.more}</button>\n		</div>\n\n		<button data-id="closeBtn" class="ws-btn ws-btn--xs ws-right ws-icon-cancel-circled">${clipboard.discard}</button>\n	</div>\n</div>'}),webswingRequirejs.define("text!templates/paste.html",[],function(){return'<div data-id="pasteDialog" class="ws-modal-container">\n    <div class="ws-paste">\n        <div data-id="title" class="ws-paste-header"></div>\n        <div class="ws-paste-content">\n            <div data-id="message" class="ws-paste-message"></div>\n            <textarea data-id="textarea" class="ws-paste-textarea"></textarea>\n            <button data-id="closeBtn" class="ws-btn ws-btn--xs ws-right ws-icon-cancel-circled">${clipboard.cancel}</button>\n        </div>\n    </div>\n</div>'}),webswingRequirejs.define("webswing-clipboard",["jquery","text!templates/clipboard.html","text!templates/paste.html","webswing-util"],function(t,n,r,i){return function(){function f(e){l(e,!0)}function l(e,t){if(u==null)o.cfg.ieVersion&&o.cfg.ieVersion<=11?window.clipboardData.setData("Text",""):e.clipboardData.setData("text/plain",""),o.send({copy:{type:t===!0?"cut":"copy"}});else{var n=u.wsEventData;if(o.cfg.ieVersion&&o.cfg.ieVersion<=11){var r=u.find('div[data-id="ie-clipboard"]'),i=window.clipboardData;n.text!=null&&(e.preventDefault(),i.setData("Text",n.text)),m()}else e=e.originalEvent||e,e.preventDefault(),n.text!=null&&e.clipboardData.setData("text/plain",n.text),n.html!=null&&!o.cfg.ieVersion&&e.clipboardData.setData("text/html",n.html),m()}}function c(e,t){if(o.cfg.hasControl){var n="",r="";if(o.cfg.ieVersion&&o.cfg.ieVersion<=11)n=window.clipboardData.getData("Text"),r=n;else{var i=e.clipboardData||e.originalEvent.clipboardData;n=i.getData("text/plain"),r=i.getData("text/html");if(i.items!=null)for(var s=0;s<i.items.length;s++)if(i.items[s].type.indexOf("image")===0){var u=i.items[s],a=new FileReader;a.onload=function(e){h(t,n,r,e.target.result)},a.readAsDataURL(u.getAsFile());return}}h(t,n,r)}}function h(e,t,n,r){var i={special:!!e};t!=null&&t.length!==0&&(i.text=t),n!=null&&n.length!==0&&(i.html=n),r!=null&&(i.img=r),o.send({paste:i})}function p(e){function b(e,n){u.find(".ws-btn--selected").removeClass("ws-btn--selected"),u.find(".ws-clipboard-item--active").removeClass("ws-clipboard-item--active"),t(e).addClass("ws-btn--selected"),u.find('div[data-id="'+n+'"]').addClass("ws-clipboard-item--active")}u!=null&&m(),o.cfg.rootElement.append(n),u=o.cfg.rootElement.find('div[data-id="copyBar"]'),u.on("mouseleave",function(e){d()}),u.wsEventData=e;var r=u.find('button[data-id="closeBtn"]');r.click(function(){m()}),u.show("fast");var s=u.find('button[data-id="text"]');if(o.cfg.isMac){var a=t("<p>Copy to clipboard with CMD+C</p>");s.after(a),s.remove(),s=a}if(e.text!=null&&e.text.length!==0||e.html!=null&&e.html.length!==0){var f=u.find('div[data-id="textarea"]');e.text!=null&&e.text.length!==0?f.append(t('<pre class="ws-clipboard-text-pre"></pre>').text(e.text)):f.html('<iframe class="ws-clipboard-text-iframe" src="data:text/html;charset=utf-8,'+encodeURIComponent(e.html)+'"></iframe>'),s.on("mouseenter",function(){b(s,"text"),v()})}s.on("click",function(e){document.execCommand("copy")}),b(s,"text");if(e.files!=null&&e.files.length!==0||e.img!=null){if(e.files!=null&&e.files.length!==0){var l=u.find("#wsFileList");for(var c=0;c<e.files.length;c++){var h=e.files[c],p=t("<a>");h.indexOf("#")===0?(p=t("<span>"),p.html(e.files[c].substring(1))):(p.html(e.files[c]),p.on("click",function(e){o.send({copy:{type:"getFileFromClipboard",file:t(e.currentTarget).html()}})})),l.append(p),l.append("<br/>")}}else u.find('div[data-id="files"]').remove();if(e.img!=null){var g=i.getImageString(e.img);u.find('div[data-id="image"]').append('<a target="_blank" download="clipboard.png" href="'+g+'"><img src="'+g+'" id="wsCopyImage" class="ws-clipboard-img-thumb"></a>')}else u.find('div[data-id="image"]').remove();var y=u.find('button[data-id="more"]');y.on("mouseenter",function(){b(y,"more"),v()})}else{var y=u.find('button[data-id="more"]');y.remove()}u.find('div[data-id="contentBar"]').hide()}function d(){u!=null&&(u.find(".ws-btn--selected").removeClass("ws-btn--selected"),u.find('div[data-id="contentBar"]').slideUp("fast"),u.minimized=!0),o.getInput().focus()}function v(){u!=null&&(u.find('div[data-id="contentBar"]').slideDown("fast"),u.minimized=!1)}function m(){u!=null&&(u.hide("fast"),u.remove(),u=null),o.getInput().focus()}function g(e){a!=null&&y(),o.cfg.rootElement.append(r),a=o.cfg.rootElement.find('div[data-id="pasteDialog"]');var t=a.find('div[data-id="title"]');t.html(o.translate(e.title));var n=a.find('div[data-id="message"]');n.html(o.translate(e.message));var i=a.find('textarea[data-id="textarea"]');i.focus(),i.on("paste",function(e){return e.preventDefault(),e.stopPropagation(),c(e,!1),y(),!1});var s=a.find('button[data-id="closeBtn"]');s.on("click",function(e){o.send({paste:{}}),y()})}function y(){a!=null&&(a.hide("fast"),a.remove(),a=null),o.getInput().focus()}var s=this,o;s.injects=o={cfg:"webswing.config",send:"socket.send",getInput:"canvas.getInput",translate:"translate.translate"},s.provides={cut:f,copy:l,paste:c,displayCopyBar:p,displayPasteDialog:g,dispose:m},s.ready=function(){document.addEventListener("copy",l),n=o.translate(n),r=o.translate(r)};var u,a}}),webswingRequirejs.define("text!templates/playback.html",[],function(){return'<div data-id="playbackBar" class="ws-toolbar-container">\n	<div class="ws-playback">\n		<div class="ws-progressbar-container">\n			<div data-id="progress" class="ws-progress">\n				<div style="width: 0%;" class="ws-progress-bar ws-playback-progress">\n					<span class="ws-progress-text">Progress: <em><span data-id="current"></span>/<span data-id="total"></span></em></span>\n				</div>\n			</div>\n		</div>\n		<div class="ws-btn-group">\n			<button class="ws-btn ws-icon-play" data-id="play"></button>\n			<button class="ws-btn ws-icon-stop" data-id="stop"></button>\n			<button class="ws-btn ws-icon-to-end" data-id="step">+1</button>\n			<button class="ws-btn ws-icon-to-end-alt" data-id="10step">+10</button>\n			<button class="ws-btn ws-icon-to-end-alt" data-id="100step">+100</button>\n		</div>\n		<button class="ws-btn ws-right ws-icon-back" data-id="reset"></button>\n	</div>\n</div>'}),webswingRequirejs.define("webswing-playback",["jquery","text!templates/playback.html"],function(t,n){return function(){function s(e){if(i!=null&&e.playback!=null){e=e.playback;var t=parseInt(e.current/e.total*100,10);i.find(".ws-progress-bar").css("width",t+"%"),i.find('span[data-id="current"]').html(e.current),i.find('span[data-id="total"]').html(e.total)}}function o(){r.cfg.rootElement.append(n),i=r.cfg.rootElement.find('div[data-id="playbackBar"]'),i.find('button[data-id="reset"]').on("click",function(e){u("reset");var t=r.getCanvas().getContext("2d");t.clearRect(0,0,r.getCanvas().width,r.getCanvas().height)}),i.find('button[data-id="play"]').on("click",function(e){u("play")}),i.find('button[data-id="stop"]').on("click",function(e){u("stop")}),i.find('button[data-id="step"]').on("click",function(e){u("step")}),i.find('button[data-id="10step"]').on("click",function(e){u("step10")}),i.find('button[data-id="100step"]').on("click",function(e){u("step100")}),i.show()}function u(e){r.send({playback:{command:e}})}var t=this,r;t.injects=r={cfg:"webswing.config",send:"socket.send",getCanvas:"canvas.get"},t.provides={playbackInfo:s,showControls:o},t.ready=function(){r.cfg.recordingPlayback&&o()};var i}}),webswingRequirejs.define("webswing-input",["jquery","webswing-util"],function(t,n){return function(){function h(e){p();var t=l;l=[],e!=null&&t.push(e),t.length>0&&r.send({events:t})}function p(e){r.cfg.hasControl&&(s!=null&&(l.push(s),s=null),o!=null&&(l.push(o),o=null),u!=null&&(l.push(u),u=null),a!=null&&(l.push(a),a=null),e!=null&&JSON.stringify(l[l.length-1])!==JSON.stringify(e)&&l.push(e))}function d(){s=null,o=null,u=null,a=null,f=0,l=[]}function v(){i=!1,d(),document.removeEventListener("mousedown",b),document.removeEventListener("mouseout",w),document.removeEventListener("mouseup",E)}function m(){function u(t){var n=[9,12,16,17,18,19,20,27,32,33,34,35,36,37,38,39,40,44,45,46,91,92,93,145,225,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135],i=t.keyCode;n.indexOf(i)!=-1&&(r.cfg.virtualKB||(t.preventDefault(),t.stopPropagation()));var s=T("keydown",e,t);if(!g(s)){y(s)&&!s.key.alt&&t.preventDefault(),a!=null&&p(),a=s;if(s.key.alt&&n.indexOf(i)==-1){t.preventDefault(),t.stopPropagation(),s=T("keypress",e,t);if(t.key.length==1)s.key.character=t.key.charCodeAt(0);else{var o=s.key.keycode;s.key.character=!s.key.shift&&o>=65&&o<=90?o+32:o}p(s)}}return!1}function f(t){var n=T("keypress",e,t);return g(n)||(t.preventDefault(),t.stopPropagation(),a!=null&&(a.key.character=n.key.character),p(n)),!1}function l(t){var n=T("keyup",e,t);return g(n)||(t.preventDefault(),t.stopPropagation(),p(n),h()),!1}if(i)return;var e=r.getCanvas(),t=r.getInput();d(),S(t),n.bindEvent(e,"mousedown",function(n){b(n);var r=x(e,n,"mousedown");return s=null,p(r),S(t),h(),!1},!1),n.bindEvent(e,"dblclick",function(n){var r=x(e,n,"dblclick");return s=null,p(r),S(t),h(),!1},!1),n.bindEvent(e,"mousemove",function(t){var n=x(e,t,"mousemove");return s=n,!1},!1),n.bindEvent(e,"mouseup",function(n){var r=x(e,n,"mouseup");return s=null,p(r),S(t),h(),!1},!1),n.bindEvent(e,"wheel",function(t){c+=n.detectFF()?t.deltaY*100:t.deltaY;if(c>=100||c<=-100){c=0;var r=x(e,t,"mousewheel");s=null,o!=null&&(r.mouse.wheelDelta+=o.mouse.wheelDelta),o=r}return t.preventDefault(),t.stopPropagation(),!1},!1),n.bindEvent(e,"contextmenu",function(e){return e.preventDefault(),e.stopPropagation(),!1}),n.bindEvent(t,"keydown",u,!1),n.bindEvent(e,"keydown",u,!1),n.bindEvent(t,"keypress",f,!1),n.bindEvent(e,"keypress",f,!1),n.bindEvent(t,"keyup",l,!1),n.bindEvent(e,"keyup",l,!1),n.bindEvent(t,"cut",function(e){return e.preventDefault(),e.stopPropagation(),r.cut(e),!1},!1),n.bindEvent(t,"copy",function(e){return e.preventDefault(),e.stopPropagation(),r.copy(e),!1},!1),n.bindEvent(t,"paste",function(e){return e.preventDefault(),e.stopPropagation(),r.paste(e,!1),!1},!1),n.bindEvent(document,"mousedown",b),n.bindEvent(document,"mouseout",w),n.bindEvent(document,"mouseup",E),i=!0}function g(e){var t=y(e),n="keypress"===e.key.type?e.key.character==120||e.key.character==24||e.key.character==99:e.key.character==88||e.key.character==67,r=t&&!e.key.alt&&!e.key.altgr&&!e.key.shift&&n,i="keypress"===e.key.type?e.key.character==118||e.key.character==22||e.key.character==86:e.key.character==86,s=t&&!e.key.alt&&!e.key.altgr&&!e.key.shift&&i;return s||r}function y(e){return r.cfg.isMac?e.key.meta:e.key.ctrl}function b(e){f|=Math.pow(2,e.which)}function w(e){f=0}function E(e){f&=~Math.pow(2,e.which)}function S(e){e.value=" ",e.focus(),e.select()}function x(e,t,r){var i=e.getBoundingClientRect(),s=Math.round(t.clientX-i.left),o=Math.round(t.clientY-i.top),u=0;return r=="mousewheel"&&(n.detectFF()?u=-Math.max(-1,Math.min(1,-t.deltaY*100)):n.detectIE()<=11?u=-Math.max(-1,Math.min(1,-t.deltaY)):u=-Math.max(-1,Math.min(1,t.wheelDelta||-t.detail))),{mouse:{x:s,y:o,type:r,wheelDelta:u,button:r=="mousemove"?0:t.which,buttons:f,ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey,meta:t.metaKey,timeMilis:Date.now()%864e5}}}function T(e,t,n){var r=n.which;r==0&&n.key!=null&&(r=n.key.charCodeAt(0));var i=n.keyCode;return i==0&&(i=r),{key:{type:e,character:r,keycode:i,alt:n.altKey,ctrl:n.ctrlKey,shift:n.shiftKey,meta:n.metaKey}}}var t=this,r;t.injects=r={cfg:"webswing.config",send:"socket.send",getInput:"canvas.getInput",getCanvas:"canvas.get",cut:"clipboard.cut",copy:"clipboard.copy",paste:"clipboard.paste"},t.provides={register:m,sendInput:h,dispose:v},t.ready=function(){};var i=!1,s=null,o=null,u=null,a=null,f=0,l=[],c=0}}),webswingRequirejs.define("text!templates/touch.html",[],function(){return'<div data-id="touchBar" class="ws-toolbar-container">\n	<div data-id="contentBar" class="ws-touchbar">\n		<div class="ws-toolbar-container">\n			<button data-id="kbdBtn" class="ws-touchbar-btn ws-right">Keyboard</button>\n		</div>\n	</div>\n</div>'}),function(e,t,n,r){function l(e,t,n){return setTimeout(m(e,n),t)}function c(e,t,n){return Array.isArray(e)?(h(e,n[t],n),!0):!1}function h(e,t,n){var i;if(!e)return;if(e.forEach)e.forEach(t,n);else if(e.length!==r){i=0;while(i<e.length)t.call(n,e[i],i,e),i++}else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function p(e,t,n){var i=Object.keys(t),s=0;while(s<i.length){if(!n||n&&e[i[s]]===r)e[i[s]]=t[i[s]];s++}return e}function d(e,t){return p(e,t,!0)}function v(e,t,n){var r=t.prototype,i;i=e.prototype=Object.create(r),i.constructor=e,i._super=r,n&&p(i,n)}function m(e,t){return function(){return e.apply(t,arguments)}}function g(e,t){return typeof e==o?e.apply(t?t[0]||r:r,t):e}function y(e,t){return e===r?t:e}function b(e,t,n){h(x(t),function(t){e.addEventListener(t,n,!1)})}function w(e,t,n){h(x(t),function(t){e.removeEventListener(t,n,!1)})}function E(e,t){while(e){if(e==t)return!0;e=e.parentNode}return!1}function S(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function T(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);var r=0;while(r<e.length){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function N(e){return Array.prototype.slice.call(e,0)}function C(e,t,n){var r=[],i=[],s=0;while(s<e.length){var o=t?e[s][t]:e[s];T(i,o)<0&&r.push(e[s]),i[s]=o,s++}return n&&(t?r=r.sort(function(n,r){return n[t]>r[t]}):r=r.sort()),r}function k(e,t){var n,s,o=t[0].toUpperCase()+t.slice(1),u=0;while(u<i.length){n=i[u],s=n?n+o:t;if(s in e)return s;u++}return r}function A(){return L++}function O(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function et(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){g(e.options.enable,[e])&&n.handler(t)},this.init()}function tt(e){var t,n=e.options.inputClass;return n?t=n:D?t=St:P?t=Ot:_?t=_t:t=gt,new t(e,nt)}function nt(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,s=t&q&&r-i===0,o=t&(U|z)&&r-i===0;n.isFirst=!!s,n.isFinal=!!o,s&&(e.session={}),n.eventType=t,rt(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function rt(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=ot(t)),i>1&&!n.firstMultiple?n.firstMultiple=ot(t):i===1&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,u=o?o.center:s.center,a=t.center=ut(r);t.timeStamp=f(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=ct(u,a),t.distance=lt(u,a),it(n,t),t.offsetDirection=ft(t.deltaX,t.deltaY),t.scale=o?pt(o.pointers,r):1,t.rotation=o?ht(o.pointers,r):0,st(n,t);var l=e.element;E(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function it(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},s=e.prevInput||{};if(t.eventType===q||s.eventType===U)i=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y};t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function st(e,t){var n=e.lastInterval||t,i=t.timeStamp-n.timeStamp,s,o,u,f;if(t.eventType!=z&&(i>I||n.velocity===r)){var l=n.deltaX-t.deltaX,c=n.deltaY-t.deltaY,h=at(i,l,c);o=h.x,u=h.y,s=a(h.x)>a(h.y)?h.x:h.y,f=ft(l,c),e.lastInterval=t}else s=n.velocity,o=n.velocityX,u=n.velocityY,f=n.direction;t.velocity=s,t.velocityX=o,t.velocityY=u,t.direction=f}function ot(e){var t=[],n=0;while(n<e.pointers.length)t[n]={clientX:u(e.pointers[n].clientX),clientY:u(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:ut(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ut(e){var t=e.length;if(t===1)return{x:u(e[0].clientX),y:u(e[0].clientY)};var n=0,r=0,i=0;while(i<t)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:u(n/t),y:u(r/t)}}function at(e,t,n){return{x:t/e||0,y:n/e||0}}function ft(e,t){return e===t?W:a(e)>=a(t)?e>0?X:V:t>0?$:J}function lt(e,t,n){n||(n=Y);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function ct(e,t,n){n||(n=Y);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.atan2(i,r)*180/Math.PI}function ht(e,t){return ct(t[1],t[0],Z)-ct(e[1],e[0],Z)}function pt(e,t){return lt(t[0],t[1],Z)/lt(e[0],e[1],Z)}function gt(){this.evEl=vt,this.evWin=mt,this.allow=!0,this.pressed=!1,et.apply(this,arguments)}function St(){this.evEl=wt,this.evWin=Et,et.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function Ct(){this.evTarget=Tt,this.evWin=Nt,this.started=!1,et.apply(this,arguments)}function kt(e,t){var n=N(e.touches),r=N(e.changedTouches);return t&(U|z)&&(n=C(n.concat(r),"identifier",!0)),[n,r]}function Ot(){this.evTarget=At,this.targetIds={},et.apply(this,arguments)}function Mt(e,t){var n=N(e.touches),r=this.targetIds;if(t&(q|R)&&n.length===1)return r[n[0].identifier]=!0,[n,n];var i,s,o=N(e.changedTouches),u=[],a=this.target;s=n.filter(function(e){return E(e.target,a)});if(t===q){i=0;while(i<s.length)r[s[i].identifier]=!0,i++}i=0;while(i<o.length)r[o[i].identifier]&&u.push(o[i]),t&(U|z)&&delete r[o[i].identifier],i++;if(!u.length)return;return[C(s.concat(u),"identifier",!0),u]}function _t(){et.apply(this,arguments);var e=m(this.handler,this);this.touch=new Ot(this.manager,e),this.mouse=new gt(this.manager,e)}function Rt(e,t){this.manager=e,this.set(t)}function Ut(e){if(S(e,Ft))return Ft;var t=S(e,It),n=S(e,qt);return t&&n?It+" "+qt:t||n?t?It:qt:S(e,jt)?jt:Bt}function Qt(e){this.id=A(),this.manager=null,this.options=d(e||{},this.defaults),this.options.enable=y(this.options.enable,!0),this.state=zt,this.simultaneous={},this.requireFail=[]}function Gt(e){return e&Jt?"cancel":e&Vt?"end":e&Xt?"move":e&Wt?"start":""}function Yt(e){return e==J?"down":e==$?"up":e==X?"left":e==V?"right":""}function Zt(e,t){var n=t.manager;return n?n.get(e):e}function en(){Qt.apply(this,arguments)}function tn(){en.apply(this,arguments),this.pX=null,this.pY=null}function nn(){en.apply(this,arguments)}function rn(){Qt.apply(this,arguments),this._timer=null,this._input=null}function sn(){en.apply(this,arguments)}function on(){en.apply(this,arguments)}function un(){Qt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function an(e,t){return t=t||{},t.recognizers=y(t.recognizers,an.defaults.preset),new cn(e,t)}function cn(e,t){t=t||{},this.options=d(t,an.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=tt(this),this.touchAction=new Rt(this,this.options.touchAction),hn(this,!0),h(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function hn(e,t){var n=e.element;h(e.options.cssProps,function(e,r){n.style[k(n.style,r)]=t?e:""})}function pn(e,n){var r=t.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=n,n.target.dispatchEvent(r)}var i=["","webkit","moz","MS","ms","o"],s=t.createElement("div"),o="function",u=Math.round,a=Math.abs,f=Date.now,L=1,M=/mobile|tablet|ip(ad|hone|od)|android/i,_="ontouchstart"in e,D=k(e,"PointerEvent")!==r,P=_&&M.test(navigator.userAgent),H="touch",B="pen",j="mouse",F="kinect",I=25,q=1,R=2,U=4,z=8,W=1,X=2,V=4,$=8,J=16,K=X|V,Q=$|J,G=K|Q,Y=["x","y"],Z=["clientX","clientY"];et.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(O(this.element),this.evWin,this.domHandler)}};var dt={mousedown:q,mousemove:R,mouseup:U},vt="mousedown",mt="mousemove mouseup";v(gt,et,{handler:function(t){var n=dt[t.type];n&q&&t.button===0&&(this.pressed=!0),n&R&&t.which!==1&&(n=U);if(!this.pressed||!this.allow)return;n&U&&(this.pressed=!1),this.callback(this.manager,n,{pointers:[t],changedPointers:[t],pointerType:j,srcEvent:t})}});var yt={pointerdown:q,pointermove:R,pointerup:U,pointercancel:z,pointerout:z},bt={2:H,3:B,4:j,5:F},wt="pointerdown",Et="pointermove pointerup pointercancel";e.MSPointerEvent&&(wt="MSPointerDown",Et="MSPointerMove MSPointerUp MSPointerCancel"),v(St,et,{handler:function(t){var n=this.store,r=!1,i=t.type.toLowerCase().replace("ms",""),s=yt[i],o=bt[t.pointerType]||t.pointerType,u=o==H,a=T(n,t.pointerId,"pointerId");s&q&&(t.button===0||u)?a<0&&(n.push(t),a=n.length-1):s&(U|z)&&(r=!0);if(a<0)return;n[a]=t,this.callback(this.manager,s,{pointers:n,changedPointers:[t],pointerType:o,srcEvent:t}),r&&n.splice(a,1)}});var xt={touchstart:q,touchmove:R,touchend:U,touchcancel:z},Tt="touchstart",Nt="touchstart touchmove touchend touchcancel";v(Ct,et,{handler:function(t){var n=xt[t.type];n===q&&(this.started=!0);if(!this.started)return;var r=kt.call(this,t,n);n&(U|z)&&r[0].length-r[1].length===0&&(this.started=!1),this.callback(this.manager,n,{pointers:r[0],changedPointers:r[1],pointerType:H,srcEvent:t})}});var Lt={touchstart:q,touchmove:R,touchend:U,touchcancel:z},At="touchstart touchmove touchend touchcancel";v(Ot,et,{handler:function(t){var n=Lt[t.type],r=Mt.call(this,t,n);if(!r)return;this.callback(this.manager,n,{pointers:r[0],changedPointers:r[1],pointerType:H,srcEvent:t})}}),v(_t,et,{handler:function(t,n,r){var i=r.pointerType==H,s=r.pointerType==j;if(i)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;n&(U|z)&&(this.mouse.allow=!0),this.callback(t,n,r)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Dt=k(s.style,"touchAction"),Pt=Dt!==r,Ht="compute",Bt="auto",jt="manipulation",Ft="none",It="pan-x",qt="pan-y";Rt.prototype={set:function(e){e==Ht&&(e=this.compute()),Pt&&(this.manager.element.style[Dt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return h(this.manager.recognizers,function(t){g(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Ut(e.join(" "))},preventDefaults:function(e){if(Pt)return;var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented){t.preventDefault();return}var r=this.actions,i=S(r,Ft),s=S(r,qt),o=S(r,It);if(i||s&&n&K||o&&n&Q)return this.preventSrc(t)},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var zt=1,Wt=2,Xt=4,Vt=8,$t=Vt,Jt=16,Kt=32;Qt.prototype={defaults:{},set:function(e){return p(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(c(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=Zt(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return c(e,"dropRecognizeWith",this)?this:(e=Zt(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(c(e,"requireFailure",this))return this;var t=this.requireFail;return e=Zt(e,this),T(t,e)===-1&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(c(e,"dropRequireFailure",this))return this;e=Zt(e,this);var t=T(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function r(r){t.manager.emit(t.options.event+(r?Gt(n):""),e)}var t=this,n=this.state;n<Vt&&r(!0),r(),n>=Vt&&r(!0)},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Kt},canEmit:function(){var e=0;while(e<this.requireFail.length){if(!(this.requireFail[e].state&(Kt|zt)))return!1;e++}return!0},recognize:function(e){var t=p({},e);if(!g(this.options.enable,[this,t])){this.reset(),this.state=Kt;return}this.state&($t|Jt|Kt)&&(this.state=zt),this.state=this.process(t),this.state&(Wt|Xt|Vt|Jt)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},v(en,Qt,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return t===0||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(Wt|Xt),i=this.attrTest(e);if(r&&(n&z||!i))return t|Jt;if(r||i)return n&U?t|Vt:t&Wt?t|Xt:Wt;return Kt}}),v(tn,en,{defaults:{event:"pan",threshold:10,pointers:1,direction:G},getTouchAction:function(){var e=this.options.direction,t=[];return e&K&&t.push(qt),e&Q&&t.push(It),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,s=e.deltaX,o=e.deltaY;return i&t.direction||(t.direction&K?(i=s===0?W:s<0?X:V,n=s!=this.pX,r=Math.abs(e.deltaX)):(i=o===0?W:o<0?$:J,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return en.prototype.attrTest.call(this,e)&&(this.state&Wt||!(this.state&Wt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Yt(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),v(nn,en,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ft]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Wt)},emit:function(e){this._super.emit.call(this,e);if(e.scale!==1){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),v(rn,Qt,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Bt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;this._input=e;if(!r||!n||e.eventType&(U|z)&&!i)this.reset();else if(e.eventType&q)this.reset(),this._timer=l(function(){this.state=$t,this.tryEmit()},t.time,this);else if(e.eventType&U)return $t;return Kt},reset:function(){clearTimeout(this._timer)},emit:function(e){if(this.state!==$t)return;e&&e.eventType&U?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input))}}),v(sn,en,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ft]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Wt)}}),v(on,en,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:K|Q,pointers:1},getTouchAction:function(){return tn.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,n;return t&(K|Q)?n=e.velocity:t&K?n=e.velocityX:t&Q&&(n=e.velocityY),this._super.attrTest.call(this,e)&&t&e.direction&&e.distance>this.options.threshold&&a(n)>this.options.velocity&&e.eventType&U},emit:function(e){var t=Yt(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),v(un,Qt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[jt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;this.reset();if(e.eventType&q&&this.count===0)return this.failTimeout();if(r&&i&&n){if(e.eventType!=U)return this.failTimeout();var s=this.pTime?e.timeStamp-this.pTime<t.interval:!0,o=!this.pCenter||lt(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,!o||!s?this.count=1:this.count+=1,this._input=e;var u=this.count%t.taps;if(u===0)return this.hasRequireFailures()?(this._timer=l(function(){this.state=$t,this.tryEmit()},t.interval,this),Wt):$t}return Kt},failTimeout:function(){return this._timer=l(function(){this.state=Kt},this.options.interval,this),Kt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==$t&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),an.VERSION="2.0.4",an.defaults={domEvents:!1,touchAction:Ht,enable:!0,inputTarget:null,inputClass:null,preset:[[sn,{enable:!1}],[nn,{enable:!1},["rotate"]],[on,{direction:K}],[tn,{direction:K},["swipe"]],[un],[un,{event:"doubletap",taps:2},["tap"]],[rn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var fn=1,ln=2;cn.prototype={set:function(e){return p(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?ln:fn},recognize:function(e){var t=this.session;if(t.stopped)return;this.touchAction.preventDefaults(e);var n,r=this.recognizers,i=t.curRecognizer;if(!i||i&&i.state&$t)i=t.curRecognizer=null;var s=0;while(s<r.length)n=r[s],t.stopped!==ln&&(!i||n==i||n.canRecognizeWith(i))?n.recognize(e):n.reset(),!i&&n.state&(Wt|Xt|Vt)&&(i=t.curRecognizer=n),s++},get:function(e){if(e instanceof Qt)return e;var t=this.recognizers;for(var n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(c(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(c(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(T(t,e),1),this.touchAction.update(),this},on:function(e,t){var n=this.handlers;return h(x(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return h(x(e),function(e){t?n[e].splice(T(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&pn(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(!n||!n.length)return;t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};var r=0;while(r<n.length)n[r](t),r++},destroy:function(){this.element&&hn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},p(an,{INPUT_START:q,INPUT_MOVE:R,INPUT_END:U,INPUT_CANCEL:z,STATE_POSSIBLE:zt,STATE_BEGAN:Wt,STATE_CHANGED:Xt,STATE_ENDED:Vt,STATE_RECOGNIZED:$t,STATE_CANCELLED:Jt,STATE_FAILED:Kt,DIRECTION_NONE:W,DIRECTION_LEFT:X,DIRECTION_RIGHT:V,DIRECTION_UP:$,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:Q,DIRECTION_ALL:G,Manager:cn,Input:et,TouchAction:Rt,TouchInput:Ot,MouseInput:gt,PointerEventInput:St,TouchMouseInput:_t,SingleTouchInput:Ct,Recognizer:Qt,AttrRecognizer:en,Tap:un,Pan:tn,Swipe:on,Pinch:nn,Rotate:sn,Press:rn,on:b,off:w,each:h,merge:d,extend:p,inherit:v,bindFn:m,prefixed:k}),typeof webswingRequirejs.define=="function"&&webswingRequirejs.define.amd?webswingRequirejs.define("hammer",[],function(){return an}):typeof module!="undefined"&&module.exports?module.exports=an:e[n]=an}(window,document,"Hammer"),webswingRequirejs.define("webswing-touch",["jquery","text!templates/touch.html","webswing-util","hammer"],function(t,n,r,i){return function(){function h(){if(!c){var e=o.getCanvas();u=new i(e,{touchAction:"manipulation"}),u.get("tap").set({threshold:4}),u.on("tap",function(t){if(t.pointerType==="touch"){var n=d(e,t,1);o.send(n),v(),e.focus()}}),u.on("press",function(t){if(t.pointerType==="touch"){var n=d(e,t,3);o.send(n)}}),c=!0}}function p(e){e.value=" ",e.focus(),e.select()}function d(e,t,n){function o(e){return{mouse:{x:i,y:s,type:e,button:n,buttons:n==1?2:8}}}var r=e.getBoundingClientRect(),i=Math.round(t.center.x-r.left),s=Math.round(t.center.y-r.top);return{events:[o("mousedown"),o("mouseup")]}}function v(){a!=null&&g(),o.cfg.rootElement.append(n),a=o.cfg.rootElement.find('div[data-id="touchBar"]'),a.find('button[data-id="kbdBtn"]').on("click",function(e){o.cfg.virtualKB=!0,p(o.getInput()),g(),t(o.getInput()).on("input compositionstart compositionupdate compositionend",m),t(o.getInput()).on("blur",function(e){o.cfg.virtualKB=!1,t(o.getInput()).off("compositionstart compositionupdate compositionend")})}),a.show("fast")}function m(e){e.type==="compositionstart"&&(f=e.originalEvent.data,l=!0);if(e.type==="compositionupdate"||e.type==="compositionend"){var t=e.originalEvent.data;t.indexOf(f)==0?y(t.substring(f.length)):(b(f.length),y(t)),f=t}e.type==="compositionend"&&(f="",setTimeout(function(){e.currentTarget.value="",l=!1},0));if(e.type==="input"&&!l){var t=e.originalEvent.target.value;y(t),e.currentTarget.value=""}}function g(){a!=null&&(a.hide("fast"),a.remove(),a=null)}function y(e){for(var t=0,n=e.length;t<n;t++){var r=0;r=e.charCodeAt(t),o.send({events:[w("keydown",r),w("keypress",r),w("keyup",r)]})}}function b(e){var t=[];for(var n=0;n<e;n++)t.push(w("keydown",8,8)),t.push(w("keyup",8,8));o.send({events:t})}function w(e,t,n){return{key:{type:e,character:t,keycode:n!=null?n:0,alt:!1,ctrl:!1,shift:!1,meta:!1}}}function E(){g(),u=null,f="",l=!1,c=!1}var s=this,o;s.injects=o={cfg:"webswing.config",send:"socket.send",getInput:"canvas.getInput",getCanvas:"canvas.get"},s.provides={register:h,dispose:E},s.ready=function(){r.preventGhosts(o.cfg.rootElement)};var u,a,f="",l=!1,c=!1}}),webswingRequirejs.define("webswing-inject",[],function(){return function(){function s(e,t){t!=null&&(t.provides!=null&&(n[e]=t.provides),t.injects!=null&&(r[e]=t.injects),t.ready!=null&&(i[e]=t.ready))}function o(){var e="";for(var t in r)try{u(r[t])}catch(n){if(!(n instanceof f))throw n;e+="	Module "+t+" :\n"+n+"\n"}if(e.length>0)throw new f("Dependency injection errors:\n"+e);for(var t in i)try{i[t]()}catch(n){if(!(n instanceof f))throw n;e+="	Module "+t+" ready function :\n"+n+"\n"}if(e.length>0)throw new f("Starting modules failed:\n"+e)}function u(e){var t="";for(var r in e)try{var i=e[r];if(typeof i=="string"){var s=a(n,i);e[r]=s}}catch(o){if(!(o instanceof f))throw o;t+="		Field "+r+" not injected: "+o+"\n"}if(t.length>0)throw new f(t)}function a(e,t){function r(e,t){if(e.hasOwnProperty(t))return e[t];throw new Error}try{return t.split(".").reduce(r,e)}catch(n){throw new f("service "+t+" not found.")}}function f(e){this.name="Dependency Error",this.message=e,this.toString=function(){return this.message}}var t=this;t.module=s,t.injectAndVerify=o;var n=t.services={},r=t.inject={},i=t.ready={}}}),webswingRequirejs.define("webswing-ping",[],function(){return function(){function h(){u=0,s=m(a);var e=n.cfg.connectionUrl;if(e.indexOf("http")!=0){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e=t+e}var l=URL.createObjectURL(new Blob(["onmessage=(",v.toString(),')("'+e+'",'+f+")"],{type:"application/javascript"}));i=new Worker(l),i.onmessage=function(e){var t=JSON.parse(e.data);s.push(t),t.result==="ok"&&(n.sendInput({timestamps:{ping:t.latency}}),o==2&&(s=m(a))),p()},r=setInterval(function(){i.postMessage("doPing")},f*1e3)}function p(){var e=null,t=0,r=0,i=0;for(var f in s){var h=s[f];"error"===h.result||"timeout"===h.result?(r++,i++):h.latency>l&&r++}i==a?(e=n.dialogContent.networkOfflineWarningDialog,o=2):r>=c?(e=n.dialogContent.networkSlowWarningDialog,o=1):o=0,e!=null&&o!=u?n.showWarning(e):n.hideWarning()}function d(e){u=e}function v(e,t){function r(){var t=(new Date).getTime(),r=new XMLHttpRequest;r.addEventListener("load",function(e){i("ok",(new Date).getTime()-t)}),r.addEventListener("error",function(e){i("error",(new Date).getTime()-t)}),r.addEventListener("timeout",function(e){i("timeout",(new Date).getTime()-t)}),r.open("GET",e+"rest/ping"),r.timeout=n,r.send()}function i(e,t){postMessage(JSON.stringify({result:e,latency:t}))}var n=t*1e3;return function(t){t.data==="doPing"&&r()}}function m(e){var t=new Array;return t.push=function(){return this.length>=e&&this.shift(),Array.prototype.push.apply(this,arguments)},t}function g(){i!=null&&i.terminate(),r!=null&&(clearInterval(r),r=null)}var t=this,n,r,i,s,o,u,a=6,f=5,l=500,c=3;t.injects=n={cfg:"webswing.config",sendInput:"input.sendInput",showWarning:"dialog.showNetworkBar",hideWarning:"dialog.hideNetworkBar",dialogContent:"dialog.content"},t.provides={mutePingWarning:d,start:h,dispose:g},t.ready=function(){}}}),webswingRequirejs.define("webswing",["jquery","webswing-util","webswing-polyfill","webswing-base","webswing-socket","webswing-files","webswing-dialog","webswing-login","webswing-canvas","webswing-identity","webswing-jslink","webswing-clipboard","webswing-playback","webswing-input","webswing-touch","webswing-inject","webswing-translate","webswing-ping"],function(t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y){function x(e){e=e!=null?e:w;var n={},r=t("[data-webswing-instance]");r.each(function(r,i){var s=t(i).data("webswingInstance"),o=t(i).data("webswingActive");if(!o){var u;e[s]!=null&&e[s].options!=null&&(t(i).data("webswingOptions",e[s].options),e[s].options.customization!=null&&typeof e[s].options.customization=="function"&&(u=e[s].options.customization)),t(i).find("#loading").remove();var a=T(t(i),u);t(i).attr("data-webswing-active","true"),s!=null&&(n[s]=a)}});for(var i in n)e[i]!=null&&e[i].disconnect!=null&&(console.warn("Bootstrapping Webswing instance named '"+i+"'.Instance with this name has already been bootstrapped. Disconnecting old instance."),e[i].disconnect(),delete e[i]),e[i]=t.extend(n[i],e[i])}function T(e,t){var n=new m;n.module("webswing",new N(e)),n.module("dialog",new u),n.module("canvas",new f),n.module("base",new i),n.module("input",new d),n.module("touch",new v),n.module("socket",new s),n.module("files",new o),n.module("login",new a),n.module("identity",new l),n.module("jslink",new c),n.module("clipboard",new h),n.module("playback",new p),n.module("translate",new g),n.module("ping",new y);var r={start:"webswing.start",disconnect:"webswing.disconnect",configure:"webswing.configure",kill:"base.kill",setControl:"webswing.setControl",repaint:"base.repaint",uuid:"socket.uuid"};return n.module("external",{provides:r,injects:r}),t!=null&&t(n),n.injectAndVerify(),r}function N(e){function s(){return{rootElement:o(e),autoStart:!1,args:null,connectionUrl:location.origin+location.pathname,mirror:!1,recordingPlayback:!1,typedArraysSupported:E,binarySocket:!0,recording:!1,debugPort:null,javaCallTimeout:3e3,documentBase:document.location.origin+document.location.pathname,ieVersion:n.detectIE(),isMac:n.detectMac(),clientId:null,viewId:null,hasControl:!1,mirrorMode:!1,canPaint:!1,virtualKB:!1,traceLog:!1,touchMode:!1}}function o(e){return e.addClass("webswing-element")}function u(){if(!n.checkCookie()){i.showDialog(i.cookiesDisabledDialog);return}i.login(function(){i.startPing(),i.showDialog(i.initializingDialog),i.connect()})}function a(){i.disconnect(),i.disposeIdentity(),i.start()}function f(){i.disconnect(),i.start()}function l(){i.disposeFileDialog(),i.disposeBase(),i.disposeInput(),i.disposeTouch(),i.disposeCanvas(),i.disposeSocket(),i.disposeCopyBar(),i.disposePing()}function c(e,n){var r=i.cfg;e=e!=null?e:p(r.rootElement);if(e==null)return t.extend(!0,[],r);r.autoStart=e.autoStart!=null?JSON.parse(e.autoStart):r.autoStart,r.securityToken=e.securityToken!=null?e.securityToken:r.securityToken,r.realm=e.realm!=null?e.realm:r.realm,r.args=e.args!=null?e.args:r.args,r.binarySocket=e.binarySocket!=null?JSON.parse(e.binarySocket):r.binarySocket,r.recording=e.recording!=null?JSON.parse(e.recording):r.recording,r.clientId=e.clientId!=null?e.clientId:r.clientId,r.mirror=e.mirrorMode!=null?JSON.parse(e.mirrorMode):r.mirror,r.connectionUrl=e.connectionUrl!=null?e.connectionUrl:r.connectionUrl,r.debugPort=e.debugPort!=null?e.debugPort:r.debugPort,r.debugLog=e.debugLog!=null?JSON.parse(e.debugLog):r.debugLog,r.traceLog=e.traceLog!=null?JSON.parse(e.traceLog):r.traceLog,r.javaCallTimeout=e.javaCallTimeout!=null?parseInt(e.javaCallTimeout,10):r.javaCallTimeout,r.connectionUrl.substr(r.connectionUrl.length-1)!=="/"&&(r.connectionUrl=r.connectionUrl+"/"),e.recordingPlayback!=null&&(r.recordingPlayback=e.recordingPlayback,i.showPlaybackControls()),r.onReady=typeof e.onReady=="function"?e.onReady:r.onReady,n=n!=null?n:d(r.rootElement);if(n!=null){r.params=[];for(var s in n)typeof n[s]=="string"&&r.params.push({name:s,value:n[s]})}}function h(e){i.cfg.hasControl=e?!0:!1}function p(e){var t=e.data("webswingOptions");return t}function d(e){var n={},r=t(e).find("webswing-param");for(var i=0;i<r.length;i++){var s=r[i].getAttribute("name"),o=r[i].getAttribute("value");s!=null&&(n[s]=o)}return n}var r=this,i;r.injects=i={cfg:"webswing.config",start:"webswing.start",disconnect:"webswing.disconnect",login:"login.login",connect:"socket.connect",showDialog:"dialog.show",readyDialog:"dialog.content.readyDialog",initializingDialog:"dialog.content.initializingDialog",cookiesDisabledDialog:"dialog.content.cookiesDisabledDialog",disposeIdentity:"identity.dispose",disposeBase:"base.dispose",disposeCanvas:"canvas.dispose",disposeTouch:"touch.dispose",disposeInput:"input.dispose",disposeSocket:"socket.dispose",disposeFileDialog:"files.close",disposeCopyBar:"clipboard.dispose",disposePing:"ping.dispose",startPing:"ping.start",showPlaybackControls:"playback.showControls",externalApi:"external"},r.provides={config:s(),start:u,newSession:a,reTrySession:f,disconnect:l,setControl:h,configure:c},r.ready=function(){c(),typeof i.cfg.onReady=="function"&&i.login(function(){i.cfg.onReady(i.externalApi)}),i.cfg.autoStart?i.start():i.showDialog(i.readyDialog)}}var b=t("[data-webswing-global-var]"),w={},E=r();if(b!=null&&b.length!==0){var S=b.data("webswingGlobalVar");w=window[S]={scan:x,bootstrap:T,utils:n,$:t},x(window)}else x(window)}),function(e){webswingRequirejs.require.config({baseUrl:"javascript",map:{"*":{jquery:"jquery-private"},"jquery-private":{jquery:"jquery"}}});try{var t=localStorage.getItem("webswingLang")}catch(n){console.log(n)}var r=t||navigator.browserLanguage||navigator.language;webswingRequirejs.require({locale:r},["webswing"],function(){},function(e){var t=e.requireModules&&e.requireModules[0];throw console.error(e),Error("Error while starting webswing in module '"+t+"'. Reason: "+e)})}(this),webswingRequirejs.define("main",function(){}),webswingRequirejs.define("jquery-private",["jquery"],function(e){return e.noConflict(!0)}),webswingRequirejs.define("webswing-embed",function(){});var webswingScriptInitializationSuccessfull=!0}catch(e){if(!webswingScriptInitializationSuccessfull){function getAllElementsWithAttribute(e){var t=[],n=document.getElementsByTagName("*");for(var r=0,i=n.length;r<i;r++)n[r].getAttribute(e)!==null&&t.push(n[r]);return t}var elements=getAllElementsWithAttribute("data-webswing-instance");for(var i=0;i<elements.length;i++)elements[i].innerHTML='<h1>Your Browser is no longer supported.</h1>\r\n<p>Please upgrade your browser to one of following.<p>\r\n<table width="650px" cellpadding="5">\r\n	<tbody>\r\n		<tr>\r\n			<td align="center" valign="center" width="120px"><a href="https://www.google.com/chrome/?hl=en_GB"><img src="//ssl.gstatic.com/images/icons/product/chrome-128.png" width="128px" height="128px"></a></td>\r\n			<td align="center" valign="center" width="120px"><a href="//www.microsoft.com/windows/internet-explorer/default.aspx"><img src="//ssl.gstatic.com/s2/profiles/images/ie.gif" width="120px" height="115px"></a></td>\r\n			<td align="center" valign="center" width="120px"><a href="//www.mozilla.com/firefox/"><img src="//ssl.gstatic.com/s2/profiles/images/firefox.gif" width="120px" height="118px"></a></td>\r\n			<td align="center" valign="center" width="120px"><a href="//www.apple.com/safari/download/"><img src="//ssl.gstatic.com/s2/profiles/images/safari.png" width="120px" height="120px"></a></td>\r\n		</tr>\r\n		<tr>\r\n			<td align="center" valign="top"><a href="https://www.google.com/chrome/?hl=en_GB">Download Chrome now</a></td>\r\n			<td align="center" valign="top"><a href="//www.microsoft.com/windows/internet-explorer/default.aspx">Download Internet Explorer (version 9+)</a></td>\r\n			<td align="center" valign="top"><a href="//www.mozilla.com/firefox/">Download Firefox</a></td>\r\n			<td align="center" valign="top"><a href="//www.apple.com/safari/download/">Download Safari</a></td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n'}throw e};